<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE us-patent-application SYSTEM "us-patent-application-v42-2006-08-23.dtd" [ ]>
<us-patent-application lang="EN" dtd-version="v4.2 2006-08-23" file="US20070002792A1-20070104.XML" status="PRODUCTION" id="us-patent-application" country="US" date-produced="20061221" date-publ="20070104">
<us-bibliographic-data-application lang="EN" country="US">
<publication-reference>
<document-id>
<country>US</country>
<doc-number>20070002792</doc-number>
<kind>A1</kind>
<date>20070104</date>
</document-id>
</publication-reference>
<application-reference appl-type="utility">
<document-id>
<country>US</country>
<doc-number>11428535</doc-number>
<date>20060703</date>
</document-id>
</application-reference>
<us-application-series-code>11</us-application-series-code>
<classifications-ipcr>
<classification-ipcr>
<ipc-version-indicator><date>20060101</date></ipc-version-indicator>
<classification-level>A</classification-level>
<section>H</section>
<class>04</class>
<subclass>Q</subclass>
<main-group>7</main-group>
<subgroup>00</subgroup>
<symbol-position>F</symbol-position>
<classification-value>I</classification-value>
<action-date><date>20070104</date></action-date>
<generating-office><country>US</country></generating-office>
<classification-status>B</classification-status>
<classification-data-source>H</classification-data-source>
</classification-ipcr>
</classifications-ipcr>
<classification-national>
<country>US</country>
<main-classification>370328000</main-classification>
</classification-national>
<invention-title id="d0e102">COMMUNICATING VIA NONDETERMINISTIC AND DETERMINISTIC NETWORK ROUTING</invention-title>
<us-related-documents>
<us-provisional-application>
<document-id>
<country>US</country>
<doc-number>60696159</doc-number>
<date>20050701</date>
</document-id>
</us-provisional-application>
</us-related-documents>
<parties>
<applicants>
<applicant sequence="00" app-type="applicant-inventor" designation="us-only">
<addressbook>
<last-name>TWITCHELL</last-name>
<first-name>Robert</first-name>
<middle-name>W.</middle-name>
<suffix>JR.</suffix>
<address>
<address-1>2475 Flat Stone Drive</address-1>
<city>Cumming</city>
<state>GA</state>
<postcode>30041</postcode>
<country>US</country>
</address>
</addressbook>
<nationality>
<country>US</country>
</nationality>
<residence>
<country>US</country>
</residence>
</applicant>
</applicants>
<correspondence-address>
<addressbook>
<name>TILLMAN WRIGHT, PLLC</name>
<address>
<address-1>PO BOX 471581</address-1>
<city>CHARLOTTE</city>
<state>NC</state>
<postcode>28247</postcode>
<country>US</country>
</address>
</addressbook>
</correspondence-address>
</parties>
<assignees>
<assignee>
<addressbook>
<orgname>TERAHOP NETWORKS, INC.</orgname>
<role>02</role>
<address>
<address-1>1225 Old Alpharetta Road, Suite 210</address-1>
<city>Alpharetta</city>
<state>GA</state>
<country>US</country>
</address>
</addressbook>
</assignee>
</assignees>
</us-bibliographic-data-application>
<abstract id="abstract">
<p id="p-0001" num="0000">In a wireless network that includes a plurality of nodes, a method of communicating a message from an originating node, intended for receipt by a destination node, via one or more intermediate nodes, includes the steps of: (a) communicating with just a single node within the communications range of the originating node&#x2014;including sending the message and the known network pathway&#x2014;if a network pathway to the destination node is known by the originating node, the single node being the first intermediate node identified in the known network pathway; and (b) communicating with one or more first intermediate nodes within the communications range of the originating node&#x2014;including sending the message&#x2014;if a network pathway to the destination node is unknown by the originating node. </p>
</abstract>
<drawings id="DRAWINGS">
<figure id="figure-D00000" num="00000">
<img id="EMI-D00000" he="127.00mm" wi="108.14mm" file="US20070002792A1-20070104-D00000.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00001" num="00001">
<img id="EMI-D00001" he="215.48mm" wi="146.30mm" file="US20070002792A1-20070104-D00001.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00002" num="00002">
<img id="EMI-D00002" he="201.08mm" wi="95.33mm" file="US20070002792A1-20070104-D00002.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00003" num="00003">
<img id="EMI-D00003" he="201.51mm" wi="105.07mm" file="US20070002792A1-20070104-D00003.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00004" num="00004">
<img id="EMI-D00004" he="200.66mm" wi="99.65mm" file="US20070002792A1-20070104-D00004.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00005" num="00005">
<img id="EMI-D00005" he="204.22mm" wi="96.10mm" file="US20070002792A1-20070104-D00005.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00006" num="00006">
<img id="EMI-D00006" he="200.32mm" wi="100.41mm" file="US20070002792A1-20070104-D00006.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00007" num="00007">
<img id="EMI-D00007" he="201.42mm" wi="104.73mm" file="US20070002792A1-20070104-D00007.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00008" num="00008">
<img id="EMI-D00008" he="201.85mm" wi="97.28mm" file="US20070002792A1-20070104-D00008.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00009" num="00009">
<img id="EMI-D00009" he="227.92mm" wi="172.30mm" file="US20070002792A1-20070104-D00009.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00010" num="00010">
<img id="EMI-D00010" he="228.68mm" wi="170.77mm" file="US20070002792A1-20070104-D00010.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00011" num="00011">
<img id="EMI-D00011" he="230.63mm" wi="164.51mm" file="US20070002792A1-20070104-D00011.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00012" num="00012">
<img id="EMI-D00012" he="226.74mm" wi="168.06mm" file="US20070002792A1-20070104-D00012.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00013" num="00013">
<img id="EMI-D00013" he="239.95mm" wi="166.45mm" file="US20070002792A1-20070104-D00013.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00014" num="00014">
<img id="EMI-D00014" he="240.03mm" wi="159.51mm" file="US20070002792A1-20070104-D00014.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00015" num="00015">
<img id="EMI-D00015" he="239.18mm" wi="150.11mm" file="US20070002792A1-20070104-D00015.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00016" num="00016">
<img id="EMI-D00016" he="239.61mm" wi="162.64mm" file="US20070002792A1-20070104-D00016.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00017" num="00017">
<img id="EMI-D00017" he="240.79mm" wi="152.91mm" file="US20070002792A1-20070104-D00017.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00018" num="00018">
<img id="EMI-D00018" he="242.32mm" wi="165.27mm" file="US20070002792A1-20070104-D00018.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00019" num="00019">
<img id="EMI-D00019" he="238.00mm" wi="157.23mm" file="US20070002792A1-20070104-D00019.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00020" num="00020">
<img id="EMI-D00020" he="238.34mm" wi="158.67mm" file="US20070002792A1-20070104-D00020.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00021" num="00021">
<img id="EMI-D00021" he="238.42mm" wi="152.48mm" file="US20070002792A1-20070104-D00021.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00022" num="00022">
<img id="EMI-D00022" he="238.42mm" wi="157.56mm" file="US20070002792A1-20070104-D00022.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00023" num="00023">
<img id="EMI-D00023" he="240.03mm" wi="158.33mm" file="US20070002792A1-20070104-D00023.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00024" num="00024">
<img id="EMI-D00024" he="239.18mm" wi="159.85mm" file="US20070002792A1-20070104-D00024.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00025" num="00025">
<img id="EMI-D00025" he="236.90mm" wi="155.62mm" file="US20070002792A1-20070104-D00025.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00026" num="00026">
<img id="EMI-D00026" he="240.03mm" wi="159.09mm" file="US20070002792A1-20070104-D00026.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00027" num="00027">
<img id="EMI-D00027" he="238.84mm" wi="153.67mm" file="US20070002792A1-20070104-D00027.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00028" num="00028">
<img id="EMI-D00028" he="240.37mm" wi="159.09mm" file="US20070002792A1-20070104-D00028.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00029" num="00029">
<img id="EMI-D00029" he="239.61mm" wi="152.82mm" file="US20070002792A1-20070104-D00029.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
<figure id="figure-D00030" num="00030">
<img id="EMI-D00030" he="240.71mm" wi="155.62mm" file="US20070002792A1-20070104-D00030.TIF" alt="embedded image" img-content="drawing" img-format="tif"/>
</figure>
</drawings>
<description id="description">
<?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="lead"?>
<heading level="2" id="h-0001">CROSS-REFERENCE TO RELATED APPLICATIONS </heading>
<p id="p-0002" num="0001"> For purposes of the United States, the present application is a nonprovisional of, and claims priority under 35 U.S.C. &#xa7;119(e) to, Twitchell U.S. Provisional Patent Application No. 60/696,159 filed Jul. 1, 2005, which provisional patent application is hereby incorporated herein by reference. </p>
<heading level="2" id="h-0002">INCORPORATED REFERENCES </heading>
<p id="p-0003" num="0002"> The present application hereby incorporates by reference: Twitchell U.S. Pat. No. 6,934,540 B2 (titled &#x201c;Network Formation in Asset-Tracking System Based on Asset Class&#x201d;); Twitchell U.S. Pat. No. 6,745,027 B2 (titled &#x201c;Class Switched Networks for Tracking Articles&#x201d;); Twitchell U.S. Patent Application Publication No. 2005/0093703 A1 (titled &#x201c;Systems and Methods Having LPRF Device Wake Up Using Wireless Tag&#x201d;); Twitchell U.S. patent application Ser. No. 11/422,321 (titled &#x201c;Remote Sensor Interface (RSI) Stepped Wake-Up Sequence&#x201d;), which published as U.S. Patent Application Publication No. ______; and Twitchell U.S. patent application Ser. No. 11/423,127 (titled &#x201c;All Weather Housing Assembly For Electronic Components&#x201d;), which published as U.S. Patent Application Publication No. ______.</p>
<?cross-reference-to-related-applications description="Cross Reference To Related Applications" end="tail"?>
<?summary-of-invention description="Summary of Invention" end="lead"?>
<heading level="2" id="h-0003">COPYRIGHT STATEMENT </heading>
<p id="p-0004" num="0003"> All of the material in this patent document is subject to copyright protection under the copyright laws of the United States and other countries. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in official governmental records but, otherwise, all other copyright rights whatsoever are reserved. </p>
<heading level="2" id="h-0004">SUMMARY OF THE INVENTION </heading>
<p id="p-0005" num="0004"> The present invention broadly relates to wireless communications utilizing nondeterministic and deterministic networking and, in particular, to wireless communications utilizing nondeterministic and deterministic networking within ad hoc networking environments. Commercial implementations of the present invention are particularly suited for use in asset tracking networks, sensor data acquisition networks, and combinations thereof, including class-based networks. Such class-based networks are disclosed, for example, in U.S. Pat. Nos. 6,934,540 and 6,745,027, which have been incorporated herein by reference above. Commercial implementations of the present invention also may be particularly suited for use in voice and video conferencing communications between persons. </p>
<p id="p-0006" num="0005"> The present invention includes many aspects and features, and certain aspects and features of the present invention relate to a wireless network that includes a plurality of nodes. </p>
<p id="p-0007" num="0006"> In such a wireless network, a first aspect of the invention includes a method of communicating a message from an originating node, intended for receipt by a destination node, via one or more intermediate nodes, includes the step of communicating with all nodes within the communications range of the originating node&#x2014;including sending the message&#x2014;if a network pathway to the destination node is unknown by the originating node. </p>
<p id="p-0008" num="0007"> In a feature of this aspect, the method further includes communicating the message from the originating node by a first intermediate node by communicating with all nodes within the communications range of the first intermediate node if a network pathway to the destination node is unknown by the first intermediate node. The step of communicating by the first intermediate node includes sending the message and the link quality between the originating node and the first intermediate node. </p>
<p id="p-0009" num="0008"> In such a wireless network, another aspect of the invention includes a method of communicating a message from an originating node, intended for receipt by a destination node, via one or more intermediate nodes, includes the steps of: (a) communicating with just a single node within the communications range of the originating node if a network pathway to the destination node is known by the originating node, the single node being the first intermediate node identified in the known network pathway, said step of communicating including sending the message and the known network pathway to the first intermediate node; and (b) communicating with one or more first intermediate nodes within the communications range of the originating node if a network pathway to the destination node is unknown by the originating node, said step of communicating including sending the message. </p>
<p id="p-0010" num="0009"> In a feature of this aspect, the method further includes communicating the message by a first intermediate node by: (a) communicating with just a single node within the communications range of the first intermediate node if a network pathway to the destination node is known by the first intermediate node, the single node being the node identified next after the first intermediate node in the known network pathway, including sending, to the next identified node the message, the known network pathway, and the link quality between the originating node and the first intermediate node; and (b) communicating with one or more nodes within the communications range of the first intermediate node if a network pathway to the destination node is unknown by the first intermediate node, including sending the message, and the link quality between the originating node and the first intermediate node. </p>
<p id="p-0011" num="0010"> In another feature of this aspect, the method further includes communicating the message by the first intermediate node by: (a) communicating with just a single node within the communications range of the first intermediate node if a single network pathway to the destination node is known by the first intermediate node, the single node being the node identified next after the first intermediate node in the single network pathway, said step of communicating including sending, to the single node, the message, the known network pathway, and the link quality between the originating node and the first intermediate node; (b) if a plurality of network pathways to the destination node are known by the first intermediate node, then, determining a preferred network pathway from the plurality of known network pathways in accordance with an algorithm, and communicating with just a single node within the communications range of the first intermediate node, the single node being the node identified next after the first intermediate node in the preferred network pathway, including sending, to the next identified node, the message, the preferred network pathway, and the link quality between the originating node and the first intermediate node; and (c) if no network pathway is known by the first intermediate node, then communicating with one or more nodes within the communications range of the first intermediate node, including sending the message and the link quality between the originating node and the first intermediate node. Determining a preferred network pathway from the known network pathways in accordance with an algorithm may include comparing, for each known network pathway, the number of hops, between nodes, that are required to reach the destination node; and/or comparing the overall link quality of the respective known network pathways. </p>
<p id="p-0012" num="0011"> In such a wireless network, another aspect of the invention includes a method of maintaining, by a first node, information regarding communications links between nodes in the wireless network. The method includes the steps of: (a) for each communications link that is established with another node, recording an identification of the other node; and (b) for each message received by the first node from the other node through the communications link with the other node, recording a network pathway by which the message has been sent in the wireless network, the network pathway identifying the nodes and the communications links therebetween in the wireless network by which the message has been sent. </p>
<p id="p-0013" num="0012"> In a feature of this aspect, the method further includes recording, in association with the identification of the other node, data indicative of a link quality between the first node and the other node. </p>
<p id="p-0014" num="0013"> In a feature of this aspect, the method further includes recording, for each message received by the first node from the other node through the communications link with the other node, data indicative of a link quality between each communications link in the network pathway by which the message has been sent. </p>
<p id="p-0015" num="0014"> In a feature of this aspect, the method further includes recording, in association with the identification of the other node, data indicative of class designations of the other node. </p>
<p id="p-0016" num="0015"> In a feature of this aspect, the method further includes recording, for each message received by the first node from the other node through the communications link with the other node, data indicative of class designations of each node in the communications links in the network pathway by which the message has been sent. </p>
<p id="p-0017" num="0016"> In a feature of this aspect, the method further includes recording, for each message received by the first node from the other node through the communications link with the other node, data generally indicative of the time at which the message has been sent via the network pathway. </p>
<p id="p-0018" num="0017"> In a feature of this aspect, the method further includes recording, for each message received by the first node from the other node through the communications link with the other node, a network pathway to a destination node by which the message is being sent if such network pathway to the destination node is identified with the message. </p>
<p id="p-0019" num="0018"> In a feature of this aspect, the method further includes communicating, by the first node, the message to a subsequent node in the wireless network if the message is intended for receipt by a node other than the first node, including the steps of: determining whether one or more network pathways are known by the first node from the first node to the destination node of the message; communicating with just a single node within the communications range of the first node if a single network pathway to the destination node is known by the first node, the single node being the node identified next in the single network pathway after the first node, including sending, to the single node, the message, the single network pathway, and the link quality between the first node and the other node from which the message was received by the first node; and (c) if more than one network pathway to the destination node is known by the first node, then determining a preferred network pathway from the known network pathways in accordance with an algorithm, and communicating with just a single node within the communications range of the first node, the single node being the node identified next in the preferred network pathway after the first node, including sending, to the single node, the message, the preferred network pathway and the link quality between the first node and the other node from which the message was received by the first node; and (d) if no network pathway to the destination node is known by the first node, then communicating with one or more nodes within the communications range of the first node, including sending, the message and the link quality between the first node and the other node from which the message was received by the first node. Determining whether one or more network pathways are known by the first node from the first node to the destination node of the message may include searching the maintained information for a network pathway from the first node to the destination node, and the maintained information that is searched may include any network pathway to the destination node that is identified with the message. </p>
<p id="p-0020" num="0019"> In features of this aspect, determining a preferred network pathway from the known network pathways in accordance with an algorithm includes comparing the general times at which messages were sent via the network pathways; comparing the number of hops between nodes in the known network pathways; and/or comparing the overall link quality of the known network pathways. </p>
<p id="p-0021" num="0020"> In such a wireless network, another aspect of the invention includes a method of maintaining information regarding communications links between nodes in the wireless network includes recording, by a server, for each message that is received by the server from the wireless network, a network pathway by which the message has been sent in the wireless network, the network pathway identifying the nodes and the communications links therebetween in the wireless network by which the message has been sent. </p>
<p id="p-0022" num="0021"> In a feature of this aspect, the method further includes recording, in association with the identification of the nodes and the communications links therebetween in the wireless network by which the message has been sent, data indicative of a link quality for each communications link. </p>
<p id="p-0023" num="0022"> In a feature of this aspect, the method further includes recording, in association with each network pathway by which the message has been sent, data indicative of overall link quality for the network pathway. </p>
<p id="p-0024" num="0023"> In a feature of this aspect, the method further includes recording, in association with each network pathway by which the message has been sent, data generally indicative of the time at which the message was sent via the network pathway. </p>
<p id="p-0025" num="0024"> In a feature of this aspect, the method further includes: (a) determining, based on the maintained information, a network pathway for communicating a message to a destination node of the wireless network, and (b) communicating the message to a gateway node of the wireless network together with the determined network pathway to the destination node. </p>
<p id="p-0026" num="0025"> In a feature of this aspect, the method further includes distributing, to one or more nodes of the wireless network, information regarding communications links based on the information maintained by said server. </p>
<p id="p-0027" num="0026"> In a feature of this aspect, the method further includes distributing, to one or more nodes of the wireless network, information regarding network pathways based on the information maintained by said server. </p>
<p id="p-0028" num="0027"> In additional feature of the foregoing aspects, a message may be communicated between nodes utilizing transmission control protocol (TCP), and messages may be communicated between nodes of the wireless network via data packets. </p>
<p id="p-0029" num="0028"> In addition to the foregoing methods in accordance with aspects the invention, other aspects of the invention relate to wireless networks that utilize such methods and, in particular, such wireless networks that are ad hoc wireless networks. The wireless networks furthermore may comprise class-based wireless network that may be utilized for monitoring and/or tracking assets. </p>
<p id="p-0030" num="0029"> In features of these aspects, a node of the wireless network may be a data communications device and include, for example, a standards based radio such as a Bluetooth radio. The node may further includes a wireless receiver for powering up the standards based radio upon receipt of a broadcast that is intended for the standards based radio. The second wireless receiver further may perform a stepped wake-up sequence of the standards based radio. The standards based radio further may include a sensor interface whereby data is acquired by the data communications device from an associated sensor, and the wireless network may comprise a remote sensor interface (RSI) network. </p>
<p id="p-0031" num="0030"> In addition to the aforementioned aspects and features of the invention, it should be noted that the invention further includes the various possible combinations of such aspects and features, including the combinations of such aspects and features with those aspects and features of the incorporated references from which priority is claimed.</p>
<?summary-of-invention description="Summary of Invention" end="tail"?>
<?brief-description-of-drawings description="Brief Description of Drawings" end="lead"?>
<heading level="2" id="h-0005">BRIEF DESCRIPTION OF THE DRAWINGS </heading>
<p id="p-0032" num="0031"> Particular embodiments of the invention are to be understood according to the detailed descriptions that follow in conjunction with the attached figures, wherein: </p>
<p id="p-0033" num="0032"> <figref idref="DRAWINGS">FIG. 1</figref> illustrates an architecture associated with an exemplary embodiment of the invention. </p>
<p id="p-0034" num="0033"> <figref idref="DRAWINGS">FIGS. 2-8</figref> illustrate the wireless network of <figref idref="DRAWINGS">FIG. 1</figref> in which the sequence of node-to-node communications occurs when a message from node X<sub>7 </sub>is originated and communicated for further communication to the server of <figref idref="DRAWINGS">FIG. 1</figref>. </p>
<p id="p-0035" num="0034"> <figref idref="DRAWINGS">FIG. 9</figref> illustrates a table of representative link quality for each possible communications link that may be established between each pair of nodes of the wireless network of <figref idref="DRAWINGS">FIG. 1</figref>. </p>
<p id="p-0036" num="0035"> <figref idref="DRAWINGS">FIG. 10</figref> illustrates a table of representative overall link quality for each possible pathway between a node and the server in the wireless network of <figref idref="DRAWINGS">FIG. 1</figref>, the overall link quality being based on the link quality for each node-to-node communications link set forth in the table of <figref idref="DRAWINGS">FIG. 9</figref>. </p>
<p id="p-0037" num="0036"> <figref idref="DRAWINGS">FIG. 11</figref> illustrates a table of representative link quality for each communications link established between each pair of nodes of the wireless network of <figref idref="DRAWINGS">FIG. 1</figref> that is known to the server at time t=t<sub>5 </sub>based on communication sequences of <figref idref="DRAWINGS">FIGS. 2-8</figref>. </p>
<p id="p-0038" num="0037"> <figref idref="DRAWINGS">FIG. 12</figref> illustrates a table of overall link quality for each pathway between a node and the server in the wireless network based on the table of link qualities of <figref idref="DRAWINGS">FIG. 11</figref> that are known to the server. </p>
<p id="p-0039" num="0038"> <figref idref="DRAWINGS">FIG. 13</figref> illustrates another architecture associated with exemplary embodiments of the invention in which class-based wireless networks are utilized. </p>
<p id="p-0040" num="0039"> <figref idref="DRAWINGS">FIGS. 14-30</figref> illustrate network routing in the class-based wireless networks of <figref idref="DRAWINGS">FIG. 13</figref>.</p>
<?brief-description-of-drawings description="Brief Description of Drawings" end="tail"?>
<?detailed-description description="Detailed Description" end="lead"?>
<heading level="2" id="h-0006">DETAILED DESCRIPTION </heading>
<p id="p-0041" num="0040"> As a preliminary matter, it will readily be understood by one having ordinary skill in the relevant art (&#x201c;Ordinary Artisan&#x201d;) that the present invention has broad utility and application. Various embodiments are discussed for illustrative purposes in providing a full and enabling disclosure of the present invention. Moreover, many embodiments, such as adaptations, variations, modifications, and equivalent arrangements, will be implicitly disclosed by the descriptions of embodiments herein and fall within the scope of the present invention. </p>
<p id="p-0042" num="0041"> Accordingly, while the present invention is described herein in detail in relation to one or more embodiments, it is to be understood that this disclosure is illustrative and exemplary of the present invention, and is made merely for the purposes of providing a full and enabling disclosure of the present invention. The detailed disclosure herein of one or more embodiments is not intended, nor is to be construed, to limit the scope of patent protection afforded the present invention. It is not intended that the scope of patent protection afforded the present invention be defined by reading into any claim a limitation found herein that does not explicitly appear in the claim itself. </p>
<p id="p-0043" num="0042"> Thus, for example, any sequence(s) and/or temporal order of steps of various processes or methods that are described herein are illustrative and not restrictive. Accordingly, it should be understood that, although steps of various processes or methods may be shown and described as being in a sequence or temporal order, the steps of any such processes or methods are not limited to being carried out in any particular sequence or order, absent an indication otherwise. Indeed, the steps in such processes or methods generally may be carried out in various different sequences and orders while still falling within the scope of the present invention. Accordingly, it is intended that the scope of patent protection afforded the present invention is to be defined by the appended claims rather than the description set forth herein. </p>
<p id="p-0044" num="0043"> Additionally, it is important to note that each term used herein refers to that which the Ordinary Artisan would understand such term to mean based on the contextual use of such term herein. To the extent that the meaning of a term used herein&#x2014;as understood by the Ordinary Artisan based on the contextual use of such term&#x2014;differs in any way from any particular dictionary definition of such term, it is intended that the meaning of the term as understood by the Ordinary Artisan should prevail. </p>
<p id="p-0045" num="0044"> Furthermore, it is important to note that, as used herein, &#x201c;a&#x201d; and &#x201c;an&#x201d; each generally denotes &#x201c;at least one,&#x201d; but does not exclude a plurality unless the contextual use dictates otherwise. Thus, reference to &#x201c;a picnic basket having an apple&#x201d; describes &#x201c;a picnic basket having at least one apple&#x201d; as well as &#x201c;a picnic basket having apples.&#x201d; In contrast, reference to &#x201c;a picnic basket having a single apple&#x201d; describes &#x201c;a picnic basket having only one apple.&#x201d;</p>
<p id="p-0046" num="0045"> When used herein to join a list of items, &#x201c;or&#x201d; denotes &#x201c;at lease one of the items,&#x201d; but does not exclude a plurality of items of the list. Thus, reference to &#x201c;a picnic basket having cheese or crackers&#x201d; describes &#x201c;a picnic basket having cheese without crackers&#x201d;, &#x201c;a picnic basket having crackers without cheese&#x201d;, and &#x201c;a picnic basket having both cheese and crackers.&#x201d; Finally, when used herein to join a list of items, &#x201c;and&#x201d; denotes &#x201c;all of the items of the list.&#x201d; Thus, reference to &#x201c;a picnic basket having cheese and crackers&#x201d; describes &#x201c;a picnic basket having cheese, wherein the picnic basket further has crackers,&#x201d; as well as describes &#x201c;a picnic basket having crackers, wherein the picnic basket further has cheese.&#x201d;</p>
<heading level="2" id="h-0007">Terminology </heading>
<p id="p-0047" num="0046"> In addition to the foregoing, the following terminology also is used herein. </p>
<p id="p-0048" num="0047"> As used herein with reference to a wireless network, a &#x201c;node&#x201d; of the wireless network refers to a wireless radio-frequency data communication device comprising a transceiver that receives and transmits information wirelessly with one or more other nodes of the wireless network. Moreover, in preferred embodiments and implementations of the invention, the transceiver comprises a standards-based radio, such as a Bluetooth radio, and information is communicated in data packets using transmission control protocol (&#x201c;TCP&#x201d;). A data communication device of a node of the wireless network may be mobile or fixed at a particular location, and the data communication device may include an internal power supply source or utilize an external power supply source. The data communication device also preferably includes an interface for communicating with an associated sensor or other data acquisition device, which sensor may or may not form part of the node. The data communication device constituting the node may be attached to an asset that is to be monitored and/or tracked; alternatively, the data communication device constituting the node may be permanently affixed to a structure for monitoring and/or tracking assets that come within proximity thereto. </p>
<p id="p-0049" num="0048"> Generally, in receiving or transmitting information wirelessly between two nodes of a wireless network, a communications link is established between the two data communication devices of the two nodes. An electronic message then is transmitted via the communications link between the two data communication devices. Following transmission of the electronic message, the communications link is disconnected. </p>
<p id="p-0050" num="0049"> Alternatively, the communications link established between the data communication devices of the two nodes may be maintained, if desired, in order to provide continuous communications between the two nodes without having to reestablish a communications link therebetween. Establishing a continuous communications link between two nodes without having to reestablish the communications link therebetween is particularly desirable, for instance, in transmitting real time audiovisual content, or in providing real time audiovisual communications between persons. Such person-to-person communications further may be &#x201c;two-way&#x201d; when each data communication device at each node includes dual radios. This is particularly true when Bluetooth radios are utilized, which do not include duplex capabilities. Thus, for example, maintaining continuous communications between two nodes each employing dual radios is particularly desirable if data packets for Voice-over-IP (&#x201c;VoIP&#x201d;) services are to be wirelessly transmitted between the two nodes. </p>
<p id="p-0051" num="0050"> A node of a wireless network from which an electronic message first is sent is referred to herein as an &#x201c;originating node.&#x201d; Similarly, a node of a wireless network to which an electronic message is ultimately destined is referred to herein as a &#x201c;destination node.&#x201d; Any node that relays the electronic message from the originating node to the destination node is referred to herein as an &#x201c;intermediate node.&#x201d; Each route by which an electronic message is communicated from an originating node to a destination node is referred to herein as a &#x201c;pathway,&#x201d; and each pathway is identified by the identification of the originating node, each intermediate node that relays the electronic message, and the destination node. </p>
<p id="p-0052" num="0051"> In accordance with the invention, one or more nodes of a wireless network preferably are disposed in direct electronic communication with a network that is external to the wireless network. Such a node is referred to herein as a &#x201c;gateway.&#x201d; Communications between the gateway and the external network may be wireless or hard wired and comprise, for example, a network interface card that accepts a CAT 5 cable for Ethernet communications; a cellular transceiver for communications via a cellular telephone network; a satellite transceiver for communications via a satellite network; or any combination thereof. The wired network itself may be a wide area network (&#x201c;WAN&#x201d;) and include the Internet. </p>
<p id="p-0053" num="0052"> A computer system preferably is disposed in electronic communication with the same wired network, whereby the computer system and each node of the wireless network may communicate with each other through the external network, such as the WAN, and the one or more gateways. Generally, the computer system preferably includes application software and a database (or access to a database), and the computer system records and maintains information regarding the wireless network, nodes thereof, and/or data received therefrom. Such a computer system is referred to herein as a &#x201c;server.&#x201d;</p>
<p id="p-0054" num="0053"> A node of the wireless network at which a data communication device establishes a communications link with a gateway is referred to herein as a &#x201c;top level node.&#x201d;</p>
<p id="p-0055" num="0054"> As further used herein with reference to a wireless network, an &#x201c;ad hoc network&#x201d; refers to a wireless network in which node-to-node communications occur without central control or wired infrastructure. Such a network typically will have dynamic pathways and is advantageous because it is inexpensive, fault-tolerant, and flexible. Wireless networks used in accordance with the present invention preferably comprise ad hoc networks. </p>
<p id="p-0056" num="0055"> Each communication of an electronic message between nodes may include several components, including a header and a body. The body of the communication preferably carries the original message from the originating node and would include any data acquired at the node or by a sensor associated with the node that is to be communicated to the server. The header of the communication preferably includes information pertaining to the message itself, such as a unique &#x201c;message ID&#x201d; that comprises information representative of the originating node of the message and may include a count representing the number of messages originated by the originating node. In class-based networks, the message ID further may include the class or classes of the originating node. </p>
<p id="p-0057" num="0056"> The header of the communication also preferably includes the pathway by which the message is to be communicated when the message is being sent in accordance with a deterministic routing method of the present invention, which is described in detail below. </p>
<p id="p-0058" num="0057"> Other header information of the communication preferably includes the pathway history by which the message has been communicated, including the original communication from the originating node, and the link quality of each communications link between nodes in the pathway history. A possible checksum and priority optionally may be included in the message header. In class-based networks, the header of the communication also may include one or more class designations. </p>
<heading level="2" id="h-0008">Exemplary Implementation </heading>
<p id="p-0059" num="0058"> Turning now to the figures, <figref idref="DRAWINGS">FIG. 1</figref> illustrates an architecture associated with an exemplary embodiment of the invention. </p>
<p id="p-0060" num="0059"> In <figref idref="DRAWINGS">FIG. 1</figref>, a server <b>10</b> is shown disposed in communication with a wide area network (WAN) <b>12</b> such as, for example, the Internet. A wireless network <b>14</b> also is represented in <figref idref="DRAWINGS">FIG. 1</figref>, wherein eight nodes form an ad hoc network. The eight nodes include seven nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7 </sub>that are not directly connected to the WAN <b>12</b>, and an eighth node G <b>16</b> disposed in direct electronic communication with the WAN <b>12</b>, thereby serving as a gateway <b>16</b> in the wireless network <b>14</b>. Each of the nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7 </sub>may be fixed or mobile, and each of the nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7 </sub>may exit the wireless network <b>14</b> and may or may not rejoin the wireless network <b>14</b>. The eighth node G also may be mobile or fixed. Accordingly, the wireless network <b>14</b> is shown in a grid formation in <figref idref="DRAWINGS">FIG. 1</figref> only for simplicity and clarity in illustrating the present invention, and it is to be understood that the spatial relationships between any of the various nodes G,X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7 </sub>likely will be fluid in any actual implementation. </p>
<p id="p-0061" num="0060"> The exemplary grid arrangement also aids in illustrating an exemplary range of communication for each node. In this respect, each node is deemed to have a communications range equal to the length of a side of one of the nine basic squares of the grid. Consequently, communications may occur between a node either to the immediate side or top or bottom of another node within the grid; however, a node disposed diagonally to another node is out of direct communications range and, therefore, direct communications between such nodes do not occur. Again, each node is shown having the same communications range only for simplicity and clarity in illustrating the present invention, and it is to be understood that the actual communications ranges of the nodes likely will vary in any actual implementation. </p>
<heading level="2" id="h-0009">Communications Between Server and Nodes </heading>
<p id="p-0062" num="0061"> In accordance with the present invention, communications between the server <b>10</b> and each node of the wireless network <b>14</b> occur in which information is acquired by the server <b>10</b> from each of the nodes. The information may include data that is stored within a computer-readable medium of the node and/or data that is acquired from a sensor that is associated with the node. In communicating with each node other than a gateway <b>16</b>, the server <b>10</b> communicates via one or more intermediate nodes including a gateway <b>16</b>. In communicating with a node that is a gateway <b>16</b>, the server <b>10</b> communicates with the gateway <b>16</b> preferably without communicating via one or more other nodes of the wireless network <b>14</b>. In communicating between nodes and between the gateway <b>16</b> and the server <b>10</b>, TCP preferably is utilized as the protocol, which well known protocol is robust and accounts for error detection and correction. </p>
<p id="p-0063" num="0062"> Origination and communication of a message from a node to the server <b>10</b> preferably is triggered upon occurrence of a predefined event (&#x201c;Trigger Event&#x201d;). The Trigger Event may be based on data that is acquired by a sensor. Thus, for example, if a sensor monitors the opening of a maritime shipping container door, a Trigger Event may include the detection that the container door has been opened. In another example, if a sensor monitors for motion of an asset being tracked, a Trigger Event may include the movement of the asset. </p>
<p id="p-0064" num="0063"> Alternatively, or in addition thereto, Trigger Events may be predefined to occur at regular defined intervals at which times messages are originated and communicated from a node to the server <b>10</b>. Such messages may include all or a portion of data that has been acquired from a sensor associated with the node. Such intervals may be determined utilizing a timer. </p>
<p id="p-0065" num="0064"> In addition to origination and communication of a message from a node to the server <b>10</b> upon occurrence of a Trigger Event, a message also may be originated and communicated from a node to the server <b>10</b> in response to an inquiry that is received by and directed to the node, a response to which is included in the message. </p>
<heading level="2" id="h-0010">Communicating via Pathways in the Wireless Network: Deterministic vs. Nondeterministic Routing </heading>
<p id="p-0066" num="0065"> Upon occurrence of a Trigger Event, and assuming that the originating node is other than a gateway <b>16</b>, a message is originated and communicated from the originating node to a neighboring node. Two scenarios exist in this situation. First, a particular pathway for reaching a gateway <b>16</b> may be known to the originating node. In this first scenario, the wireless network <b>14</b> is deemed a &#x201c;Deterministic Network,&#x201d; at least to the extent that the originating node can provide determined routing information in the communication of the message, whereby the message will be sent to the gateway <b>16</b> via the identified pathway. In the second scenario, a pathway for reaching a gateway <b>16</b> is not known by the originating node, and the wireless network <b>14</b> is deemed a &#x201c;Nondeterministic Network,&#x201d; at least to the extent that the originating node does not know and, therefore, cannot provide determined routing information identifying a pathway for communication of the message to a gateway <b>16</b>. Each of these scenarios will be discussed in greater detail below. The nondeterministic network scenario is described in detail first. </p>
<heading level="2" id="h-0011">Nondeterministic Routing Illustration: Node to Server Communication </heading>
<p id="p-0067" num="0066"> <figref idref="DRAWINGS">FIGS. 2-8</figref> illustrate the wireless network <b>14</b> of <figref idref="DRAWINGS">FIG. 1</figref> in which a Trigger Event occurs at node X<sub>7 </sub>and a sequence of node-to-node communications takes place thereafter. Because of the occurrence of the Trigger Event, a message is originated and communicated from node X<sub>7 </sub>for further communication to the server <b>10</b>. The sequence of node-to-node communications illustrated here is in accordance with nondeterministic routing and may occur, for example, when none of the nodes X<sub>1 </sub>through X<sub>7 </sub>have previously communicated with the server <b>10</b> through the wireless network <b>14</b>, i.e., when each node may be &#x201c;new&#x201d; to the wireless network <b>14</b> and/or &#x201c;new&#x201d; to the wireless network topology shown in <figref idref="DRAWINGS">FIG. 1</figref>. </p>
<p id="p-0068" num="0067"> With particular regard to certain steps in the sequence of communicating the message from node X<sub>7 </sub>to the gateway <b>16</b>, <figref idref="DRAWINGS">FIG. 2</figref> illustrates the wireless network <b>14</b> at time t=t<sub>0 </sub>before any message has been originated or communicated. In contrast thereto, at time t=t<sub>1 </sub>a Trigger Event (<figref idref="DRAWINGS">FIG. 3</figref>) has occurred at node X<sub>7</sub>, and a message as been originated at node X<sub>7</sub>. At this time the pathway for reaching a gateway <b>16</b> in the wireless network <b>14</b> is unknown to the data communication device of node X<sub>7</sub>. In accordance with the present invention, because the pathway is unknown, the message is communicated generally to all data communication devices falling within communications range of node X<sub>7</sub>. The message therefore is shown in <figref idref="DRAWINGS">FIG. 3</figref> being communicated at time t=t<sub>1 </sub>to neighboring node X<sub>6</sub>, which node happens to be within the communications range of node X<sub>7</sub>. Indeed, the communications range of node X<sub>7 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 3</figref> by the generally circular outline around node X<sub>7</sub>, within which only node X<sub>6 </sub>at least partially lies. Nodes within the communications range of node X<sub>7</sub>, i.e., node X<sub>6</sub>, also are explicitly identified in the range definition set forth in <figref idref="DRAWINGS">FIG. 3</figref>. The act of communicating the message by node X<sub>7 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 3</figref> by shading of the square of the grid containing node X<sub>7</sub>. </p>
<p id="p-0069" num="0068"> Furthermore, it will be appreciated from the foregoing description that in communicating the message from node X<sub>7 </sub>to node X<sub>6</sub>, a communications link first was established between these two nodes. In establishing the communications link, preferably each node is identified to the other node in the communications link, whereby the originating node will come to learn the neighboring node that falls within its communications range (at least at that time). Furthermore, node X<sub>6</sub>&#x2014;an intermediate node&#x2014;will come to learn the node from which the message is received for forwarding to a gateway <b>16</b>. In establishing the communications link and in communicating the message, information regarding the quality of the link also may be monitored and recorded. </p>
<p id="p-0070" num="0069"> At time t=t<sub>2</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 4</figref> being communicated by node X<sub>6 </sub>to neighboring nodes X<sub>4</sub>,X<sub>5</sub>,X<sub>7</sub>, which nodes happen to be within the communications range of node X<sub>6</sub>. Again, because node X<sub>6 </sub>does not know a pathway to the gateway <b>16</b>, node X<sub>6 </sub>proceeds to communicate the message generally to all nodes within its communications range following the same protocol as originating node X<sub>7</sub>. The communications range of node X<sub>6 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 4</figref> by the generally circular outline around node X<sub>6</sub>, within which only nodes X<sub>4</sub>,X<sub>5</sub>,X<sub>7 </sub>each at least partially lies. Nodes within the communications range of node X<sub>6</sub>, i.e., nodes X<sub>4</sub>,X<sub>5</sub>,X<sub>7</sub>, also are explicitly identified in the range definition set forth in <figref idref="DRAWINGS">FIG. 4</figref>. The act of communicating the message by node X<sub>6 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 4</figref> by shading of the square of the grid containing node X<sub>6</sub>. </p>
<p id="p-0071" num="0070"> At time t=t<sub>3</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 5</figref> being communicated by each of nodes X<sub>4</sub>,X<sub>5 </sub>to respective neighboring nodes that happen to be within communications range. The communications range of node X<sub>4 </sub>is graphically illustrated by the generally circular outline around node X<sub>4 </sub>in <figref idref="DRAWINGS">FIG. 5</figref>, and the communications range of node X<sub>5 </sub>is graphically illustrated by the generally circular outline around node X<sub>5 </sub>in <figref idref="DRAWINGS">FIG. 5</figref>. As further identified in <figref idref="DRAWINGS">FIG. 5</figref>, nodes X<sub>2</sub>,G,X<sub>6 </sub>each at least partially lies within the communications range of node X<sub>4</sub>, and nodes G,X<sub>6 </sub>each at least partially lies within the communications range of node X<sub>5</sub>. The act of communicating the message by node X<sub>4 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 5</figref> by shading of the square of the grid containing node X<sub>4</sub>, and the act of communicating the message by node X<sub>5 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 5</figref> by shading of the square of the grid containing node X<sub>5</sub>. Receipt of a communication containing the message by node G at time t=t<sub>3 </sub>also is emphasized in <figref idref="DRAWINGS">FIG. 5</figref> by shading of the square of the grid containing node G. </p>
<p id="p-0072" num="0071"> Furthermore, it should be noted that although node X<sub>7 </sub>received the communication from node X<sub>6</sub>, node X<sub>7 </sub>does not communicate the message a second time. Preferably, a message that has been communicated from a node is stored or cached within memory of the data communication device of the node, and before a message received from another node is forwarded, the message is screened against those messages stored or cached within memory. Alternatively, a message ID of a message that has been communicated from a node preferably is stored or cached within memory of the data communication device of the node, and before a message received from another node is forwarded, the message ID of that message is screened against the message IDs stored or cached within memory. In either case, if it is determined that a message previously has been communicated from the node, then the same message will not be communicated again from the node. Consequently, node X<sub>7 </sub>is not illustrated in <figref idref="DRAWINGS">FIG. 5</figref> as communicating the message again. Only nodes X<sub>4</sub>,X<sub>5</sub>, which have not previously communicated the message, are shown in <figref idref="DRAWINGS">FIG. 5</figref> as communicating the message. </p>
<p id="p-0073" num="0072"> At time t=t<sub>4</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 6</figref> being communicated to neighboring nodes X<sub>1</sub>,X<sub>3</sub>,X<sub>4</sub>, which nodes happen to be within the communications range of node X<sub>2</sub>. The communications range of node X<sub>2 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 6</figref> by the generally circular outline around node X<sub>2</sub>, within which only nodes X<sub>1</sub>,X<sub>3</sub>,X<sub>4 </sub>each at least partially lies. The nodes within the communications range of node X<sub>2</sub>, i.e., nodes X<sub>1</sub>,X<sub>3</sub>,X<sub>4</sub>, also are explicitly identified in the range definition set forth in <figref idref="DRAWINGS">FIG. 6</figref>. The act of communicating the message by node X<sub>2 </sub>further is graphically illustrated by shading of the square of the grid containing node X<sub>2</sub>. Node G, which also received the message at t=t<sub>3</sub>, does not communicate the message to other nodes in the wireless network <b>14</b> like node X<sub>2</sub>. Instead, node G is in communications with the external network and knows that the pathway to the server <b>10</b> from node G does not include any of the nodes within the wireless network <b>14</b>. Consequently, node G does not communicate the message within the wireless network <b>14</b> because it knows that it is unnecessary to do so in order to communicate the message to the server <b>10</b>. More generally, if a node knows of a deterministic pathway to a destination node when it receives a communication via nondeterministic routing, then the node may further communicate the message via the known deterministic pathway from that point forward. </p>
<p id="p-0074" num="0073"> At time t=t<sub>5</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 7</figref> being communicated by each of nodes X<sub>1</sub>,X<sub>3 </sub>to respective neighboring nodes that happen to be within communications range. The communications range of node X<sub>1 </sub>is graphically illustrated by the generally circular outline around node X<sub>1 </sub>in <figref idref="DRAWINGS">FIG. 7</figref>, and the communications range of node X<sub>3 </sub>is graphically illustrated by the generally circular outline around node X<sub>3 </sub>in <figref idref="DRAWINGS">FIG. 7</figref>. As further identified in <figref idref="DRAWINGS">FIG. 7</figref>, nodes G,X<sub>2 </sub>each at least partially lies within the communications range of node X<sub>1</sub>, and node X<sub>2 </sub>at least partially lies within the communications range of node X<sub>3</sub>. The act of communicating the message by node X<sub>1 </sub>further is graphically illustrated by shading of the square of the grid containing node X<sub>1</sub>, and the act of communicating the message by node X<sub>3 </sub>further is graphically illustrated by shading of the square of the grid containing node X<sub>3</sub>. Receipt of a communication containing the message by node G at time t=t<sub>5 </sub>also is emphasized in <figref idref="DRAWINGS">FIG. 7</figref> by shading of the square of the grid containing node G. </p>
<p id="p-0075" num="0074"> At time t=t<sub>6</sub>, the message now has been communicated to the gateway <b>16</b> by way of three different pathways, the message has been propagated generally to all nodes of the wireless network <b>14</b>, and no further communication of the message within the wireless network <b>14</b> occurs, as illustrated in <figref idref="DRAWINGS">FIG. 8</figref>. Moreover, each node is identified in <figref idref="DRAWINGS">FIG. 8</figref> with reference to the number of &#x201c;hops&#x201d; that occurred in receiving the message (for the first time) from the originating node. </p>
<p id="p-0076" num="0075"> In accordance with preferred implementations, when node G (the gateway <b>16</b>) receives the message intended for the server <b>10</b>, the message is communicated to the server <b>10</b>. Together with the message, the following information also preferably is communicated from the gateway <b>16</b> to the server <b>10</b>: the pathway, including the identification of the originating node and each intermediate node by which the message was communicated; and the link quality of each communications link of the pathway. Other information also may be communicated, as desired. </p>
<p id="p-0077" num="0076"> Based on the illustration set forth in <figref idref="DRAWINGS">FIGS. 2-8</figref>, the server <b>10</b> of <figref idref="DRAWINGS">FIG. 1</figref> will receive three communications of the message from the gateway <b>16</b>. In accordance with the present invention, the server <b>10</b> will record, for each receipt of the message, the pathway by which the message was communicated, including the identification of the originating node and each intermediate node by which the message was communicated. The server <b>10</b> additionally will record the link quality of each communications link in the pathway and will calculate a representative overall link quality for each pathway. Any other information communicated with the message also may be recorded in association therewith. </p>
<p id="p-0078" num="0077"> For purposes of illustration and understanding of the present invention, a table setting forth exemplary link qualities of each possible communications link in the wireless network topology of <figref idref="DRAWINGS">FIG. 1</figref> is shown in <figref idref="DRAWINGS">FIG. 9</figref>. In these examples, the link quality is represented by a percentage of packets that are successfully transmitted to total transmitted packets. (It should be noted that differences in link quality are overstated in order to emphasize differences in link quality in <figref idref="DRAWINGS">FIG. 9</figref> and differences in overall link quality in <figref idref="DRAWINGS">FIG. 10</figref>. In actuality, the differences in link quality between a &#x201c;good link&#x201d; and a &#x201c;poor link&#x201d; are typically much smaller. It further should be noted that other means for determining link quality can be utilized, such as by monitoring the number of packets that are retransmitted between two nodes.) </p>
<p id="p-0079" num="0078"> Notably, in the foregoing illustration of <figref idref="DRAWINGS">FIGS. 2-8</figref>, the server <b>10</b> will not record the link quality for the communications link between respective data communication devices of nodes X<sub>2 </sub>and X<sub>3</sub>. This communications link will not be recorded by the server <b>10</b> because no pathway included node X<sub>3</sub>. Thus, the server <b>10</b> will receive and record the link quality for all possible links except the communications link between respective data communication devices of node X<sub>2 </sub>and node X<sub>3</sub>. A table setting forth exemplary link qualities for all links known to the server <b>10</b> is shown in <figref idref="DRAWINGS">FIG. 11</figref>. </p>
<p id="p-0080" num="0079"> Additionally, for purposes of illustration and understanding of the present invention, a table setting forth exemplary overall link qualities of each possible pathway is shown in <figref idref="DRAWINGS">FIG. 10</figref>. The overall link quality shown here is based on the link quality for each node-to-node communications link set forth in the table of <figref idref="DRAWINGS">FIG. 9</figref>, and is achieved through multiplication of the individual link qualities making up a particular pathway. In the foregoing illustration of <figref idref="DRAWINGS">FIGS. 2-8</figref>, the server <b>10</b> will be able to calculate the overall link quality for all pathways in the wireless network <b>14</b> except for the pathways that include node X<sub>3</sub>. A table setting forth exemplary overall link qualities for all pathways known to the server <b>10</b> is shown in <figref idref="DRAWINGS">FIG. 12</figref>. </p>
<p id="p-0081" num="0080"> It is revealing to note that the tables of <figref idref="DRAWINGS">FIGS. 9-10</figref> and the tables of <figref idref="DRAWINGS">FIGS. 11-12</figref> do not differ significantly, and that a significant amount of information has been learned by the server <b>10</b> about the wireless network <b>14</b> upon the single message having been originated and communicated from node X<sub>7 </sub>(i.e., the data communication device thereof) in the nondeterministic manner. (It should be noted that the identification of the nodes in the tables of <figref idref="DRAWINGS">FIGS. 9-12</figref> represent the data communication devices of the nodes and that each data communication device is identified by a unique identifier.) </p>
<p id="p-0082" num="0081"> Furthermore, several observations of characteristics of the wireless network <b>14</b> and manner of communicating as set forth in <figref idref="DRAWINGS">FIGS. 2-8</figref> should now be apparent to the Ordinary Artisan. </p>
<p id="p-0083" num="0082"> For example, it should be apparent that no node of the wireless network <b>14</b> will appear twice in any pathway. </p>
<p id="p-0084" num="0083"> Second, it should be apparent that a node must either be an originating node or an intermediate node in a pathway by which a message is successfully communicated to the server <b>10</b> in order for the server <b>10</b> to gain information regarding that node. </p>
<p id="p-0085" num="0084"> Third, a message sent in nondeterministic manner from an originating node that arrives via the same gateway <b>16</b> from two top level nodes evidences the fact that the two top level nodes each represents an ad hoc network in which the nodes of the particular network are disposed in communication with each other. Conversely, a message sent in nondeterministic manner from an originating node that arrives via a gateway <b>16</b> from only one of two or more known top level nodes evidences the fact that the top level node represents an ad hoc network in which nodes of that network are disposed in radio isolation from all other nodes of the other ad hoc networks represented by the other top level nodes. In the exemplary wireless network <b>14</b> of <figref idref="DRAWINGS">FIGS. 1-8</figref>, top level nodes include nodes X<sub>1</sub>,X<sub>4</sub>,and X<sub>5</sub>. There are no isolated ad hoc networks shown in <figref idref="DRAWINGS">FIG. 8</figref>. </p>
<heading level="2" id="h-0012">Deterministic Routing Illustration: Server to Node Communication </heading>
<p id="p-0086" num="0085"> A deterministic routing illustration is readily described based on the information obtained from the nondeterministic routing illustration of <figref idref="DRAWINGS">FIGS. 2-8</figref>. In this regard, if a message such as an inquiry or command is to be sent from the server <b>10</b> to a data communication device of a node of the wireless communications network <b>14</b>, the information received by the server <b>10</b> preferably is utilized in sending the message via a known pathway that includes the recipient node as the last node of the pathway. In particular, if the server <b>10</b> is to send a message, for example, to node X<sub>7</sub>, then the server <b>10</b> preferably searches the known pathways in Table 4 of <figref idref="DRAWINGS">FIG. 12</figref> and identifies each pathway that ends with the data communication device of node X<sub>7</sub>. Of all such pathways that are identified, the server <b>10</b> preferably sends the message along one of the pathways that is selected to be the &#x201c;best&#x201d; based on one or more predefined parameters and/or algorithms. </p>
<p id="p-0087" num="0086"> An exemplary algorithm that may be used includes selecting the pathway having the shortest number of intermediate nodes, thereby reducing the number of &#x201c;hops&#x201d; that must occur in successfully communicating the message to the destination node. In other words, the &#x201c;shortest&#x201d; known pathway is selected. Referring to the Table 4 of <figref idref="DRAWINGS">FIG. 12</figref>, two pathways comprise the shortest pathways, and are represented by the notations //G/X4/X6/X7 and //G/X5/X6/X7. </p>
<p id="p-0088" num="0087"> In selecting the &#x201c;best&#x201d; of these two &#x201c;shortest&#x201d; pathways, additional factors may be considered, such as the overall link quality of the pathway, with the pathway having the best overall link quality being selected. In this case, the first pathway has an overall link quality of 24.3% which exceeds, in this case substantially, the overall link quality of 8.1% of the second pathway and, thus, the first pathway preferably would be selected as the determined route for sending the message from the server <b>10</b> to the data communication device of node X<sub>7</sub>. </p>
<p id="p-0089" num="0088"> Another algorithm for selecting a pathway may comprise selecting the pathway having the best overall link quality without regard to the number of intermediate nodes or hops. For example, with reference to Table 4 of <figref idref="DRAWINGS">FIG. 12</figref>, a message to be communicated to the data communication device of node X<sub>5 </sub>would be sent via pathway //G/X4/X6/X5 in accordance with this algorithm, even though pathway //G/X5 is the shortest, because the overall link quality of the longer pathway is 72.9% compared to the overall link quality of the shorter pathway of 30%. The unexpected difference in link qualities may be attributed, for example, to environmental factors including radio frequency obstacles. Moreover, such radio frequency obstacles can be inferred from the data that is collected with messages received from the wireless network <b>14</b>, including the various pathways and link qualities, as shown in the tables. Inferences that may be drawn include the absolute or relative locations of radio frequency obstacles if absolute or relative locations of the data communication devices of certain nodes is known. Such information, for example, can be acquired from GPS sensors and the like that are included or associated with these data communication devices. </p>
<heading level="2" id="h-0013">Dynamic Nature of the Ad Hoc Wireless Network and Continual Maintenance of Routing Tables </heading>
<p id="p-0090" num="0089"> Due to the nature of the ad hoc network and the mobility of one or more of the data communication devices of the nodes thereof, the wireless network topology likely will change over time. Consequently, pathways and link qualities will change, and pathways and link qualities recorded in any table that may be maintained by the server <b>10</b> likely will become outdated. To address this, the server <b>10</b> preferably updates any such table as each message and associated information is received from the wireless network <b>14</b>. Due to the significant amount of information that may be received from the wireless network <b>14</b> with any given message, information maintained by the server <b>10</b> nevertheless may prove valuable during its useful life. Moreover, information that is outdated may be identified based on more recent information that is received by the server <b>10</b> with another message, as well as by the failure to receive an acknowledgement (&#x201c;ACK&#x201d;) in response to a communication by the server <b>10</b> to a particular node of the wireless network <b>14</b> via a previously known pathway. An entry for a pathway by which a message is not successfully sent from the server <b>10</b> to a node may be removed, together with all sub-pathways including the destination node of the message. </p>
<heading level="2" id="h-0014">Acknowledging Successful Receipt of a Message: Sending an ACK </heading>
<p id="p-0091" num="0090"> Upon the successful receipt of a message by the server <b>10</b>, the server <b>10</b> preferably sends an ACK to the originating node of the message to acknowledge the successful receipt of the message. Preferably, only one ACK is sent for each particular message, regardless of the number of times that the particular message is received by the server <b>10</b> via different pathways. In sending the ACK, the server <b>10</b> preferably selects a known pathway based on information that is received with the message or that has been received in conjunction with previous messages or other intelligence that is known about the network topology. Selection of the particular pathway is made in accordance with one of the disclosed algorithms or in accordance with some other algorithm, as desired. If an ACK is not received from the server <b>10</b> by the originating node, then the originating node will save the message in memory for communication at a later time when communication with the server <b>10</b> is available, whether via the wireless network <b>14</b> of <figref idref="DRAWINGS">FIGS. 1-8</figref> or via a future wireless network. </p>
<p id="p-0092" num="0091"> Similarly, the receipt of a message representing a command or inquiry that is sent by a server <b>10</b> to a destination node preferably is acknowledged by an ACK being sent to the server <b>10</b> from the destination node. The message may be sent via a known pathway, or, if the pathway is outdated or otherwise unknown, then the message is sent in accordance with the nondeterministic routing method of the present invention. In particular, the message is communicated to the wireless network in which the destination node is likely to be found. The message then propagates through the nodes of that wireless network and, when the destination node receives the message, the ACK is communicated by the destination node to the server <b>10</b>. Moreover, like the server <b>10</b> in the implementation illustrated in <figref idref="DRAWINGS">FIGS. 2-12</figref>, the node in this case will have sufficient information upon receipt of the message to select the &#x201c;best&#x201d; pathway for communicating the ACK back to the server <b>10</b>. Additionally, if an ACK is not received by the server <b>10</b>, then the server <b>10</b> can store or cache the message for later communication, or the server <b>10</b> can communicate the message to one or more other suspected wireless networks in which the data communication device of the destination node (the actual recipient of the message) may be found. </p>
<p id="p-0093" num="0092"> In accordance with preferred implementations, the successful receipt of an ACK is not acknowledged in order to avoid a recurring chain of communications. </p>
<heading level="2" id="h-0015">Sleep/Standby Functionality &#x26; Corresponding Wake-Up </heading>
<p id="p-0094" num="0093"> In order to lessen power consumption, especially in mobile settings in which each data communication device constituting a node is self-powered by a mobile power supply, each mobile data communication device preferably includes the capability of powering down to a standby or sleep state, in which power is consumed at a substantially lower rate than when the data communication device is in a fully active state. In particular, the radio of the data communication device of the node preferably includes this capability to go into a standby or sleep mode. In such a mode, a standards based radio even may be turned completely off to be later awakened by a passive or semi-passive receiver of the data communications device designed for such purpose. </p>
<p id="p-0095" num="0094"> If mobile data communication devices and, in particular, radios thereof, include a standby or sleep capability, then each such radio further preferably includes the capability of being awakened in response to a communication from another data communication device of another node of the wireless network <b>14</b>. Moreover, such a radio of a node preferably includes the ability to be selectively awakened&#x2014;or powered up&#x2014;out of a population of similar radios of data communication devices of nearby nodes. In this respect, implementations of the present invention preferably include the ability to power down and be selectively powered up in accordance with the technologies set forth in Twitchell U.S. Patent Application Publication No. 2005/0093703 A1, and/or Twitchell U.S. patent application Ser. No. 11/422,321, each of which has been incorporated herein by reference above. </p>
<heading level="2" id="h-0016">First Responder Implementation </heading>
<p id="p-0096" num="0095"> The present invention has utility in various implementations. For example, the present invention may be utilized in first responder scenarios in order to maintain and gather real time intelligence that will aid first responders on the scene of an emergency. </p>
<p id="p-0097" num="0096"> For example, firemen responding to a building fire preferably can temporarily place data communication devices at points along their entry into a building or other structure in combating a fire. Basically, the firemen, upon entering into the building, can leave a &#x201c;trail of breadcrumbs&#x201d; comprising nodes of an ad hoc wireless network, and communications between the nodes thereof may be carried out in accordance with the present invention. A data communication device of a node further may be carried on a fireman's person. Such data communication devices further can be shot, thrown, or otherwise inserted into the building in placing one or more nodes of the ad hoc networks. </p>
<p id="p-0098" num="0097"> In further accordance with this exemplary implementation, each data communication device preferably includes a heat and/or smoke sensor for communicating data indicative of the level or heat and/or smoke at the sensor. The data then may be communicated back to a computer (e.g., the server <b>10</b> of <figref idref="DRAWINGS">FIG. 1</figref>) located either at a central emergency operations center or at the exterior of the building. Information regarding the spread of the fire and any exits that may have been cut off can be monitored and any appropriate actions or responses can be coordinated from the exterior of the building. </p>
<p id="p-0099" num="0098"> More importantly perhaps, each data communication device further preferably includes the capability of establishing two-way communications between the firemen inside the building and firemen outside of the building so that the fire fighting efforts inside the building may be coordinated from outside of the building. In this respect, each node preferably includes a data communication device having the capability for establishing a duplex communications link with other data communication devices of other nodes. Indeed, by including multiple nodes along different pathways from the exterior of the building to the firemen in the interior of the building, communications can be established that otherwise could not be established directly between an exterior radio and a radio of a fireman in a remote location in the interior of the building. </p>
<heading level="2" id="h-0017">Class-Based Networks </heading>
<p id="p-0100" num="0099"> Another architecture associated with an exemplary embodiment of the invention is illustrated in <figref idref="DRAWINGS">FIG. 13</figref>. In <figref idref="DRAWINGS">FIG. 13</figref>, a server <b>10</b> is shown disposed in communication with a wide area network (WAN) <b>12</b> such as, for example, the Internet. A wireless network <b>24</b> also is represented in <figref idref="DRAWINGS">FIG. 13</figref> having thirteen nodes including: seven nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7</sub>, none of which are directly connected to the WAN <b>12</b>; five nodes Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5</sub>, none of which are directly connected to the WAN <b>12</b>; and a thirteenth node G disposed in direct electronic communication with the WAN <b>12</b> and serving as a gateway <b>16</b>. Each of the nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7</sub>,Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5 </sub>may be fixed or mobile, and each of the nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7</sub>,Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5 </sub>may exit the wireless network <b>24</b> and may or may not rejoin the wireless network <b>24</b>. Node G also may be fixed or mobile. Accordingly, the wireless network <b>24</b> is shown in a grid formation in <figref idref="DRAWINGS">FIG. 13</figref> only for simplicity and clarity in illustrating the present invention, and it is to be understood that the spatial relationships between any of the various nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7</sub>,Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5 </sub>likely will be fluid in any actual implementation. </p>
<p id="p-0101" num="0100"> Furthermore, while the twelve nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7</sub>,Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5 </sub>generally have been described as forming the wireless network <b>24</b> of <figref idref="DRAWINGS">FIG. 13</figref>, it will be appreciated that subsets of these nodes (and, specifically, subsets of the data communication devices of these nodes) actually may form their own wireless network comprising an intranet to the exclusion of the other nodes. In this regard, each of nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7 </sub>may represent one or more certain classes and include class designations corresponding to those classes. In the example, these nodes are deemed to have a class designation of &#x201c;X&#x201d;. Similarly, nodes Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5 </sub>may represent one or more certain classes and include class designations corresponding to those classes. In the example, these nodes are deemed to have a class designation of &#x201c;Y&#x201d;. Node G, which serves as the gateway <b>16</b> for both class-based networks, preferably includes both &#x201c;X&#x201d; and &#x201c;Y&#x201d; class designations. Class designations and class-based networks are described in detail in the incorporated references, including U.S. Pat. No. 6,745,027 and Application Publication No. US 2004/0082296A1. Each class of network may be associated with asset tracking or monitoring or, more generally, with sensors for data acquisition used for asset tracking or monitoring, or otherwise. </p>
<p id="p-0102" num="0101"> In accordance with class-based networks, nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7 </sub>form a network of the class &#x201c;X&#x201d; and nodes Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5 </sub>form a network of the class &#x201c;Y&#x201d;; communications directed to the &#x201c;X&#x201d; class network are not received and further processed or transmitted by the &#x201c;Y&#x201d; class nodes; and communications directed to the &#x201c;Y&#x201d; class network are not received and further processed or transmitted by the &#x201c;X&#x201d; class nodes. Additionally, each node preferably includes an overriding class designation such as &#x201c;A&#x201d; that is representative of all nodes of the overall wireless network <b>24</b> of <figref idref="DRAWINGS">FIG. 13</figref>, whereby communications directed to the &#x201c;A&#x201d; class will be received and further processed and/or transmitted by all nodes X<sub>1</sub>,X<sub>2</sub>,X<sub>3</sub>,X<sub>4</sub>,X<sub>5</sub>,X<sub>6</sub>,X<sub>7</sub>,Y<sub>1</sub>,Y<sub>2</sub>,Y<sub>3</sub>,Y<sub>4</sub>,Y<sub>5</sub>. </p>
<p id="p-0103" num="0102"> The exemplary grid arrangement also aids in illustrating an exemplary range of communication for each node. In this respect, and with particular regard to <figref idref="DRAWINGS">FIG. 13</figref> and figures thereafter, each node is deemed to have a communication range equal to the length of two sides of one of the thirty-six basic squares of the illustrated grid. </p>
<p id="p-0104" num="0103"> Consequently, communications may occur between a node that is within two spaces to the immediate side or top or bottom of another node within the grid, or between a node that is immediately diagonal to another node; however, a node disposed diagonally at two spaces or more to another node is out of direct communication range and, therefore, direct communications between such nodes do not occur. Again, each node is shown having the same communications range only for simplicity and clarity in illustrating the present invention, and it is to be understood that the actual communications ranges of the nodes likely will vary in any actual implementation. </p>
<heading level="2" id="h-0018">Communications Between Server and Nodes in the Class-Based Networks </heading>
<p id="p-0105" num="0104"> As described above with reference to <figref idref="DRAWINGS">FIGS. 1-12</figref>, and in accordance with the present invention, communications between the server <b>10</b> and each node of the class-based wireless networks in <figref idref="DRAWINGS">FIGS. 13-30</figref> occur in which information is acquired by the server <b>10</b> from each of the nodes. The information may include data that is stored within a computer-readable medium of the node and/or data that is acquired from a sensor that is associated with the node. In communicating with each node other than a gateway <b>16</b>, the server <b>10</b> communicates via one or more other nodes including a gateway <b>16</b>. In communicating with a node that is a gateway <b>16</b>, the server <b>10</b> communicates with the gateway <b>16</b> preferably without communicating via one or more other nodes of the wireless network <b>24</b>. In communicating between nodes and between the gateway <b>16</b> and the server <b>10</b>, TCP preferably is utilized as the protocol, which well known protocol is robust and accounts for error detection and correction. </p>
<p id="p-0106" num="0105"> Origination and communication of a message from a node to the server <b>10</b> preferably is triggered upon occurrence of a predefined event (&#x201c;Trigger Event&#x201d;). The Trigger Event may be based on data that is acquired by a sensor. Thus, for example, if a sensor monitors the opening of a maritime shipping container door, a Trigger Event may include the detection that the container door has been opened. In another example, if a sensor monitors for motion of an asset being tracked, a Trigger Event may include the movement of the asset. </p>
<p id="p-0107" num="0106"> Alternatively, or in addition thereto, Trigger Events may be predefined at regular defined intervals upon which messages are originated and communicated from a node to the server <b>10</b>. Such messages may include all or a portion of data that has been acquired from a sensor associated with the node. </p>
<p id="p-0108" num="0107"> In addition to origination and communication of a message from a node to the server <b>10</b> upon occurrence of a Trigger Event, a message also may be originated and communicated from a node to the server <b>10</b> in response to an inquiry that is received by and directed to the node, a response to which is included in the message. </p>
<heading level="2" id="h-0019">Communicating via Pathways in the Class-Based Wireless Networks: Deterministic vs. Nondeterministic Routing </heading>
<p id="p-0109" num="0108"> Upon occurrence of a Trigger Event, and assuming that the originating node is other than a gateway <b>16</b>, a message is originated and communicated from the originating node to a neighboring node within a class-based network. Two scenarios exist in this situation. First, a particular pathway for reaching a gateway <b>16</b> may be known to the originating node. In this first scenario, the class-based wireless network is deemed a deterministic network, at least to the extent that the originating node can provide determined routing information in the communication of the message, whereby the message will be sent to the gateway <b>16</b> via the identified pathway. In the second scenario, a pathway for reaching a gateway <b>16</b> is not known by the originating node, and the class-based wireless network is deemed a nondeterministic network, at least to the extent that the originating node does not know and, therefore, cannot provide determined routing information identifying a pathway for communication of the message to a gateway <b>16</b>. Each of these scenarios will be discussed in greater detail below. The nondeterministic network scenario is described in detail first with reference to <figref idref="DRAWINGS">FIGS. 14-19</figref> with two separate illustrations: one in connection with the &#x201c;X&#x201d; class-based network and one in connection with the &#x201c;Y&#x201d; class-based network. </p>
<heading level="2" id="h-0020">Nondeterministic Routing Illustrations: Node to Server Communication in Each Class-Based Network </heading>
<p id="p-0110" num="0109"> <figref idref="DRAWINGS">FIGS. 14-19</figref> illustrate the &#x201c;X&#x201d; class-based wireless network of <figref idref="DRAWINGS">FIG. 13</figref> in which the sequence of node-to-node communications takes place following occurrence of a Trigger Event at node X<sub>7</sub>. Because of the occurrence of the Trigger Event, a message is originated and communicated from node X<sub>7 </sub>for further communication to the server <b>10</b>. The sequence of node-to-node communications illustrated here is in accordance with nondeterministic routing and may occur, for example, when nodes X<sub>1 </sub>through X<sub>7 </sub>have not previously communicated with the server <b>10</b> through the wireless network, i.e., when each node may be &#x201c;new&#x201d; to the &#x201c;X&#x201d; class-based wireless network and/or &#x201c;new&#x201d; to the wireless network topology thereof shown in <figref idref="DRAWINGS">FIG. 13</figref>. </p>
<p id="p-0111" num="0110"> With particular regard to certain steps in the sequence of communicating the message from node X<sub>7 </sub>to the gateway <b>16</b>, <figref idref="DRAWINGS">FIG. 14</figref> illustrates the wireless network <b>24</b> at time t=t<sub>1 </sub>when a Trigger Event has occurred at node X<sub>7 </sub>and a message as been originated at node X<sub>7</sub>. At this time the pathway for reaching a gateway <b>16</b> in the &#x201c;X&#x201d; class-based wireless network is unknown to the data communication device of node X<sub>7</sub>. Accordingly, the message is communicated generally to all data communication devices of class &#x201c;X&#x201d; falling within the communications range of node X<sub>7</sub>. The message therefore is shown in <figref idref="DRAWINGS">FIG. 14</figref> being communicated at time t=t<sub>1 </sub>to neighboring node X<sub>6</sub>, which node happens to be within the communications range of node X<sub>7</sub>. Indeed, the communications range of node X<sub>7 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 14</figref> by the generally circular outline around node X<sub>7</sub>, within which only node X<sub>6 </sub>at least partially lies. The act of communicating the message by node X<sub>7 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 14</figref> by shading of the square of the grid containing node X<sub>7</sub>. </p>
<p id="p-0112" num="0111"> Furthermore, it will be appreciated from the foregoing description that in communicating the message from node X<sub>7 </sub>to node X<sub>6</sub>, a communications link first was established between these two nodes. In establishing the communications link, preferably each node is identified to the other node, whereby the originating node will come to learn the neighboring node that falls within its communications range (at least at that time). Furthermore, node X<sub>6</sub>&#x2014;an intermediate node&#x2014;will come to learn from which node the message is received for forwarding to a gateway <b>16</b>. In establishing the communications link and in communicating the message, information regarding the quality of the link also is monitored and recorded. </p>
<p id="p-0113" num="0112"> At time t=t<sub>2</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 15</figref> being communicated by node X<sub>6 </sub>to neighboring nodes X<sub>4</sub>,X<sub>5</sub>,X<sub>7</sub>, which nodes happen to be within the communications range of node X<sub>6</sub>. Again, because node X<sub>6 </sub>does not know a pathway to the gateway <b>16</b>, node X<sub>6 </sub>proceeds to communicate the message generally to all nodes within its communications range following the same protocol as originating node X<sub>7</sub>. The communications range of node X<sub>6 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 15</figref> by the generally circular outline around node X<sub>6</sub>, within which only nodes X<sub>4</sub>,X<sub>5</sub>,X<sub>7 </sub>each at least partially lies. The act of communicating the message by node X<sub>6 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 15</figref> by shading of the square of the grid containing node X<sub>6</sub>. </p>
<p id="p-0114" num="0113"> At time t=t<sub>3</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 16</figref> being communicated by each of nodes X<sub>4</sub>,X<sub>5 </sub>to respective neighboring nodes that happen to be within communications range. The communications range of node X<sub>4 </sub>is graphically illustrated by the generally circular outline around node X<sub>4 </sub>in <figref idref="DRAWINGS">FIG. 16</figref>, and the communications range of node X<sub>5 </sub>is graphically illustrated by the generally circular outline around node X<sub>5 </sub>in <figref idref="DRAWINGS">FIG. 16</figref>. As further identified in <figref idref="DRAWINGS">FIG. 16</figref>, nodes X<sub>2</sub>,G,X<sub>6 </sub>each at least partially lies within the communications range of node X<sub>4</sub>, and nodes G,X<sub>6 </sub>each at least partially lies within the communications range of node X<sub>5</sub>. The act of communicating the message by node X<sub>4 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 16</figref> by shading of the square of the grid containing node X<sub>4</sub>, and the act of communicating the message by node X<sub>5 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 16</figref> by shading of the square of the grid containing node X<sub>5</sub>. Receipt of a communication containing the message by node G at time t=t<sub>3 </sub>also is emphasized in <figref idref="DRAWINGS">FIG. 16</figref> by shading of the square of the grid containing node G. </p>
<p id="p-0115" num="0114"> Furthermore, it should be noted that node X<sub>7 </sub>that receives the communication from node X<sub>6 </sub>does not again communicate the message. Preferably, a message that has been communicated from a node is stored or cached within memory of the data communication device of the node, and before a message received from another node is forwarded, the message is screened against those messages stored or cached within memory. Alternatively, a message ID of a message that has been communicated from a node preferably is stored or cached within memory of the data communication device of the node, and before a message received from another node is forwarded, the message ID of that message is screened against the message IDs stored or cached within memory. In either case, if it is determined that a message previously has been communicated from the node, then the same message will not be communicated again from the node. Consequently, node X<sub>7 </sub>is not illustrated in <figref idref="DRAWINGS">FIG. 16</figref> as communicating the message again. Only nodes X<sub>4</sub>,X<sub>5</sub>, which have not yet communicated the message, are shown in <figref idref="DRAWINGS">FIG. 16</figref> as communicating the message. </p>
<p id="p-0116" num="0115"> At time t=t<sub>4</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 17</figref> being communicated to neighboring nodes X<sub>1</sub>,X<sub>3</sub>,X<sub>4</sub>, which nodes happen to be within the communications range of node X<sub>2</sub>. The communications range of node X<sub>2 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 17</figref> by the generally circular outline around node X<sub>2</sub>, within which only nodes X<sub>1</sub>,X<sub>3</sub>,X<sub>4 </sub>each at least partially lies. The act of communicating the message by node X<sub>2 </sub>further is graphically illustrated by shading of the square of the grid containing node X<sub>2</sub>. </p>
<p id="p-0117" num="0116"> At time t=t<sub>5</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 18</figref> being communicated by each of nodes X<sub>1</sub>,X<sub>3 </sub>to respective neighboring nodes that happen to be within communications range. The communications range of node X<sub>1 </sub>is graphically illustrated by the generally circular outline around node X<sub>1 </sub>in <figref idref="DRAWINGS">FIG. 18</figref>, and the communications range of node X<sub>3 </sub>is graphically illustrated by the generally circular outline around node X<sub>3 </sub>in <figref idref="DRAWINGS">FIG. 18</figref>. As further shown in <figref idref="DRAWINGS">FIG. 18</figref>, nodes G,X<sub>2 </sub>each at least partially lies within the communications range of node X<sub>1</sub>, and node X<sub>2 </sub>at least partially lies within the communications range of node X<sub>3</sub>. The act of communicating the message by node X<sub>1 </sub>further is graphically illustrated by shading of the square of the grid containing node X<sub>1</sub>, and the act of communicating the message by node X<sub>3 </sub>further is graphically illustrated by shading of the square of the grid containing node X<sub>3</sub>. Receipt of a communication containing the message by node G at time t=t<sub>5 </sub>also is emphasized in <figref idref="DRAWINGS">FIG. 18</figref> by shading of the square of the grid containing node G. </p>
<p id="p-0118" num="0117"> At time t=t<sub>6</sub>, the message now has been communicated to the gateway <b>16</b> by way of three different pathways, the message has been propagated to all nodes of the &#x201c;X&#x201d; class-based wireless network, and no further communication of the message within the &#x201c;X&#x201d; class-based wireless network occurs, as illustrated in <figref idref="DRAWINGS">FIG. 19</figref>. </p>
<p id="p-0119" num="0118"> In accordance with preferred implementations, when node G (the gateway <b>16</b>) receives the message intended for the server <b>10</b>, the message is communicated to the server <b>10</b>. Together with the message, the following information also preferably is communicated from the gateway <b>16</b> to the server <b>10</b>: the pathway, including the identification of the originating node and each intermediate node by which the message was communicated; and the link quality of each communications link of the pathway. Other information also may be communicated, as desired. </p>
<p id="p-0120" num="0119"> Based on the illustration set forth in <figref idref="DRAWINGS">FIGS. 14-19</figref>, the server <b>10</b> will receive three communications of the message from the gateway <b>16</b>. In accordance with the present invention, the server <b>10</b> will record, for each receipt of the message, the pathway by which the message was communicated, including the identification of the originating node and each intermediate node by which the message was communicated. The server <b>10</b> additionally will record the link quality of each communications link in the pathway and will calculate a representative overall link quality for each pathway. Any other information communicated with the message also may be recorded in association therewith. For instance, the server <b>10</b> will receive and record the link quality for all possible links in the &#x201c;X&#x201d; class-based network except the communications link between respective data communication devices of node X<sub>2 </sub>and node X<sub>3</sub>; this communications link will not be identified by the server <b>10</b> because no pathway included node X<sub>3</sub>. </p>
<p id="p-0121" num="0120"> A subset of FIGS. <b>14</b>-<b>19</b>&#x2014;namely, FIGS. <b>17</b>-<b>19</b>&#x2014;illustrate nondeterministic networking in the &#x201c;Y&#x201d; class-based wireless network of <figref idref="DRAWINGS">FIG. 13</figref>. In this case, the sequence of node-to-node communications illustrated takes place following occurrence of a Trigger Event at node Y<sub>5</sub>. </p>
<p id="p-0122" num="0121"> In particular, because of the occurrence of the Trigger Event at node Y<sub>5</sub>, a message is originated and communicated from node Y<sub>5 </sub>for further communication to the server <b>10</b>. The sequence of node-to-node communications illustrated here is in accordance with nondeterministic routing and may occur, for example, when nodes Y<sub>1 </sub>through Y<sub>5 </sub>have not previously communicated with the server <b>10</b> through the wireless network, i.e., when each node may be &#x201c;new&#x201d; to the &#x201c;Y&#x201d; class-based wireless network and/or &#x201c;new&#x201d; to the wireless network topology thereof shown in <figref idref="DRAWINGS">FIG. 13</figref>. </p>
<p id="p-0123" num="0122"> With particular regard to certain steps in the sequence of communicating the message from node Y<sub>5 </sub>to the gateway <b>16</b>, <figref idref="DRAWINGS">FIG. 17</figref> illustrates the wireless network <b>24</b> at time t=t<sub>4 </sub>when a Trigger Event has occurred at node Y<sub>5 </sub>and a message as been originated at node Y<sub>5</sub>. At this time the pathway for reaching a gateway <b>16</b> in the &#x201c;Y&#x201d; class-based wireless network is unknown to the data communication device of node Y<sub>5</sub>. Accordingly, the message is communicated generally to all data communication devices of class &#x201c;Y&#x201d; falling within the communications range of node Y<sub>5</sub>. The message therefore is shown in <figref idref="DRAWINGS">FIG. 17</figref> being communicated at time t=t<sub>4 </sub>to neighboring node Y<sub>4</sub>, which node happens to be within the communications range of node Y<sub>5</sub>. Indeed, the communications range of node Y<sub>5 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 17</figref> by the generally circular outline around node Y<sub>5</sub>, within which only node Y<sub>4 </sub>of the &#x201c;Y&#x201d; class-based network at least partially lies. The act of communicating the message by node Y<sub>5 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 17</figref> by shading of the square of the grid containing node Y<sub>5</sub>. </p>
<p id="p-0124" num="0123"> Furthermore, it will be appreciated from the foregoing description that in communicating the message from node Y<sub>5 </sub>to node Y<sub>4</sub>, a communications link first was established between these two nodes. In establishing the communications link, preferably each node is identified to the other node, whereby the originating node will come to learn the neighboring node that falls within its communications range (at least at that time). Furthermore, node Y<sub>4</sub>&#x2014;an intermediate node&#x2014;will come to learn from which node the message is received for forwarding to a gateway <b>16</b>. In establishing the communications link and in communicating the message, information regarding the quality of the link also is monitored and recorded. </p>
<p id="p-0125" num="0124"> At time t=t<sub>5</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 18</figref> being communicated by node Y<sub>4 </sub>to neighboring nodes Y<sub>3</sub>,Y<sub>5</sub>, which nodes happen to be within the communications range of node Y<sub>4 </sub>in the &#x201c;Y&#x201d; class-based wireless network. Again, because node Y<sub>4 </sub>does not know a pathway to the gateway <b>16</b>, node Y<sub>4 </sub>proceeds to communicate the message generally to all nodes of the &#x201c;Y&#x201d; class-based network within its communications range following the same protocol as originating node Y<sub>5</sub>. The communications range of node Y<sub>4 </sub>is graphically illustrated in <figref idref="DRAWINGS">FIG. 18</figref> by the generally circular outline around node Y<sub>4</sub>, within which only nodes Y<sub>3</sub>,Y<sub>5 </sub>each at least partially lies. The act of communicating the message by node Y<sub>4 </sub>further is graphically illustrated in <figref idref="DRAWINGS">FIG. 18</figref> by shading of the square of the grid containing node Y<sub>4</sub>. </p>
<p id="p-0126" num="0125"> At time t=t<sub>6</sub>, the message is shown in <figref idref="DRAWINGS">FIG. 19</figref> being communicated by node Y<sub>3 </sub>in propagation of the message. The act of communicating the message by node Y<sub>3 </sub>is graphically illustrated by shading of the square of the grid containing node Y<sub>3</sub>. Furthermore, it should be noted that node Y<sub>5</sub>, which received the communication from node Y<sub>4</sub>, does not communicate the message a second time. Preferably, a message that has been communicated from a node is stored or cached within memory of the data communication device of the node, and before a message received from another node is forwarded, the message is screened against those messages stored or cached within memory. Alternatively, a message ID of a message that has been communicated from a node preferably is stored or cached within memory of the data communication device of the node, and before a message received from another node is forwarded, the message ID of that message is screened against the message IDs stored or cached within memory. In either case, if it is determined that a message previously has been communicated from the node, then the same message will not be communicated again from the node. Consequently, node Y<sub>5 </sub>is not illustrated in <figref idref="DRAWINGS">FIG. 19</figref> as communicating the message again. Only node Y<sub>3</sub>, which has not yet communicated the message, is shown in <figref idref="DRAWINGS">FIG. 19</figref> as communicating the message. </p>
<p id="p-0127" num="0126"> As further shown in <figref idref="DRAWINGS">FIG. 19</figref>, node G at least partially lies within the communications range of node Y<sub>3</sub>. Receipt of the communication containing the message by node G at time t=t<sub>6 </sub>is emphasized in <figref idref="DRAWINGS">FIG. 19</figref> by shading of the square of the grid containing node G. </p>
<p id="p-0128" num="0127"> Moreover, because node G was the only node of the &#x201c;Y&#x201d; class-based network within the communication range of node Y<sub>3</sub>, no further communication of the message within the &#x201c;Y&#x201d; class-based wireless network occurs. </p>
<p id="p-0129" num="0128"> In accordance with preferred implementations, when node G (the gateway <b>16</b>) receives the message intended for the server <b>10</b>, the message is communicated to the server <b>10</b>. Together with the message, the following information also preferably is communicated from the gateway <b>16</b> to the server <b>10</b>: the pathway, including the identification of the originating node and each intermediate node by which the message was communicated; and the link quality of each communications link of the pathway. Other information also may be communicated, as desired. </p>
<p id="p-0130" num="0129"> Based on the illustration set forth in <figref idref="DRAWINGS">FIGS. 17-19</figref>, the server <b>10</b> will receive a communication of the message from node Y<sub>5 </sub>through the &#x201c;Y&#x201d; class-based network via the gateway <b>16</b>. In accordance with the present invention, the server <b>10</b> will record the pathway by which the message was communicated, including the identification of the originating node and each intermediate node by which the message was communicated. The server <b>10</b> additionally will record the link quality of each communications link in the pathway and will calculate a representative overall link quality for the pathway. Any other information communicated with the message also may be recorded in association therewith. </p>
<heading level="2" id="h-0021">Acknowledging Successful Receipt of a Message: Sending an ACK via Deterministic Routing in Class-Based Networks </heading>
<p id="p-0131" num="0130"> Upon the successful receipt of a message by the server <b>10</b>, the server <b>10</b> preferably sends to the originating node of the message an ACK to acknowledge the successful receipt of the message. Preferably, only one ACK is sent for each particular message, regardless of the number of times that the particular message is received by the server <b>10</b> via different pathways. </p>
<p id="p-0132" num="0131"> In sending the ACK, the server <b>10</b> preferably selects a known pathway based on information that is received with the message or that has been received in conjunction with previous messages or other intelligence that is known about the network topology. Selection of the particular pathway is made in accordance with one of the disclosed algorithms or in accordance with some other algorithm, as desired. If an ACK is not received from the server <b>10</b> by the originating node, then the originating node will save the message in memory for communication at a later time when communication with the server <b>10</b> is available. </p>
<p id="p-0133" num="0132"> Similarly, the receipt of a message representing a command or inquiry that is sent by a server <b>10</b> to a destination node preferably is acknowledged by an ACK being sent to the server <b>10</b> from the destination node. The message may be sent via a known pathway or, if the pathway is outdated or otherwise unknown, then the message is sent in accordance with the nondeterministic routing method of the present invention. In particular, the message is communicated to the wireless network in which the destination node is likely to be found. The message then propagates through the nodes of that wireless network and, when the destination node receives the message, the ACK is communicated by the destination node to the server <b>10</b>. Moreover, like the server <b>10</b>, the node in this case will have sufficient information upon receipt of the message to select the &#x201c;best&#x201d; pathway for communicating the ACK back to the server <b>10</b>. Additionally, if an ACK is not received by the server <b>10</b>, then the server <b>10</b> can store or cache the message for later communication, or the server <b>10</b> can communicate the message to one or more other suspected wireless networks in which the data communication device of the destination node (the actual recipient of the message) may be found. </p>
<p id="p-0134" num="0133"> <figref idref="DRAWINGS">FIGS. 20-22</figref> illustrate communication of an ACK from the server <b>10</b> to originating node X<sub>7 </sub>of <figref idref="DRAWINGS">FIG. 14</figref> along a deterministic route, and <figref idref="DRAWINGS">FIGS. 22-24</figref> illustrate communication of an ACK from the server <b>10</b> to originating node Y<sub>5 </sub>of <figref idref="DRAWINGS">FIG. 17</figref> along a deterministic route. The deterministic route in each class-based wireless network is readily based on the information obtained from the nondeterministic routing illustration of <figref idref="DRAWINGS">FIGS. 14-19</figref> and the information that is acquired by the server <b>10</b> in conjunction with the receipt of the message. Additionally, as will be appreciated, the information also may permit the server <b>10</b> to send a command or inquiry to any intermediate node via a deterministic route. </p>
<heading level="2" id="h-0022">Server Search for Specific Node: Using All Available Resources of the Overall Wireless Network </heading>
<p id="p-0135" num="0134"> One of many advantages of the present invention utilized in class-based wireless networks is the ability to send communications via data communication devices of a particular class-based network without consuming power resources of data communication devices of one or more other class-based networks. This is particularly beneficial if two different class-based networks having nodes within communication range of each other are owned or operated by or on the behalf of separate legal entities. </p>
<p id="p-0136" num="0135"> Nevertheless, it also is beneficial to be able to utilize all nodes within communications range of another node regardless of particular classes of the nodes. For example, an urgent need may arise to communicate with a particular mobile data communications device that may be out of range of a node of a class with which that data communications device is associated, but nevertheless within range of a node of a different class-based wireless network. </p>
<p id="p-0137" num="0136"> An example of this scenario is illustrated in <figref idref="DRAWINGS">FIGS. 25-30</figref> where node Y<sub>2 </sub>is within communications range of nodes of the &#x201c;X&#x201d; class-based wireless network, but out of communications range of all other nodes of the &#x201c;Y&#x201d; class-based wireless network. If the server <b>10</b> has reason to suspect that the data communications device associated with node Y<sub>2 </sub>is within the overall wireless network <b>24</b> of <figref idref="DRAWINGS">FIG. 13</figref>, then the server <b>10</b> may send a communication to node Y<sub>2 </sub>via nondeterministic routing utilizing all nodes of the overall wireless network <b>24</b>. In this case, the overall wireless network <b>24</b> is identified by the &#x201c;A&#x201d; class-based wireless network, of which all nodes (i.e., data communication devices) are members. </p>
<p id="p-0138" num="0137"> The server <b>10</b> thus sends a communication destined for receipt by node Y<sub>2 </sub>via node G to the &#x201c;A&#x201d; class-based network. Transmission of this message by node G at time t=t<sub>12 </sub>is illustrated in <figref idref="DRAWINGS">FIG. 25</figref>. Nodes X<sub>1</sub>,X<sub>4</sub>,X<sub>5</sub>,Y<sub>3 </sub>all are within the communications range of node G and, therefore, receive the message. Because each of these nodes X<sub>1</sub>,X<sub>4</sub>,X<sub>5</sub>,Y<sub>3 </sub>are members of the &#x201c;A&#x201d; class-based network, each node X<sub>1</sub>,X<sub>4</sub>,X<sub>5</sub>,Y<sub>3 </sub>(i.e., data communications device thereof) will receive the message and transmit the message intended for receipt by Y<sub>2</sub>. </p>
<p id="p-0139" num="0138"> Assuming that none of the nodes X<sub>1</sub>,X<sub>4</sub>,X<sub>5</sub>,Y<sub>3 </sub>have information identifying a deterministic pathway to node Y<sub>2</sub>, each preferably will transmit the message generally to all nodes of class &#x201c;A&#x201d; within its respective communications range for propagation of the message. This retransmission of the message by nodes X<sub>1</sub>,X<sub>4</sub>,X<sub>5</sub>,Y<sub>3 </sub>is illustrated in <figref idref="DRAWINGS">FIG. 26</figref> at time t t<sub>13</sub>. On the other hand, if a node X<sub>1</sub>,X<sub>4</sub>,X<sub>5</sub>,Y<sub>3 </sub>has information identifying a deterministic pathway to node Y<sub>2</sub>, then that node preferably will transmit the message to node Y<sub>2 </sub>via such deterministic network pathway. </p>
<p id="p-0140" num="0139"> As shown in <figref idref="DRAWINGS">FIG. 26</figref>, node Y<sub>2 </sub>is within communications range of node X<sub>4 </sub>and first receives the message from the server <b>10</b> via intermediate node X<sub>4</sub>. As the message continues to propagate, node Y<sub>2 </sub>also receives the message from the server <b>10</b> via intermediate node X<sub>2 </sub>as shown in <figref idref="DRAWINGS">FIG. 27</figref> at time t=t<sub>14</sub>; and receives the message from the server <b>10</b> via intermediate node X<sub>3 </sub>as shown in <figref idref="DRAWINGS">FIG. 28</figref> at time t=t<sub>15</sub>. The data communications device of node Y<sub>2 </sub>acknowledges receipt of the message from the server <b>10</b> by sending an ACK to the server <b>10</b>, as illustrated in <figref idref="DRAWINGS">FIGS. 29-30</figref>. </p>
<p id="p-0141" num="0140"> Moreover, as will be appreciated, the message has been received three times and, hence, several pathways to the server <b>10</b> and information regarding those pathways are known to the data communications device of node Y<sub>2 </sub></p>
<p id="p-0142" num="0141"> Accordingly, a deterministic route is chosen based on an appropriate algorithm for sending the ACK to the server <b>10</b>. The appropriate algorithm may take into account factors such as, for example, the number of intermediate nodes of the pathway, the link quality of the various communications links of the pathway, the overall link quality of the pathway, the number of &#x201c;Y&#x201d; class-based network nodes of the pathway, and the number of non &#x201c;Y&#x201d; class-based network nodes of the pathway. </p>
<p id="p-0143" num="0142"> In this example, node Y<sub>2 </sub>transmits a message representing the ACK to the server <b>10</b> by transmitting the message to node X<sub>4 </sub>as shown in <figref idref="DRAWINGS">FIG. 29</figref> at time t=t<sub>16 </sub>and, in turn, node X<sub>4 </sub>transmits the message representing the ACK to the node G as shown in <figref idref="DRAWINGS">FIG. 30</figref> at time t=t<sub>17</sub>. Node G further is shown as receiving this message in <figref idref="DRAWINGS">FIG. 30</figref>. It also should be noted that the ACK is transmitted in this case to an &#x201c;X&#x201d; class-based network node because node Y<sub>2 </sub>otherwise would be out of communications range with the server <b>10</b> via node G and, therefore, unable to transmit the ACK successfully to the server <b>10</b> via node G. </p>
<heading level="2" id="h-0023">Class Tables </heading>
<p id="p-0144" num="0143"> In accordance with class-based networks, each data communications device of a node of a class-based wireless network preferably maintains membership information in the form of a membership table of the classes of which that device is a member. Furthermore, membership in a class need not be exclusive relative to membership in another class. For example, a particular communications device may include membership in both the &#x201c;X&#x201d; class and the &#x201c;Y&#x201d; class of the exemplary network <b>24</b> of <figref idref="DRAWINGS">FIG. 13</figref>. The class table can be referenced when a class-based message is received by a data communications device to determine whether the message is applicable to the data communications device. </p>
<p id="p-0145" num="0144"> Class tables also are helpful to reference when attempting to send a message. In this respect, a class table may include not only identification of the classes of which a data communications device is a member, but also the identification of other classes with which the data communications device may need to communicate under certain scenarios. Such a class table similarly is useful for a server <b>10</b> when sending class-based communications. </p>
<p id="p-0146" num="0145"> Additionally, in preferred embodiments, a server <b>10</b> maintains and updates class tables for various data communications devices of one or more class-based wireless networks, whereby centralized assignment of classes may be performed and distributed from the server <b>10</b> down to the different devices. Communications of updates and/or assignments of new classes for each data communications device thereby can be efficiently performed in accordance with such an architecture. </p>
<p id="p-0147" num="0146"> While the present invention is described herein in detail in relation to one or more embodiments, it is to be understood that this disclosure is illustrative and exemplary of the present invention, and is made merely for the purposes of providing a full and enabling disclosure of the present invention. The detailed disclosure herein of one or more embodiments is not intended, nor is to be construed, to limit the scope of patent protection afforded the present invention. It is not intended that the scope of patent protection afforded the present invention be defined by reading into any claim a limitation found herein that does not explicitly appear in the claim itself. </p>
<heading level="2" id="h-0024">ALTERNATIVE EMBODIMENTS </heading>
<p id="p-0148" num="0147"> In alternative embodiments of the exemplary network architectures shown in <figref idref="DRAWINGS">FIGS. 1 and 13</figref>, it further is contemplated that the server <b>10</b> may be combined with a gateway <b>16</b>, which combination sometimes may be referred to as a &#x201c;gateway controller&#x201d; or &#x201c;GC&#x201d;. In such implementations the gateway controller performs both the aforementioned functions of the gateway <b>16</b> and the server <b>10</b>. The WAN <b>12</b>, if utilized in such alternative embodiments, then provides an avenue for communicating with the gateway controller for accessing information recorded and maintained by the gateway controller. </p>
<p id="p-0149" num="0148"> In yet further alternative embodiments, it is contemplated that, instead of &#x201c;hopping&#x201d; between nodes (which generally keeps power consumption low), continuous communications links can be established between nodes along a pathway between an originating node and a destination node. Maintaining the connection with continuous communications links facilitates large file transfers as well as real time communications, such as voice over IP and video conferencing communications between persons. Indeed, two communications links between each pair of nodes in the pathway may be established for enabling two-way communications using half-duplex standards based radios, such as Bluetooth radios. </p>
<?detailed-description description="Detailed Description" end="tail"?>
</description>
<us-claim-statement>What is claimed is: </us-claim-statement>
<claims id="claims">
<claim id="CLM-00001" num="00001">
<claim-text><b>1</b>. In a wireless network comprising a plurality of nodes, a method of communicating a message from an originating node, intended for receipt by a destination node, via one or more intermediate nodes, comprising the step of communicating with all nodes within the communications range of the originating node if a network pathway to the destination node is unknown by the originating node, said step of communicating including sending the message. </claim-text>
 </claim>
<claim id="CLM-00002" num="00002">
<claim-text><b>2</b>. The method of <claim-ref idref="CLM-00001">claim 1</claim-ref>, further comprising communicating the message from the originating node by a first intermediate node by communicating with all nodes within the communications range of the first intermediate node if a network pathway to the destination node is unknown by the first intermediate node, said step of communicating including sending, 
<claim-text>(i) the message, and </claim-text>
<claim-text>(ii) the link quality between the originating node and the first intermediate node. </claim-text>
</claim-text>
 </claim>
<claim id="CLM-00003" num="00003">
<claim-text><b>3</b>. In a wireless network comprising a plurality of nodes, a method of communicating a message from an originating node, intended for receipt by a destination node, via one or more intermediate nodes, comprising the steps of: 
<claim-text>(a) communicating with just a single node within the communications range of the originating node if a network pathway to the destination node is known by the originating node, the single node being the first intermediate node identified in the known network pathway, said step of communicating including sending the message and the known network pathway to the first intermediate node; and </claim-text>
<claim-text>(b) communicating with one or more first intermediate nodes within the communications range of the originating node if a network pathway to the destination node is unknown by the originating node, said step of communicating including sending the message. </claim-text>
</claim-text>
 </claim>
<claim id="CLM-00004" num="00004">
<claim-text><b>4</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising communicating the message by a first intermediate node by: 
<claim-text>(a) communicating with just a single node within the communications range of the first intermediate node if a network pathway to the destination node is known by the first intermediate node, the single node being the node identified next after the first intermediate node in the known network pathway, said step of communicating including sending, to the next identified node, 
<claim-text>(i) the message, </claim-text>
<claim-text>(ii) the known network pathway, and </claim-text>
<claim-text>(iii) the link quality between the originating node and the first intermediate node; and </claim-text>
</claim-text>
<claim-text>(b) communicating with one or more nodes within the communications range of the first intermediate node if a network pathway to the destination node is unknown by the first intermediate node, said step of communicating including sending, 
<claim-text>(i) the message, and </claim-text>
<claim-text>(ii) the link quality between the originating node and the first intermediate node. </claim-text>
</claim-text>
</claim-text>
 </claim>
<claim id="CLM-00005" num="00005">
<claim-text><b>5</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, further comprising communicating the message by the first intermediate node by: 
<claim-text>(a) communicating with just a single node within the communications range of the first intermediate node if a single network pathway to the destination node is known by the first intermediate node, the single node being the node identified next after the first intermediate node in the single network pathway, including sending, to the single node, 
<claim-text>(i) the message, </claim-text>
<claim-text>(ii) the known network pathway, and </claim-text>
<claim-text>(iii) the link quality between the originating node and the first intermediate node; </claim-text>
</claim-text>
<claim-text>(b) if a plurality of network pathways to the destination node are known by the first intermediate node, then, 
<claim-text>(i) determining a preferred network pathway from the plurality of known network pathways in accordance with an algorithm, and </claim-text>
<claim-text>(ii) communicating with just a single node within the communications range of the first intermediate node, the single node being the node identified next after the first intermediate node in the preferred network pathway, including sending, to the next identified node, 
<claim-text>(A) the message, </claim-text>
<claim-text>(B) the preferred network pathway, and </claim-text>
<claim-text>(C) the link quality between the originating node and the first intermediate node; and </claim-text>
</claim-text>
</claim-text>
<claim-text>(c) if no network pathway is known by the first intermediate node, then communicating with one or more nodes within the communications range of the first intermediate node, including sending, 
<claim-text>(i) the message, and </claim-text>
<claim-text>(ii) the link quality between the originating node and the first intermediate node. </claim-text>
</claim-text>
</claim-text>
 </claim>
<claim id="CLM-00006" num="00006">
<claim-text><b>6</b>. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein determining a preferred network pathway from the known network pathways in accordance with an algorithm comprises comparing, for each known network pathway, the number of hops, between nodes, that are required to reach the destination node. </claim-text>
 </claim>
<claim id="CLM-00007" num="00007">
<claim-text><b>7</b>. The method of <claim-ref idref="CLM-00005">claim 5</claim-ref>, wherein determining a preferred network pathway from the known network pathways in accordance with an algorithm comprises comparing the overall link quality of the respective known network pathways. </claim-text>
 </claim>
<claim id="CLM-00008" num="00008">
<claim-text><b>8</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein messages are communicated between nodes utilizing transmission control protocol (TCP). </claim-text>
 </claim>
<claim id="CLM-00009" num="00009">
<claim-text><b>9</b>. The method of <claim-ref idref="CLM-00003">claim 3</claim-ref>, wherein messages are communicated between nodes of the wireless network via data packets. </claim-text>
 </claim>
<claim id="CLM-00010" num="00010">
<claim-text><b>10</b>. A wireless network in which the method of <claim-ref idref="CLM-00003">claim 3</claim-ref> is utilized. </claim-text>
 </claim>
<claim id="CLM-00011" num="00011">
<claim-text><b>11</b>. An ad hoc wireless network in which the method of <claim-ref idref="CLM-00003">claim 3</claim-ref> is utilized. </claim-text>
 </claim>
<claim id="CLM-00012" num="00012">
<claim-text><b>12</b>. A class-based wireless network in which the method of <claim-ref idref="CLM-00003">claim 3</claim-ref> is utilized. </claim-text>
 </claim>
<claim id="CLM-00013" num="00013">
<claim-text><b>13</b>. A data communications device forming a node of a wireless network, wherein the data communications device includes computer-executable instructions in computer-readable medium for performing the method of <claim-ref idref="CLM-00003">claim 3</claim-ref>. </claim-text>
 </claim>
<claim id="CLM-00014" num="00014">
<claim-text><b>14</b>. The data communications device of <claim-ref idref="CLM-00013">claim 13</claim-ref>, wherein the data communications device comprises a standards based radio. </claim-text>
 </claim>
<claim id="CLM-00015" num="00015">
<claim-text><b>15</b>. The data communications device of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the data communications device further includes a wireless receiver for powering up the standards based radio upon receipt of a broadcast that is intended for the standards based radio. </claim-text>
 </claim>
<claim id="CLM-00016" num="00016">
<claim-text><b>16</b>. The data communications device of <claim-ref idref="CLM-00015">claim 15</claim-ref>, wherein the second wireless receiver performs a stepped wake-up sequence of the standards based radio. </claim-text>
 </claim>
<claim id="CLM-00017" num="00017">
<claim-text><b>17</b>. The data communications device of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the standards based radio comprises a Bluetooth radio. </claim-text>
 </claim>
<claim id="CLM-00018" num="00018">
<claim-text><b>18</b>. The data communications device of <claim-ref idref="CLM-00014">claim 14</claim-ref>, wherein the standards based radio includes a sensor interface whereby data is acquired by the data communications device from an associated sensor. </claim-text>
 </claim>
<claim id="CLM-00019" num="00019">
<claim-text><b>19</b>. In a wireless network comprising a plurality of nodes, a method of communicating a message from an originating node, intended for receipt by a destination node, via one or more intermediate nodes, comprising the steps of: 
<claim-text>(a) first, 
<claim-text>(i) communicating with just a single node within the communications range of the originating node if a network pathway to the destination node is known by the originating node, the single node being the first intermediate node identified in the known network pathway, said step of communicating including sending the message and the known network pathway to the first intermediate node, and </claim-text>
<claim-text>(ii) communicating with one or more first intermediate nodes within the communications range of the originating node if a network pathway to the destination node is unknown by the originating node, said step of communicating including sending the message; and </claim-text>
</claim-text>
<claim-text>(b) thereafter, further communicating the message by the first intermediate node by: 
<claim-text>(i) communicating with just a single node within the communications range of the first intermediate node if a single network pathway to the destination node is known by the first intermediate node, the single node being the node identified next after the first intermediate node in the single network pathway, including sending, to the single node, 
<claim-text>(A) the message, and </claim-text>
<claim-text>(B) the known network pathway, and </claim-text>
</claim-text>
<claim-text>(ii) if a plurality of network pathways to the destination node are known by the first intermediate node, then, 
<claim-text>(A) determining a preferred network pathway from the plurality of known network pathways in accordance with an algorithm, and </claim-text>
<claim-text>(B) communicating with just a single node within the communications range of the first intermediate node, the single node being the node identified next after the first intermediate node in the preferred network pathway, including sending, to the next identified node, 
<claim-text>(I) the message, and </claim-text>
<claim-text>(II) the preferred network pathway, and </claim-text>
</claim-text>
</claim-text>
<claim-text>(iii) if no network pathway is known by the first intermediate node, then communicating with one or more nodes within the communications range of the first intermediate node, including sending the message. </claim-text>
</claim-text>
</claim-text>
 </claim>
<claim id="CLM-00020" num="00020">
<claim-text><b>20</b>. The method of <claim-ref idref="CLM-00019">claim 19</claim-ref>, wherein the determining of a preferred network pathway from the known network pathways in accordance with an algorithm comprises both (a) comparing, for each known network pathway, the number of hops, between nodes, that are required to reach the destination node, and (b) comparing the overall link quality of the respective known network pathways.</claim-text>
 </claim>
</claims>
</us-patent-application>
