US  	US  	 PRP	O
20070006167  	20070006167  	 CD	O
A1  	A1  	 CD	O
20070104  	20070104  	 CD	O
US  	US  	 NNP	O
11140841  	11140841  	 CD	O
20050531  	20050531  	 CD	O
11  	11  	 CD	O
20060101  	20060101  	 CD	O
A  	A  	 DT	O
G  	G  	 NNP	O
06  	06  	 CD	O
F  	F  	 NN	O
9  	9  	 CD	O
44  	44  	 CD	O
F  	F  	 NN	O
I  	I  	 PRP	O
20070104  	20070104  	 CD	O
US  	US  	 NNP	O
B  	B  	 NNP	B-NP
H  	H  	 NNP	I-NP
US  	US  	 NNP	O
717130000  	717130000  	 CD	O
Optimizing  	Optimizing  	 JJ	B-NP
binary-level  	binary-level  	 JJ	I-NP
instrumentation  	instrumentation  	 NN	I-NP
via  	via  	 IN	O
instruction  	instruction  	 FW	O
scheduling  	scheduling  	 FW	B-NP
Luk  	Luk  	 FW	I-NP
Chi-Keung  	Chi-Keung  	 FW	I-NP
Ashland  	Ashland  	 NNP	O
MA  	MA  	 NNP	O
US  	US  	 NNP	O
Zichron  	Zichron  	 UH	B-NP
Yaacov  	Yaacov  	 UH	I-NP
IL  	IL  	 UH	I-NP
Salem  	Salem  	 NNP	O
NH  	NH  	 NNP	O
US  	US  	 NNP	O
Michmoret  	Michmoret  	 UH	B-NP
IL  	IL  	 UH	I-NP
1616  	1616  	 CD	O
S.  	S.  	 NNP	B-NP
VOSS  	VOSS  	 NNP	I-NP
ROAD 	ROAD 	 NNP	I-NP
,  	,  	 ,	O
SUITE  	SUITE  	 NNP	O
750  	750  	 CD	O
HOUSTON  	HOUSTON  	 NNP	B-NP
TX  	TX  	 NNP	I-NP
77057-2631  	77057-2631  	 NNP	O
US  	US  	 NNP	O
In  	In  	 IN	O
one  	one  	 CD	O
embodiment 	embodiment 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
includes  	includes  	 VBZ	O
a  	a  	 DT	O
method  	method  	 NN	O
for  	for  	 IN	O
receiving  	receiving  	 VBG	O
a  	a  	 DT	O
command  	command  	 NN	O
to  	to  	 TO	O
insert  	insert  	 VB	O
instrumentation  	instrumentation  	 JJ	B-NP
code  	code  	 NN	I-NP
into  	into  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
segment 	segment 	 NN	I-NP
,  	,  	 ,	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
to  	to  	 TO	O
determine  	determine  	 VB	O
an  	an  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
for  	for  	 IN	I-NP
the  	the  	 DT	I-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
within  	within  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment 	segment 	 NN	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
at  	at  	 IN	O
the  	the  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
to  	to  	 TO	O
generate  	generate  	 VB	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment 	segment 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment  	segment  	 NN	I-NP
may  	may  	 MD	O
then  	then  	 RB	O
be  	be  	 VB	O
executed  	executed  	 VBN	O
and  	and  	 CC	O
may  	may  	 MD	O
provide  	provide  	 VB	O
for  	for  	 IN	O
improved  	improved  	 JJ	O
performance  	performance  	 NN	O
over  	over  	 IN	O
unoptimized  	unoptimized  	 JJ	B-NP
instrumented  	instrumented  	 JJ	I-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
Other  	Other  	 JJ	O
embodiments  	embodiments  	 NNS	O
are  	are  	 VBP	O
described  	described  	 VBN	O
and  	and  	 CC	O
claimed 	claimed 	 VBD	O
.  	.  	 .	O
Embodiments  	Embodiments  	 NNP	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NNS	O
relate  	relate  	 VBP	O
to  	to  	 TO	O
software  	software  	 NN	B-NP
operation 	operation 	 NN	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
more  	more  	 RBR	O
particularly  	particularly  	 RB	O
to  	to  	 TO	O
optimizing  	optimizing  	 VB	B-NP
instrumentation  	instrumentation  	 JJ	I-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
As  	As  	 IN	O
software  	software  	 NN	B-NP
complexity  	complexity  	 NN	I-NP
increases 	increases 	 NNS	I-NP
,  	,  	 ,	O
instrumentation 	instrumentation 	 NN	O
,  	,  	 ,	O
which  	which  	 WDT	O
is  	is  	 VBZ	O
a  	a  	 DT	O
technique  	technique  	 NN	O
for  	for  	 IN	O
inserting  	inserting  	 VBG	O
extra  	extra  	 JJ	O
code  	code  	 NN	O
into  	into  	 IN	O
an  	an  	 DT	O
application  	application  	 NN	O
to  	to  	 TO	O
observe  	observe  	 VB	O
its  	its  	 PRP$	O
behavior 	behavior 	 NN	O
,  	,  	 ,	O
is  	is  	 VBZ	O
becoming  	becoming  	 VBG	O
more  	more  	 RBR	O
important 	important 	 JJ	O
.  	.  	 .	O
Instrumentation  	Instrumentation  	 NN	O
can  	can  	 MD	O
be  	be  	 VB	O
performed  	performed  	 VBN	O
at  	at  	 IN	O
various  	various  	 JJ	O
stages  	stages  	 NNS	O
in  	in  	 IN	O
a  	a  	 DT	O
software  	software  	 NN	B-NP
development  	development  	 NN	I-NP
cycle 	cycle 	 NN	I-NP
:  	:  	 :	O
in  	in  	 IN	O
source  	source  	 NN	B-NP
code 	code 	 NN	I-NP
,  	,  	 ,	O
at  	at  	 IN	O
compile  	compile  	 JJ	O
time 	time 	 NN	O
,  	,  	 ,	O
post  	post  	 NN	O
link  	link  	 NN	O
time 	time 	 NN	O
,  	,  	 ,	O
or  	or  	 CC	O
at  	at  	 IN	O
run  	run  	 NN	B-NP
time 	time 	 NN	I-NP
.  	.  	 .	O
Robust  	Robust  	 JJ	O
and  	and  	 CC	O
powerful  	powerful  	 JJ	O
software  	software  	 NN	B-NP
instrumentation  	instrumentation  	 NN	I-NP
tools  	tools  	 NNS	I-NP
are  	are  	 VBP	O
used  	used  	 VBN	O
for  	for  	 IN	O
program  	program  	 NN	B-NP
analysis  	analysis  	 NN	I-NP
tasks  	tasks  	 NNS	I-NP
such  	such  	 JJ	O
as  	as  	 IN	O
profiling 	profiling 	 NN	O
,  	,  	 ,	O
performance  	performance  	 NN	B-NP
evaluation 	evaluation 	 NN	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
bug  	bug  	 JJ	O
detection 	detection 	 NN	O
.  	.  	 .	O
In  	In  	 IN	O
binary  	binary  	 JJ	B-NP
instrumentation  	instrumentation  	 NN	I-NP
systems 	systems 	 NNS	I-NP
,  	,  	 ,	O
a  	a  	 DT	O
user  	user  	 NN	O
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
a  	a  	 DT	O
tool  	tool  	 NN	B-NP
writer 	writer 	 NN	I-NP
)  	)  	 -RRB-	O
specifies  	specifies  	 VBZ	O
where  	where  	 WRB	O
in  	in  	 IN	O
the  	the  	 DT	O
binary  	binary  	 JJ	B-NP
image  	image  	 NN	I-NP
he 	he 	 PRP	I-NP
/ 	/ 	 VBP	I-NP
she  	she  	 PRP	I-NP
desires  	desires  	 VBP	O
to  	to  	 TO	O
insert  	insert  	 VB	O
the  	the  	 DT	O
instrumentation 	instrumentation 	 NN	O
.  	.  	 .	O
Typical  	Typical  	 JJ	B-NP
instrumentation  	instrumentation  	 NN	I-NP
points  	points  	 NNS	I-NP
are  	are  	 VBP	O
before 	before 	 IN	B-NP
/ 	/ 	 CD	I-NP
after  	after  	 IN	I-NP
an  	an  	 DT	O
instruction 	instruction 	 NN	O
,  	,  	 ,	O
before 	before 	 IN	B-NP
/ 	/ 	 CD	I-NP
after  	after  	 IN	I-NP
a  	a  	 DT	O
basic  	basic  	 JJ	O
block 	block 	 NN	O
,  	,  	 ,	O
or  	or  	 CC	O
before 	before 	 IN	B-NP
/ 	/ 	 CD	I-NP
after  	after  	 IN	I-NP
a  	a  	 DT	O
function 	function 	 NN	O
.  	.  	 .	O
Generally 	Generally 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
is  	is  	 VBZ	O
placed  	placed  	 VBN	O
at  	at  	 IN	O
the  	the  	 DT	O
exact  	exact  	 JJ	B-NP
place  	place  	 NN	I-NP
specified  	specified  	 VBN	O
by  	by  	 IN	O
the  	the  	 DT	O
user 	user 	 NN	O
.  	.  	 .	O
Static  	Static  	 JJ	B-NP
instrumentation  	instrumentation  	 NN	I-NP
has  	has  	 VBZ	O
certain  	certain  	 JJ	O
limitations  	limitations  	 NNS	O
compared  	compared  	 VBN	O
to  	to  	 TO	O
dynamic  	dynamic  	 JJ	B-NP
instrumentation 	instrumentation 	 NN	I-NP
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
possible  	possible  	 JJ	O
to  	to  	 TO	O
mix  	mix  	 VB	O
code  	code  	 NN	O
and  	and  	 CC	O
data  	data  	 NNS	O
in  	in  	 IN	O
an  	an  	 DT	O
executable 	executable 	 NN	B-NP
,  	,  	 ,	O
and  	and  	 CC	O
a  	a  	 DT	O
static  	static  	 JJ	B-NP
tool  	tool  	 NN	I-NP
may  	may  	 MD	O
not  	not  	 RB	O
have  	have  	 VB	O
enough  	enough  	 JJ	O
information  	information  	 NN	O
to  	to  	 TO	O
distinguish  	distinguish  	 VB	O
the  	the  	 DT	O
two  	two  	 CD	O
code  	code  	 NN	B-NP
types 	types 	 NNS	I-NP
.  	.  	 .	O
Dynamic  	Dynamic  	 JJ	B-NP
tools 	tools 	 NNS	I-NP
,  	,  	 ,	O
in  	in  	 IN	O
contrast 	contrast 	 NN	O
,  	,  	 ,	O
can  	can  	 MD	O
rely  	rely  	 VB	O
on  	on  	 IN	O
execution  	execution  	 NN	O
to  	to  	 TO	O
discover  	discover  	 VB	O
all  	all  	 DT	O
of  	of  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	O
at  	at  	 IN	O
run  	run  	 NN	B-NP
time 	time 	 NN	I-NP
.  	.  	 .	O
Other  	Other  	 JJ	O
difficult  	difficult  	 JJ	O
problems  	problems  	 NNS	O
for  	for  	 IN	O
static  	static  	 JJ	B-NP
systems  	systems  	 NNS	I-NP
are  	are  	 VBP	O
indirect  	indirect  	 JJ	O
branches 	branches 	 NNS	O
,  	,  	 ,	O
shared  	shared  	 VBN	B-NP
libraries 	libraries 	 NNS	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
dynamically-generated  	dynamically-generated  	 JJ	O
code 	code 	 NN	O
.  	.  	 .	O
Accordingly 	Accordingly 	 RB	O
,  	,  	 ,	O
for  	for  	 IN	O
at  	at  	 IN	O
least  	least  	 JJS	O
certain  	certain  	 JJ	O
applications 	applications 	 NNS	B-NP
,  	,  	 ,	O
dynamic  	dynamic  	 JJ	B-NP
instrumentation  	instrumentation  	 NN	I-NP
can  	can  	 MD	O
be  	be  	 VB	O
more  	more  	 RBR	O
effective 	effective 	 JJ	O
.  	.  	 .	O
There  	There  	 EX	O
are  	are  	 VBP	O
two  	two  	 CD	O
approaches  	approaches  	 NNS	O
to  	to  	 TO	O
dynamic  	dynamic  	 JJ	B-NP
instrumentation 	instrumentation 	 NN	I-NP
:  	:  	 :	O
probe-based  	probe-based  	 JJ	O
and  	and  	 CC	O
just-in-time  	just-in-time  	 JJ	B-NP
( 	( 	 -LRB-	O
JIT 	JIT 	 NNP	B-NP
) 	) 	 -RRB-	O
-based  	-based  	 JJ	O
instrumentation 	instrumentation 	 NN	O
.  	.  	 .	O
The  	The  	 DT	O
probe-based  	probe-based  	 JJ	O
approach  	approach  	 NN	B-NP
works  	works  	 NNS	I-NP
by  	by  	 IN	O
dynamically  	dynamically  	 NNS	O
replacing  	replacing  	 VBG	B-NP
instructions  	instructions  	 NNS	I-NP
in  	in  	 IN	O
the  	the  	 DT	O
original  	original  	 JJ	B-NP
program  	program  	 NN	I-NP
with  	with  	 IN	O
trampolines  	trampolines  	 NN	O
that  	that  	 IN	O
branch  	branch  	 NN	O
to  	to  	 TO	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
drawbacks  	drawbacks  	 NNS	O
of  	of  	 IN	O
probe-based  	probe-based  	 JJ	O
systems  	systems  	 NNS	O
are  	are  	 VBP	O
that 	that 	 IN	O
:  	:  	 :	O
( 	( 	 -LRB-	O
i 	i 	 FW	O
)  	)  	 -RRB-	O
instrumentation  	instrumentation  	 NN	O
is  	is  	 VBZ	O
not  	not  	 RB	O
transparent  	transparent  	 VBN	O
because  	because  	 IN	O
original  	original  	 JJ	B-NP
instructions  	instructions  	 NNS	I-NP
in  	in  	 IN	O
memory  	memory  	 NN	B-NP
are  	are  	 VBP	O
overwritten  	overwritten  	 VBN	O
by  	by  	 IN	O
trampolines 	trampolines 	 NNS	O
;  	;  	 :	O
( 	( 	 -LRB-	O
ii 	ii 	 LS	O
)  	)  	 -RRB-	O
on  	on  	 IN	O
architectures  	architectures  	 NN	O
where  	where  	 WRB	O
instruction  	instruction  	 JJ	B-NP
sizes  	sizes  	 NNS	I-NP
vary  	vary  	 VBP	O
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
an  	an  	 DT	O
x86-based  	x86-based  	 JJ	B-NP
architecture 	architecture 	 NN	I-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
cannot  	cannot  	 RB	O
be  	be  	 VB	O
replaced  	replaced  	 VBN	O
by  	by  	 IN	O
a  	a  	 DT	O
trampoline  	trampoline  	 NN	O
that  	that  	 WDT	O
occupies  	occupies  	 VBZ	O
more  	more  	 JJR	O
bytes  	bytes  	 NN	B-NP
than  	than  	 IN	O
the  	the  	 DT	O
instruction  	instruction  	 NN	O
itself  	itself  	 PRP	O
because  	because  	 IN	O
it  	it  	 PRP	O
will  	will  	 MD	O
overwrite  	overwrite  	 VB	O
the  	the  	 DT	O
following  	following  	 JJ	O
instruction 	instruction 	 NN	O
;  	;  	 :	O
and  	and  	 CC	O
( 	( 	 -LRB-	O
iii 	iii 	 LS	O
)  	)  	 -RRB-	O
trampolines  	trampolines  	 NNS	O
are  	are  	 VBP	O
implemented  	implemented  	 VBN	O
by  	by  	 IN	O
one  	one  	 CD	O
or  	or  	 CC	O
more  	more  	 JJR	O
levels  	levels  	 NNS	O
of  	of  	 IN	O
branches 	branches 	 NNS	O
,  	,  	 ,	O
which  	which  	 WDT	O
can  	can  	 MD	O
incur  	incur  	 VB	O
a  	a  	 DT	O
significant  	significant  	 JJ	O
performance  	performance  	 NN	O
overhead 	overhead 	 NN	O
.  	.  	 .	O
These  	These  	 DT	O
drawbacks  	drawbacks  	 NNS	O
make  	make  	 VBP	O
fine-grained  	fine-grained  	 JJ	O
instrumentation  	instrumentation  	 NN	O
challenging  	challenging  	 VBG	O
on  	on  	 IN	O
probe-based  	probe-based  	 JJ	O
systems 	systems 	 NNS	O
.  	.  	 .	O
In  	In  	 IN	O
contrast 	contrast 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
JIT-based  	JIT-based  	 JJ	B-NP
approach  	approach  	 NN	I-NP
is  	is  	 VBZ	O
more  	more  	 RBR	O
suitable  	suitable  	 JJ	O
for  	for  	 IN	O
fine-grained  	fine-grained  	 JJ	O
instrumentation 	instrumentation 	 NN	O
,  	,  	 ,	O
as  	as  	 IN	O
it  	it  	 PRP	O
works  	works  	 VBZ	O
by  	by  	 IN	O
dynamically  	dynamically  	 NNS	O
compiling  	compiling  	 VBG	O
the  	the  	 DT	O
binary  	binary  	 NN	B-NP
and  	and  	 CC	O
inserting  	inserting  	 JJ	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
( 	( 	 -LRB-	O
or  	or  	 CC	O
calls  	calls  	 VBZ	O
to  	to  	 TO	O
it 	it 	 PRP	O
)  	)  	 -RRB-	O
within  	within  	 IN	O
the  	the  	 DT	O
binary 	binary 	 NN	B-NP
.  	.  	 .	O
However 	However 	 RB	O
,  	,  	 ,	O
depending  	depending  	 VBG	O
on  	on  	 IN	O
where  	where  	 WRB	O
the  	the  	 DT	O
code  	code  	 NN	O
is  	is  	 VBZ	O
inserted  	inserted  	 VBN	O
into  	into  	 IN	O
the  	the  	 DT	O
binary 	binary 	 NN	B-NP
,  	,  	 ,	O
performance  	performance  	 NN	B-NP
degradation  	degradation  	 NN	I-NP
may  	may  	 MD	O
occur 	occur 	 VB	O
,  	,  	 ,	O
as  	as  	 IN	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
can  	can  	 MD	O
affect  	affect  	 VB	O
various  	various  	 JJ	O
resources 	resources 	 NNS	O
,  	,  	 ,	O
such  	such  	 JJ	O
as  	as  	 IN	O
registers  	registers  	 NNS	O
and  	and  	 CC	O
the  	the  	 DT	O
like 	like 	 JJ	O
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
typically  	typically  	 RB	O
causes  	causes  	 VBZ	O
one  	one  	 CD	O
or  	or  	 CC	O
more  	more  	 JJR	O
registers  	registers  	 NNS	O
that  	that  	 IN	O
store  	store  	 NN	B-NP
information  	information  	 NN	I-NP
to  	to  	 TO	O
be  	be  	 VB	O
spilled  	spilled  	 VBN	O
and  	and  	 CC	O
rewritten  	rewritten  	 VBN	O
after  	after  	 IN	O
execution  	execution  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
Such  	Such  	 JJ	O
spilling  	spilling  	 NN	O
and  	and  	 CC	O
rewriting  	rewriting  	 NN	O
causes  	causes  	 VBZ	O
flushing  	flushing  	 VBN	O
of  	of  	 IN	O
various  	various  	 JJ	O
processor  	processor  	 NN	B-NP
resources 	resources 	 NNS	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
thus  	thus  	 RB	O
leads  	leads  	 VBZ	O
to  	to  	 TO	O
degraded  	degraded  	 VB	B-NP
performance 	performance 	 NN	I-NP
.  	.  	 .	O
A  	A  	 DT	O
need  	need  	 NN	O
thus  	thus  	 RB	O
exists  	exists  	 VBZ	O
to  	to  	 TO	O
optimize  	optimize  	 VB	O
instrumentation  	instrumentation  	 JJ	B-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
FIG.  	FIG.  	 CD	O
1  	1  	 CD	O
is  	is  	 VBZ	O
a  	a  	 DT	O
flow  	flow  	 NN	B-NP
diagram  	diagram  	 NN	I-NP
of  	of  	 IN	O
a  	a  	 DT	O
method  	method  	 NN	O
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
one  	one  	 CD	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
FIG.  	FIG.  	 CD	O
2  	2  	 CD	O
is  	is  	 VBZ	O
a  	a  	 DT	O
block  	block  	 NN	O
diagram  	diagram  	 NN	O
of  	of  	 IN	O
a  	a  	 DT	O
software  	software  	 NN	B-NP
architecture  	architecture  	 NN	I-NP
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
one  	one  	 CD	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
FIG.  	FIG.  	 CD	O
3  	3  	 CD	O
is  	is  	 VBZ	O
a  	a  	 DT	O
flow  	flow  	 NN	B-NP
diagram  	diagram  	 NN	I-NP
of  	of  	 IN	O
a  	a  	 DT	O
method  	method  	 NN	O
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
an  	an  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
FIG.  	FIG.  	 CD	O
4  	4  	 CD	O
is  	is  	 VBZ	O
a  	a  	 DT	O
block  	block  	 NN	O
diagram  	diagram  	 NN	O
of  	of  	 IN	O
a  	a  	 DT	O
system  	system  	 NN	O
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
one  	one  	 CD	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
In  	In  	 IN	O
various  	various  	 JJ	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
efficient  	efficient  	 JJ	O
instrumentation  	instrumentation  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
effected  	effected  	 VBN	O
by  	by  	 IN	O
using  	using  	 VBG	O
a  	a  	 DT	O
just-in-time  	just-in-time  	 JJ	B-NP
( 	( 	 -LRB-	O
JIT 	JIT 	 NNP	B-NP
)  	)  	 -RRB-	O
compiler  	compiler  	 NN	O
to  	to  	 TO	O
insert  	insert  	 VB	O
and  	and  	 CC	O
optimize  	optimize  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
Code  	Code  	 NNP	O
may  	may  	 MD	O
be  	be  	 VB	O
dynamically  	dynamically  	 JJ	O
instrumented  	instrumented  	 NN	B-NP
in  	in  	 IN	O
various  	various  	 JJ	O
manners 	manners 	 NNS	O
,  	,  	 ,	O
including  	including  	 VBG	B-NP
code  	code  	 NN	I-NP
caching  	caching  	 NNS	O
and  	and  	 CC	O
trace  	trace  	 JJ	B-NP
linking 	linking 	 NN	I-NP
,  	,  	 ,	O
register  	register  	 JJ	B-NP
reallocation 	reallocation 	 NN	I-NP
,  	,  	 ,	O
inlining 	inlining 	 NN	B-NP
,  	,  	 ,	O
liveness  	liveness  	 JJ	B-NP
analysis 	analysis 	 NN	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
instruction  	instruction  	 NN	B-NP
scheduling 	scheduling 	 NN	I-NP
.  	.  	 .	O
While  	While  	 IN	O
some  	some  	 DT	O
embodiments  	embodiments  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
performed  	performed  	 VBN	O
dynamically 	dynamically 	 NN	O
,  	,  	 ,	O
other  	other  	 JJ	O
embodiments  	embodiments  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
implemented  	implemented  	 VBN	O
in  	in  	 IN	O
other  	other  	 JJ	O
stages  	stages  	 NNS	O
of  	of  	 IN	O
software  	software  	 NN	B-NP
development 	development 	 NN	I-NP
.  	.  	 .	O
JIT-based  	JIT-based  	 JJ	B-NP
instrumentation  	instrumentation  	 NN	I-NP
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
an  	an  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
may  	may  	 MD	O
defer  	defer  	 VB	O
code  	code  	 NN	B-NP
discovery  	discovery  	 NN	I-NP
until  	until  	 IN	O
run  	run  	 NN	B-NP
time 	time 	 NN	I-NP
,  	,  	 ,	O
allowing  	allowing  	 VBG	B-NP
instrumentation  	instrumentation  	 NN	I-NP
to  	to  	 TO	O
be  	be  	 VB	O
robust 	robust 	 JJ	O
.  	.  	 .	O
Embodiments  	Embodiments  	 NNP	O
can  	can  	 MD	O
seamlessly  	seamlessly  	 RB	O
handle  	handle  	 VB	O
mixed  	mixed  	 JJ	O
code  	code  	 NN	O
and  	and  	 CC	O
data 	data 	 NNS	O
,  	,  	 ,	O
variable-length  	variable-length  	 JJ	B-NP
instructions 	instructions 	 NNS	I-NP
,  	,  	 ,	O
statically  	statically  	 JJ	O
unknown  	unknown  	 JJ	B-NP
indirect  	indirect  	 JJ	I-NP
jump  	jump  	 NN	I-NP
targets 	targets 	 NNS	I-NP
,  	,  	 ,	O
dynamically  	dynamically  	 FW	O
loaded  	loaded  	 FW	B-NP
libraries 	libraries 	 FW	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
dynamically  	dynamically  	 JJ	O
generated  	generated  	 JJ	O
code 	code 	 NN	O
,  	,  	 ,	O
among  	among  	 IN	O
other  	other  	 JJ	O
structures 	structures 	 NNS	O
.  	.  	 .	O
Behavior  	Behavior  	 NN	O
of  	of  	 IN	O
an  	an  	 DT	O
original  	original  	 JJ	B-NP
application  	application  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
preserved  	preserved  	 VBN	O
by  	by  	 IN	O
providing  	providing  	 VBG	B-NP
instrumentation  	instrumentation  	 NN	I-NP
transparency 	transparency 	 NN	I-NP
.  	.  	 .	O
That  	That  	 WDT	O
is 	is 	 VBZ	O
,  	,  	 ,	O
the  	the  	 DT	O
application  	application  	 NN	O
observes  	observes  	 VBZ	O
the  	the  	 DT	O
same  	same  	 JJ	O
addresses  	addresses  	 NNS	O
( 	( 	 -LRB-	O
both  	both  	 DT	O
instruction  	instruction  	 NN	O
and  	and  	 CC	O
data 	data 	 NNS	O
)  	)  	 -RRB-	O
and  	and  	 CC	O
same  	same  	 JJ	O
values  	values  	 NNS	O
( 	( 	 -LRB-	O
both  	both  	 DT	O
register  	register  	 NN	O
and  	and  	 CC	O
memory 	memory 	 NN	B-NP
)  	)  	 -RRB-	O
as  	as  	 IN	O
it  	it  	 PRP	O
would  	would  	 MD	O
in  	in  	 IN	O
an  	an  	 DT	O
uninstrumented  	uninstrumented  	 JJ	B-NP
execution 	execution 	 NN	I-NP
.  	.  	 .	O
Transparency  	Transparency  	 NNP	B-NP
makes  	makes  	 VBZ	O
the  	the  	 DT	O
information  	information  	 NN	O
collected  	collected  	 VBN	O
by  	by  	 IN	O
instrumentation  	instrumentation  	 NN	O
more  	more  	 RBR	O
relevant  	relevant  	 JJ	O
and  	and  	 CC	O
correct 	correct 	 JJ	O
.  	.  	 .	O
In  	In  	 IN	O
some  	some  	 DT	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
instrumentation  	instrumentation  	 NN	O
is  	is  	 VBZ	O
performed  	performed  	 VBN	O
by  	by  	 IN	O
a  	a  	 DT	O
JIT  	JIT  	 NNP	B-NP
compiler 	compiler 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
input  	input  	 NN	O
to  	to  	 TO	O
this  	this  	 DT	O
compiler  	compiler  	 NN	O
is  	is  	 VBZ	O
not  	not  	 RB	O
bytecodes 	bytecodes 	 JJ	O
,  	,  	 ,	O
however 	however 	 RB	O
,  	,  	 ,	O
but  	but  	 CC	O
a  	a  	 DT	O
native  	native  	 JJ	O
executable 	executable 	 NN	B-NP
.  	.  	 .	O
The  	The  	 DT	O
compiler  	compiler  	 JJ	O
intercepts  	intercepts  	 JJ	O
execution  	execution  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
first  	first  	 JJ	O
instruction  	instruction  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
executable  	executable  	 NN	B-NP
and  	and  	 CC	O
generates  	generates  	 VBZ	O
( 	( 	 -LRB-	O
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
compiles 	compiles 	 NNS	O
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
; 	; 	 CD	O
)  	)  	 -RRB-	O
new  	new  	 JJ	O
code  	code  	 NN	O
for  	for  	 IN	O
the  	the  	 DT	O
straight-line  	straight-line  	 JJ	B-NP
code  	code  	 NN	I-NP
sequence  	sequence  	 NN	I-NP
starting  	starting  	 VBG	O
at  	at  	 IN	O
this  	this  	 DT	O
instruction 	instruction 	 NN	O
.  	.  	 .	O
It  	It  	 PRP	O
then  	then  	 RB	O
transfers  	transfers  	 JJ	B-NP
control  	control  	 NN	I-NP
to  	to  	 TO	O
the  	the  	 DT	O
generated  	generated  	 JJ	O
sequence 	sequence 	 NN	O
.  	.  	 .	O
The  	The  	 DT	O
generated  	generated  	 JJ	O
code  	code  	 NN	B-NP
sequence  	sequence  	 NN	I-NP
is  	is  	 VBZ	O
almost  	almost  	 RB	O
identical  	identical  	 JJ	O
to  	to  	 TO	O
the  	the  	 DT	O
original  	original  	 JJ	B-NP
code  	code  	 NN	I-NP
sequence 	sequence 	 NN	I-NP
,  	,  	 ,	O
but  	but  	 CC	O
the  	the  	 DT	O
compiler  	compiler  	 JJ	O
ensures  	ensures  	 NN	O
that  	that  	 IN	O
it  	it  	 PRP	O
regains  	regains  	 VBZ	O
control  	control  	 NN	O
when  	when  	 WRB	O
a  	a  	 DT	O
branch  	branch  	 NN	O
exits  	exits  	 NNS	O
the  	the  	 DT	O
sequence 	sequence 	 NN	O
.  	.  	 .	O
After  	After  	 IN	O
regaining  	regaining  	 JJ	O
control 	control 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
generates  	generates  	 VBZ	O
more  	more  	 JJR	O
code  	code  	 NN	O
for  	for  	 IN	O
the  	the  	 DT	O
branch  	branch  	 NN	O
target  	target  	 NN	O
and  	and  	 CC	O
continues  	continues  	 VBZ	O
execution 	execution 	 NN	O
.  	.  	 .	O
Whenever  	Whenever  	 WRB	O
the  	the  	 DT	O
compiler  	compiler  	 JJ	O
fetches  	fetches  	 JJ	O
code 	code 	 NN	O
,  	,  	 ,	O
an  	an  	 DT	O
application  	application  	 NN	B-NP
programming  	programming  	 NN	I-NP
interface  	interface  	 NNS	I-NP
( 	( 	 -LRB-	O
API 	API 	 NNP	B-NP
)  	)  	 -RRB-	O
for  	for  	 IN	O
performing  	performing  	 VBG	B-NP
instrumentation  	instrumentation  	 NN	I-NP
has  	has  	 VBZ	O
the  	the  	 DT	O
opportunity  	opportunity  	 NN	O
to  	to  	 TO	O
instrument  	instrument  	 VB	O
the  	the  	 DT	O
code  	code  	 NN	O
before  	before  	 IN	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
translated  	translated  	 VBN	O
for  	for  	 IN	O
execution 	execution 	 NN	O
.  	.  	 .	O
The  	The  	 DT	O
translated  	translated  	 JJ	O
code  	code  	 NN	O
and  	and  	 CC	O
its  	its  	 PRP$	O
instrumentation  	instrumentation  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
saved  	saved  	 VBN	O
in  	in  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
cache  	cache  	 NN	I-NP
for  	for  	 IN	O
future  	future  	 JJ	O
execution  	execution  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
same  	same  	 JJ	O
sequence  	sequence  	 NN	O
of  	of  	 IN	O
instructions  	instructions  	 NNS	B-NP
to  	to  	 TO	O
improve  	improve  	 VB	O
performance 	performance 	 NN	O
,  	,  	 ,	O
in  	in  	 IN	O
some  	some  	 DT	O
embodiments 	embodiments 	 NN	O
.  	.  	 .	O
Referring  	Referring  	 VBG	O
now  	now  	 RB	O
to  	to  	 TO	O
FIG.  	FIG.  	 CD	O
1 	1 	 CD	O
,  	,  	 ,	O
shown  	shown  	 VBN	O
is  	is  	 VBZ	O
a  	a  	 DT	O
flow  	flow  	 NN	B-NP
diagram  	diagram  	 NN	I-NP
of  	of  	 IN	O
a  	a  	 DT	O
method  	method  	 NN	O
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
one  	one  	 CD	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
As  	As  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
FIG.  	FIG.  	 CD	O
1 	1 	 CD	O
,  	,  	 ,	O
method  	method  	 NN	O
10  	10  	 CD	O
may  	may  	 MD	O
be  	be  	 VB	O
used  	used  	 VBN	O
to  	to  	 TO	O
perform  	perform  	 VB	O
just-in-time  	just-in-time  	 JJ	B-NP
( 	( 	 -LRB-	O
JIT 	JIT 	 NNP	B-NP
)  	)  	 -RRB-	O
compilation  	compilation  	 NN	O
of  	of  	 IN	O
code  	code  	 NN	O
and  	and  	 CC	O
further  	further  	 JJ	O
to  	to  	 TO	O
dynamically  	dynamically  	 VB	O
instrument  	instrument  	 VBN	O
the  	the  	 DT	O
code  	code  	 NN	O
during  	during  	 IN	O
compilation 	compilation 	 NN	O
.  	.  	 .	O
Method  	Method  	 NN	O
10  	10  	 CD	O
may  	may  	 MD	O
begin  	begin  	 VB	O
by  	by  	 IN	O
initiating  	initiating  	 VBG	O
a  	a  	 DT	O
JIT  	JIT  	 NNP	B-NP
compiler  	compiler  	 NNS	I-NP
( 	( 	 -LRB-	O
block  	block  	 VB	O
15 	15 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
The  	The  	 DT	O
compiler  	compiler  	 NN	O
may  	may  	 MD	O
then  	then  	 RB	O
fetch  	fetch  	 VB	O
the  	the  	 DT	O
binary  	binary  	 JJ	B-NP
code  	code  	 NN	I-NP
to  	to  	 TO	O
be  	be  	 VB	O
compiled  	compiled  	 VBN	O
( 	( 	 -LRB-	O
block  	block  	 VB	O
20 	20 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
in  	in  	 IN	O
some  	some  	 DT	O
embodiments  	embodiments  	 NN	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
may  	may  	 MD	O
fetch  	fetch  	 VB	O
a  	a  	 DT	O
first  	first  	 JJ	O
portion  	portion  	 NN	O
of  	of  	 IN	O
a  	a  	 DT	O
native  	native  	 JJ	O
executable 	executable 	 NN	B-NP
,  	,  	 ,	O
for  	for  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
a  	a  	 DT	O
first  	first  	 JJ	O
functional  	functional  	 JJ	B-NP
block 	block 	 NN	I-NP
.  	.  	 .	O
Next 	Next 	 JJ	O
,  	,  	 ,	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
may  	may  	 MD	O
determine  	determine  	 VB	O
whether  	whether  	 IN	O
an  	an  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
has  	has  	 VBZ	O
been  	been  	 VBN	O
invoked  	invoked  	 NNS	O
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
30 	30 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
That  	That  	 WDT	O
is 	is 	 VBZ	O
,  	,  	 ,	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
may  	may  	 MD	O
determine  	determine  	 VB	O
whether  	whether  	 IN	O
a  	a  	 DT	O
user  	user  	 NN	O
seeks  	seeks  	 VBZ	O
to  	to  	 TO	O
instrument  	instrument  	 VB	O
the  	the  	 DT	O
binary  	binary  	 JJ	B-NP
code  	code  	 NN	I-NP
that  	that  	 WDT	O
has  	has  	 VBZ	O
been  	been  	 VBN	O
fetched 	fetched 	 NN	O
.  	.  	 .	O
If  	If  	 IN	O
so 	so 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
compiler  	compiler  	 JJ	B-NP
inserts  	inserts  	 NNS	I-NP
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
into  	into  	 IN	O
the  	the  	 DT	O
binary  	binary  	 JJ	B-NP
code  	code  	 NN	I-NP
( 	( 	 -LRB-	O
block  	block  	 VB	O
35 	35 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
As  	As  	 RB	O
will  	will  	 MD	O
be  	be  	 VB	O
discussed  	discussed  	 VBN	O
further  	further  	 RBR	O
below 	below 	 RB	O
,  	,  	 ,	O
in  	in  	 IN	O
various  	various  	 JJ	O
embodiments  	embodiments  	 NNS	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
inserted  	inserted  	 VBN	O
into  	into  	 IN	O
the  	the  	 DT	O
binary  	binary  	 NN	B-NP
may  	may  	 MD	O
be  	be  	 VB	O
optimized  	optimized  	 VBN	O
in  	in  	 IN	O
various  	various  	 JJ	O
manners 	manners 	 NNS	O
.  	.  	 .	O
Next  	Next  	 JJ	O
( 	( 	 -LRB-	O
or  	or  	 CC	O
alternately  	alternately  	 VBP	O
directly  	directly  	 RB	O
from  	from  	 IN	O
diamond  	diamond  	 CD	O
30  	30  	 CD	O
if  	if  	 IN	O
no  	no  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
instructions  	instructions  	 NNS	I-NP
were  	were  	 VBD	O
received 	received 	 VBN	O
) 	) 	 -RRB-	O
,  	,  	 ,	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
translates  	translates  	 VBD	O
the  	the  	 DT	O
binary  	binary  	 JJ	B-NP
code  	code  	 NN	I-NP
and  	and  	 CC	O
places  	places  	 VBZ	O
the  	the  	 DT	O
code  	code  	 NN	O
into  	into  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
cache  	cache  	 NN	I-NP
( 	( 	 -LRB-	O
block  	block  	 VB	O
40 	40 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
From  	From  	 IN	O
there 	there 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
code  	code  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
released  	released  	 VBN	O
for  	for  	 IN	O
execution  	execution  	 NN	O
( 	( 	 -LRB-	O
block  	block  	 VB	O
45 	45 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Accordingly 	Accordingly 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
code  	code  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
executed  	executed  	 VBN	O
from  	from  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
cache  	cache  	 NN	I-NP
( 	( 	 -LRB-	O
block  	block  	 VB	O
50 	50 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Execution  	Execution  	 NN	O
may  	may  	 MD	O
continue  	continue  	 VB	O
until  	until  	 IN	O
a  	a  	 DT	O
branch  	branch  	 NN	O
is  	is  	 VBZ	O
reached  	reached  	 VBN	O
in  	in  	 IN	O
the  	the  	 DT	O
executed  	executed  	 JJ	O
code  	code  	 NN	O
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
60 	60 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Thus  	Thus  	 RB	O
if  	if  	 IN	O
no  	no  	 DT	O
branch  	branch  	 NN	O
is  	is  	 VBZ	O
reached 	reached 	 VBN	O
,  	,  	 ,	O
the  	the  	 DT	O
code  	code  	 NN	O
continues  	continues  	 VBZ	O
executing  	executing  	 VBG	O
in  	in  	 IN	O
a  	a  	 DT	O
loop  	loop  	 NN	O
between  	between  	 IN	O
block  	block  	 NN	O
50  	50  	 CD	O
and  	and  	 CC	O
diamond  	diamond  	 NN	O
60 	60 	 CD	O
.  	.  	 .	O
If  	If  	 IN	O
instead 	instead 	 RB	O
,  	,  	 ,	O
a  	a  	 DT	O
branch  	branch  	 NN	O
is  	is  	 VBZ	O
reached  	reached  	 VBN	O
at  	at  	 IN	O
diamond  	diamond  	 CD	O
60 	60 	 CD	O
,  	,  	 ,	O
control  	control  	 NN	O
passes  	passes  	 VBZ	O
to  	to  	 TO	O
diamond  	diamond  	 CD	O
70 	70 	 CD	O
.  	.  	 .	O
There 	There 	 RB	O
,  	,  	 ,	O
it  	it  	 PRP	O
may  	may  	 MD	O
be  	be  	 VB	O
determined  	determined  	 VBN	O
whether  	whether  	 IN	O
the  	the  	 DT	O
target  	target  	 NN	B-NP
code  	code  	 NN	I-NP
is  	is  	 VBZ	O
included  	included  	 VBN	O
already  	already  	 RB	O
in  	in  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
cache  	cache  	 NN	I-NP
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
70 	70 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
If  	If  	 IN	O
so 	so 	 RB	O
,  	,  	 ,	O
control  	control  	 NN	B-NP
returns  	returns  	 NNS	I-NP
to  	to  	 TO	O
block  	block  	 VB	O
50  	50  	 CD	O
for  	for  	 IN	O
execution  	execution  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	O
from  	from  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
cache 	cache 	 NN	I-NP
.  	.  	 .	O
If  	If  	 IN	O
instead  	instead  	 RB	O
the  	the  	 DT	O
target  	target  	 NN	B-NP
code  	code  	 NN	I-NP
is  	is  	 VBZ	O
not  	not  	 RB	O
included  	included  	 VBN	O
in  	in  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
cache 	cache 	 NN	I-NP
,  	,  	 ,	O
control  	control  	 NN	O
may  	may  	 MD	O
return  	return  	 VB	O
to  	to  	 TO	O
block  	block  	 VB	O
20 	20 	 CD	O
,  	,  	 ,	O
as  	as  	 RB	O
described  	described  	 VBN	O
above 	above 	 IN	O
.  	.  	 .	O
FIG.  	FIG.  	 CD	O
2  	2  	 CD	O
is  	is  	 VBZ	O
a  	a  	 DT	O
block  	block  	 NN	O
diagram  	diagram  	 NN	O
of  	of  	 IN	O
a  	a  	 DT	O
software  	software  	 NN	B-NP
architecture  	architecture  	 NN	I-NP
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
one  	one  	 CD	O
embodiment 	embodiment 	 NNS	O
.  	.  	 .	O
Software  	Software  	 NN	B-NP
architecture  	architecture  	 NN	I-NP
100  	100  	 CD	O
provides  	provides  	 VBZ	O
a  	a  	 DT	O
high-level  	high-level  	 JJ	O
view  	view  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
interaction  	interaction  	 NN	O
between  	between  	 IN	O
instrumentation  	instrumentation  	 NN	B-NP
tools  	tools  	 NNS	I-NP
and  	and  	 CC	O
other  	other  	 JJ	O
software  	software  	 NN	O
( 	( 	 -LRB-	O
and  	and  	 CC	O
hardware 	hardware 	 NN	O
)  	)  	 -RRB-	O
of  	of  	 IN	O
a  	a  	 DT	O
system 	system 	 NN	O
.  	.  	 .	O
A  	A  	 DT	O
compiler  	compiler  	 JJ	O
130  	130  	 CD	O
is  	is  	 VBZ	O
used  	used  	 VBN	O
to  	to  	 TO	O
compile  	compile  	 VB	O
an  	an  	 DT	O
application  	application  	 NN	O
120 	120 	 CD	O
.  	.  	 .	O
To  	To  	 TO	O
allow  	allow  	 VB	O
a  	a  	 DT	O
user  	user  	 NN	O
to  	to  	 TO	O
instrument  	instrument  	 NN	B-NP
application  	application  	 NN	I-NP
120 	120 	 CD	O
,  	,  	 ,	O
an  	an  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
110  	110  	 CD	O
may  	may  	 MD	O
be  	be  	 VB	O
provided 	provided 	 VBN	O
.  	.  	 .	O
As  	As  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
FIG.  	FIG.  	 CD	O
2 	2 	 CD	O
,  	,  	 ,	O
compiler  	compiler  	 CD	O
130  	130  	 CD	O
also  	also  	 RB	O
interacts  	interacts  	 VBN	O
with  	with  	 IN	O
an  	an  	 DT	O
operating  	operating  	 NN	B-NP
system  	system  	 NN	I-NP
( 	( 	 -LRB-	O
OS 	OS 	 NNP	B-NP
)  	)  	 -RRB-	O
170 	170 	 CD	O
,  	,  	 ,	O
which  	which  	 WDT	O
in  	in  	 IN	O
turn  	turn  	 NN	O
interacts  	interacts  	 NN	O
with  	with  	 IN	O
underlying  	underlying  	 JJ	O
hardware  	hardware  	 NN	O
180  	180  	 CD	O
of  	of  	 IN	O
a  	a  	 DT	O
system 	system 	 NN	O
.  	.  	 .	O
As  	As  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
FIG.  	FIG.  	 CD	O
2 	2 	 CD	O
,  	,  	 ,	O
there  	there  	 EX	O
are  	are  	 VBP	O
three  	three  	 CD	O
binary  	binary  	 CD	B-NP
programs  	programs  	 NNS	I-NP
present  	present  	 VBP	O
when  	when  	 WRB	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
program  	program  	 NN	I-NP
is  	is  	 VBZ	O
running  	running  	 VBG	O
namely 	namely 	 RB	O
,  	,  	 ,	O
application  	application  	 NN	O
120 	120 	 CD	O
,  	,  	 ,	O
compiler  	compiler  	 CD	O
130 	130 	 CD	O
,  	,  	 ,	O
and  	and  	 CC	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
110 	110 	 CD	O
.  	.  	 .	O
Compiler  	Compiler  	 NNP	O
130  	130  	 CD	O
is  	is  	 VBZ	O
the  	the  	 DT	O
engine  	engine  	 NN	O
that  	that  	 WDT	O
performs  	performs  	 VBZ	O
just-in-time  	just-in-time  	 JJ	B-NP
compilation  	compilation  	 NN	I-NP
and  	and  	 CC	O
instruments  	instruments  	 NNS	B-NP
application  	application  	 VBD	I-NP
120 	120 	 CD	O
.  	.  	 .	O
Instrumentation  	Instrumentation  	 JJ	B-NP
tool  	tool  	 NN	I-NP
110  	110  	 CD	O
contains  	contains  	 VBZ	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	O
and  	and  	 CC	O
analysis  	analysis  	 NN	B-NP
routines  	routines  	 NNS	I-NP
and  	and  	 CC	O
is  	is  	 VBZ	O
linked  	linked  	 VBN	O
with  	with  	 IN	O
a  	a  	 DT	O
library  	library  	 NN	B-NP
that  	that  	 WDT	O
allows  	allows  	 VBZ	O
it  	it  	 PRP	O
to  	to  	 TO	O
communicate  	communicate  	 VB	O
with  	with  	 IN	O
compiler  	compiler  	 CD	O
130 	130 	 CD	O
.  	.  	 .	O
At  	At  	 IN	O
the  	the  	 DT	O
highest  	highest  	 JJS	O
level 	level 	 NN	O
,  	,  	 ,	O
compiler  	compiler  	 CD	O
130  	130  	 CD	O
includes  	includes  	 VBZ	O
a  	a  	 DT	O
virtual  	virtual  	 JJ	B-NP
machine  	machine  	 NN	I-NP
( 	( 	 -LRB-	O
VM 	VM 	 NNP	B-NP
)  	)  	 -RRB-	O
140 	140 	 CD	O
,  	,  	 ,	O
a  	a  	 DT	O
code  	code  	 NN	O
cache  	cache  	 VBD	O
135 	135 	 CD	O
,  	,  	 ,	O
and  	and  	 CC	O
one  	one  	 CD	O
or  	or  	 CC	O
more  	more  	 JJR	O
instrumentation  	instrumentation  	 NN	O
API 	API 	 NNP	O
's  	's  	 POS	O
145  	145  	 CD	O
invoked  	invoked  	 NN	O
by  	by  	 IN	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
110 	110 	 CD	O
.  	.  	 .	O
VM  	VM  	 NNP	B-NP
140  	140  	 CD	O
includes  	includes  	 VBZ	O
a  	a  	 DT	O
JIT  	JIT  	 NNP	B-NP
compiler  	compiler  	 VBD	I-NP
150 	150 	 CD	O
,  	,  	 ,	O
an  	an  	 DT	O
emulation  	emulation  	 JJ	B-NP
unit  	unit  	 NN	I-NP
160 	160 	 CD	O
,  	,  	 ,	O
and  	and  	 CC	O
a  	a  	 DT	O
dispatcher  	dispatcher  	 JJ	O
155 	155 	 CD	O
.  	.  	 .	O
After  	After  	 IN	O
compiler  	compiler  	 CD	O
130  	130  	 CD	O
gains  	gains  	 NNS	B-NP
control  	control  	 NN	I-NP
of  	of  	 IN	O
application  	application  	 NN	O
120 	120 	 CD	O
,  	,  	 ,	O
VM  	VM  	 NNP	B-NP
140  	140  	 CD	O
coordinates  	coordinates  	 VBZ	O
its  	its  	 PRP$	O
components  	components  	 NNS	O
to  	to  	 TO	O
execute  	execute  	 VB	O
application  	application  	 NN	O
120 	120 	 CD	O
.  	.  	 .	O
Specifically 	Specifically 	 RB	O
,  	,  	 ,	O
JIT  	JIT  	 NNP	B-NP
compiler  	compiler  	 VBD	I-NP
150  	150  	 CD	O
compiles  	compiles  	 NNS	O
and  	and  	 CC	O
instruments  	instruments  	 NNS	O
application  	application  	 NN	B-NP
code 	code 	 NN	I-NP
,  	,  	 ,	O
which  	which  	 WDT	O
is  	is  	 VBZ	O
then  	then  	 RB	O
launched  	launched  	 VBN	O
by  	by  	 IN	O
dispatcher  	dispatcher  	 CD	B-NP
155 	155 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
compiled  	compiled  	 JJ	O
code  	code  	 NN	O
is  	is  	 VBZ	O
stored  	stored  	 VBN	O
in  	in  	 IN	O
code  	code  	 NN	O
cache  	cache  	 VBD	O
135 	135 	 CD	O
.  	.  	 .	O
That  	That  	 WDT	O
is 	is 	 VBZ	O
,  	,  	 ,	O
only  	only  	 RB	O
code  	code  	 VB	O
residing  	residing  	 VBN	O
in  	in  	 IN	O
code  	code  	 NN	O
cache  	cache  	 VBD	O
135  	135  	 CD	O
is  	is  	 VBZ	O
executed 	executed 	 VBN	O
:  	:  	 :	O
the  	the  	 DT	O
original  	original  	 JJ	B-NP
code  	code  	 NN	I-NP
is  	is  	 VBZ	O
not  	not  	 RB	O
executed 	executed 	 VBN	O
.  	.  	 .	O
Emulation  	Emulation  	 JJ	B-NP
unit  	unit  	 NN	I-NP
160  	160  	 CD	O
interprets  	interprets  	 CD	O
instructions  	instructions  	 NNS	B-NP
that  	that  	 WDT	O
cannot  	cannot  	 RB	O
be  	be  	 VB	O
executed  	executed  	 VBN	O
directly 	directly 	 RB	O
,  	,  	 ,	O
and  	and  	 CC	O
may  	may  	 MD	O
be  	be  	 VB	O
used  	used  	 VBN	O
for  	for  	 IN	O
system  	system  	 NN	B-NP
calls  	calls  	 NNS	I-NP
which  	which  	 WDT	O
require  	require  	 VBP	O
special  	special  	 JJ	O
handling  	handling  	 NN	O
from  	from  	 IN	O
VM  	VM  	 NNP	B-NP
140 	140 	 CD	O
.  	.  	 .	O
In  	In  	 IN	O
some  	some  	 DT	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
an  	an  	 DT	O
application  	application  	 NN	O
is  	is  	 VBZ	O
compiled  	compiled  	 VBN	O
one  	one  	 CD	O
trace  	trace  	 NN	O
at  	at  	 IN	O
a  	a  	 DT	O
time 	time 	 NN	O
.  	.  	 .	O
A  	A  	 DT	O
trace  	trace  	 NN	O
is  	is  	 VBZ	O
a  	a  	 DT	O
straight-line  	straight-line  	 JJ	B-NP
sequence  	sequence  	 NN	I-NP
of  	of  	 IN	I-NP
instructions  	instructions  	 NNS	I-NP
which  	which  	 WDT	O
terminates  	terminates  	 VBZ	O
at  	at  	 IN	O
one  	one  	 CD	O
of  	of  	 IN	O
the  	the  	 DT	O
following  	following  	 JJ	O
conditions 	conditions 	 NNS	O
:  	:  	 :	O
( 	( 	 -LRB-	O
i 	i 	 FW	O
)  	)  	 -RRB-	O
an  	an  	 DT	O
unconditional  	unconditional  	 JJ	B-NP
control  	control  	 NN	I-NP
transfer  	transfer  	 NN	I-NP
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
branch 	branch 	 NN	O
,  	,  	 ,	O
call 	call 	 NN	O
,  	,  	 ,	O
or  	or  	 CC	O
return 	return 	 NN	O
) 	) 	 -RRB-	O
;  	;  	 :	O
( 	( 	 -LRB-	O
ii 	ii 	 LS	O
)  	)  	 -RRB-	O
a  	a  	 DT	O
predefined  	predefined  	 JJ	O
number  	number  	 NN	O
of  	of  	 IN	O
conditional  	conditional  	 JJ	B-NP
control  	control  	 NN	I-NP
transfers 	transfers 	 NNS	I-NP
;  	;  	 :	O
or  	or  	 CC	O
( 	( 	 -LRB-	O
iii 	iii 	 LS	O
)  	)  	 -RRB-	O
a  	a  	 DT	O
predefined  	predefined  	 JJ	O
number  	number  	 NN	O
of  	of  	 IN	O
instructions  	instructions  	 NNS	B-NP
have  	have  	 VBP	O
been  	been  	 VBN	O
fetched  	fetched  	 VBN	O
in  	in  	 IN	O
the  	the  	 DT	O
trace 	trace 	 NN	O
.  	.  	 .	O
In  	In  	 IN	O
addition  	addition  	 NN	O
to  	to  	 TO	O
the  	the  	 DT	O
last  	last  	 JJ	O
exit 	exit 	 NN	B-NP
,  	,  	 ,	O
a  	a  	 DT	O
trace  	trace  	 NN	O
may  	may  	 MD	O
have  	have  	 VB	O
multiple  	multiple  	 JJ	O
side-exits  	side-exits  	 NN	B-NP
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
conditional  	conditional  	 JJ	B-NP
control  	control  	 NN	I-NP
transfers 	transfers 	 NNS	I-NP
) 	) 	 -RRB-	O
.  	.  	 .	O
Each  	Each  	 DT	O
exit  	exit  	 NN	B-NP
initially  	initially  	 RB	O
branches  	branches  	 NNS	O
to  	to  	 TO	O
a  	a  	 DT	O
stub 	stub 	 NN	O
,  	,  	 ,	O
which  	which  	 WDT	O
redirects  	redirects  	 JJ	B-NP
control  	control  	 NN	I-NP
to  	to  	 TO	O
the  	the  	 DT	O
VM 	VM 	 NNP	B-NP
.  	.  	 .	O
The  	The  	 DT	O
VM  	VM  	 NNP	B-NP
determines  	determines  	 VBZ	O
the  	the  	 DT	O
target  	target  	 NN	B-NP
address  	address  	 NN	I-NP
( 	( 	 -LRB-	O
which  	which  	 WDT	O
is  	is  	 VBZ	O
statically  	statically  	 JJ	O
unknown  	unknown  	 NN	B-NP
for  	for  	 IN	O
indirect  	indirect  	 JJ	O
control  	control  	 NN	B-NP
transfers 	transfers 	 NNS	I-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
generates  	generates  	 VBZ	O
a  	a  	 DT	O
new  	new  	 JJ	O
trace  	trace  	 NN	O
for  	for  	 IN	O
the  	the  	 DT	O
target  	target  	 NN	O
if  	if  	 IN	O
it  	it  	 PRP	O
has  	has  	 VBZ	O
not  	not  	 RB	O
been  	been  	 VBN	O
generated  	generated  	 VBN	O
before 	before 	 RB	O
,  	,  	 ,	O
and  	and  	 CC	O
resumes  	resumes  	 JJ	O
execution  	execution  	 NN	O
at  	at  	 IN	O
the  	the  	 DT	O
target  	target  	 NN	B-NP
trace 	trace 	 NN	I-NP
.  	.  	 .	O
To  	To  	 TO	O
improve  	improve  	 VB	O
performance 	performance 	 NN	O
,  	,  	 ,	O
in  	in  	 IN	O
some  	some  	 DT	O
embodiments  	embodiments  	 NN	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
may  	may  	 MD	O
attempt  	attempt  	 VB	O
to  	to  	 TO	O
branch  	branch  	 VB	O
directly  	directly  	 RB	O
from  	from  	 IN	O
a  	a  	 DT	O
trace  	trace  	 JJ	B-NP
exit  	exit  	 NN	I-NP
to  	to  	 TO	O
the  	the  	 DT	O
target  	target  	 NN	B-NP
trace 	trace 	 NN	I-NP
,  	,  	 ,	O
bypassing  	bypassing  	 VBG	O
the  	the  	 DT	O
stub  	stub  	 NN	O
and  	and  	 CC	O
VM 	VM 	 NNP	B-NP
.  	.  	 .	O
This  	This  	 DT	O
process  	process  	 NN	O
is  	is  	 VBZ	O
referred  	referred  	 VBN	O
to  	to  	 TO	O
herein  	herein  	 VB	O
as  	as  	 RB	O
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
trace  	trace  	 VBP	O
linking 	linking 	 VBG	O
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
; 	; 	 :	O
.  	.  	 .	O
Linking  	Linking  	 VBG	O
a  	a  	 DT	O
direct  	direct  	 JJ	O
control  	control  	 NN	B-NP
transfer  	transfer  	 NN	I-NP
is  	is  	 VBZ	O
straightforward 	straightforward 	 JJ	O
,  	,  	 ,	O
as  	as  	 IN	O
it  	it  	 PRP	O
has  	has  	 VBZ	O
a  	a  	 DT	O
unique  	unique  	 JJ	B-NP
target 	target 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
branch  	branch  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
patched  	patched  	 VBN	O
at  	at  	 IN	O
the  	the  	 DT	O
end  	end  	 NN	O
of  	of  	 IN	O
one  	one  	 CD	O
trace  	trace  	 NN	O
to  	to  	 TO	O
jump  	jump  	 VB	O
to  	to  	 TO	O
the  	the  	 DT	O
target  	target  	 NN	B-NP
trace 	trace 	 NN	I-NP
.  	.  	 .	O
However 	However 	 RB	O
,  	,  	 ,	O
an  	an  	 DT	O
indirect  	indirect  	 JJ	O
control  	control  	 NN	B-NP
transfer  	transfer  	 NN	I-NP
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
a  	a  	 DT	O
jump 	jump 	 NN	O
,  	,  	 ,	O
call 	call 	 NN	O
,  	,  	 ,	O
or  	or  	 CC	O
return 	return 	 NN	O
)  	)  	 -RRB-	O
has  	has  	 VBZ	O
multiple  	multiple  	 JJ	O
possible  	possible  	 JJ	O
targets  	targets  	 NNS	O
and  	and  	 CC	O
therefore  	therefore  	 RB	O
implicates  	implicates  	 VB	O
a  	a  	 DT	O
target-prediction  	target-prediction  	 JJ	B-NP
mechanism 	mechanism 	 NN	I-NP
.  	.  	 .	O
Precise  	Precise  	 JJ	B-NP
liveness  	liveness  	 JJ	I-NP
information  	information  	 NN	I-NP
of  	of  	 IN	O
registers  	registers  	 NNS	O
at  	at  	 IN	O
trace  	trace  	 JJ	B-NP
exits  	exits  	 NN	I-NP
makes  	makes  	 VBZ	O
register  	register  	 JJ	B-NP
allocation  	allocation  	 NN	I-NP
more  	more  	 RBR	O
effective 	effective 	 JJ	O
,  	,  	 ,	O
since  	since  	 IN	O
dead  	dead  	 JJ	O
registers  	registers  	 NNS	O
can  	can  	 MD	O
be  	be  	 VB	O
reused  	reused  	 VBN	O
by  	by  	 IN	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
without  	without  	 IN	O
introducing  	introducing  	 VBG	B-NP
spills 	spills 	 NNS	I-NP
.  	.  	 .	O
The  	The  	 DT	O
term  	term  	 NN	O
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
dead  	dead  	 JJ	O
register 	register 	 NN	O
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
;  	;  	 :	O
refers  	refers  	 VBZ	O
to  	to  	 TO	O
a  	a  	 DT	O
register  	register  	 NN	O
that  	that  	 WDT	O
will  	will  	 MD	O
have  	have  	 VB	O
its  	its  	 PRP$	O
contents  	contents  	 NNS	O
modified  	modified  	 VBN	O
at  	at  	 IN	O
a  	a  	 DT	O
next  	next  	 JJ	O
instruction  	instruction  	 NN	O
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
it  	it  	 PRP	O
contains  	contains  	 VBZ	O
invalid  	invalid  	 JJ	O
information 	information 	 NN	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Without  	Without  	 IN	O
a  	a  	 DT	O
complete  	complete  	 JJ	O
flow  	flow  	 NN	B-NP
graph 	graph 	 NN	I-NP
,  	,  	 ,	O
liveness  	liveness  	 NNS	B-NP
may  	may  	 MD	O
be  	be  	 VB	O
incrementally  	incrementally  	 JJ	B-NP
computed 	computed 	 NN	I-NP
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
after  	after  	 IN	O
a  	a  	 DT	O
trace  	trace  	 NN	O
at  	at  	 IN	O
address  	address  	 NN	O
A  	A  	 DT	O
is  	is  	 VBZ	O
compiled 	compiled 	 VBN	O
,  	,  	 ,	O
the  	the  	 DT	O
liveness  	liveness  	 NN	B-NP
at  	at  	 IN	O
the  	the  	 DT	O
beginning  	beginning  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
trace  	trace  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
recorded  	recorded  	 VBN	O
in  	in  	 IN	O
a  	a  	 DT	O
hash  	hash  	 JJ	O
table  	table  	 NN	O
using  	using  	 VBG	O
address  	address  	 NN	O
A  	A  	 NN	O
as  	as  	 IN	O
the  	the  	 DT	O
key 	key 	 NN	O
.  	.  	 .	O
If  	If  	 IN	O
a  	a  	 DT	O
trace  	trace  	 JJ	B-NP
exit  	exit  	 NN	I-NP
has  	has  	 VBZ	O
a  	a  	 DT	O
statically-known  	statically-known  	 JJ	O
target 	target 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
liveness  	liveness  	 JJ	B-NP
information  	information  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
retrieved  	retrieved  	 VBN	O
from  	from  	 IN	O
the  	the  	 DT	O
hash  	hash  	 JJ	O
table  	table  	 NN	O
to  	to  	 TO	O
compute  	compute  	 VB	O
more  	more  	 RBR	O
precise  	precise  	 JJ	O
liveness  	liveness  	 NN	B-NP
for  	for  	 IN	O
the  	the  	 DT	O
current  	current  	 JJ	O
trace 	trace 	 NN	O
.  	.  	 .	O
In  	In  	 IN	O
such  	such  	 JJ	O
manner 	manner 	 NN	O
,  	,  	 ,	O
register  	register  	 NN	O
spills  	spills  	 VBZ	O
introduced  	introduced  	 VBN	O
by  	by  	 IN	O
the  	the  	 DT	O
compiler 	compiler 	 NN	O
's  	's  	 POS	O
register  	register  	 JJ	B-NP
allocation  	allocation  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
reduced 	reduced 	 VBN	O
.  	.  	 .	O
Much  	Much  	 RB	O
of  	of  	 IN	O
the  	the  	 DT	O
slowdown  	slowdown  	 NN	B-NP
from  	from  	 IN	O
instrumentation  	instrumentation  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
caused  	caused  	 VBN	O
by  	by  	 IN	O
executing  	executing  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
,  	,  	 ,	O
rather  	rather  	 RB	O
than  	than  	 IN	O
compilation  	compilation  	 JJ	B-NP
time  	time  	 NN	I-NP
( 	( 	 -LRB-	O
which  	which  	 WDT	O
includes  	includes  	 VBZ	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
) 	) 	 -RRB-	O
.  	.  	 .	O
Therefore 	Therefore 	 RB	O
,  	,  	 ,	O
it  	it  	 PRP	O
may  	may  	 MD	O
be  	be  	 VB	O
beneficial  	beneficial  	 JJ	O
to  	to  	 TO	O
spend  	spend  	 VB	O
more  	more  	 RBR	O
compilation  	compilation  	 JJ	B-NP
time  	time  	 NN	I-NP
in  	in  	 IN	O
optimizing  	optimizing  	 JJ	B-NP
calls  	calls  	 NNS	I-NP
to  	to  	 TO	O
analysis  	analysis  	 NN	B-NP
routines 	routines 	 NNS	I-NP
.  	.  	 .	O
Of  	Of  	 IN	O
course 	course 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
run  	run  	 NN	B-NP
time  	time  	 NN	I-NP
overhead  	overhead  	 NN	O
of  	of  	 IN	O
executing  	executing  	 VBG	B-NP
analysis  	analysis  	 NN	I-NP
routines  	routines  	 NNS	I-NP
highly  	highly  	 RB	O
depends  	depends  	 VBZ	O
on  	on  	 IN	O
their  	their  	 PRP$	O
invocation  	invocation  	 JJ	B-NP
frequency  	frequency  	 NN	I-NP
and  	and  	 CC	O
complexity 	complexity 	 NN	O
.  	.  	 .	O
Many  	Many  	 JJ	O
frequently-executed  	frequently-executed  	 JJ	O
analysis  	analysis  	 NN	B-NP
routines  	routines  	 NNS	I-NP
of  	of  	 IN	I-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
perform  	perform  	 VBP	O
only  	only  	 RB	O
simple  	simple  	 JJ	O
tasks  	tasks  	 NNS	O
such  	such  	 JJ	O
as  	as  	 IN	O
counting  	counting  	 VBG	O
and  	and  	 CC	O
tracing 	tracing 	 NN	O
.  	.  	 .	O
Embodiments  	Embodiments  	 NNP	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
may  	may  	 MD	O
optimize  	optimize  	 VB	O
those  	those  	 DT	O
cases  	cases  	 NNS	O
by  	by  	 IN	O
inlining  	inlining  	 VBG	O
the  	the  	 DT	O
analysis  	analysis  	 NN	B-NP
routines 	routines 	 NNS	I-NP
,  	,  	 ,	O
which  	which  	 WDT	O
reduces  	reduces  	 VBZ	O
execution  	execution  	 NN	O
overhead 	overhead 	 NN	O
.  	.  	 .	O
Without  	Without  	 IN	O
inlining 	inlining 	 NN	B-NP
,  	,  	 ,	O
a  	a  	 DT	O
bridge  	bridge  	 NN	B-NP
routine  	routine  	 NN	I-NP
is  	is  	 VBZ	O
called  	called  	 VBN	O
to  	to  	 TO	O
save  	save  	 VB	O
all  	all  	 DT	O
caller-saved  	caller-saved  	 JJ	B-NP
registers 	registers 	 NNS	I-NP
,  	,  	 ,	O
set  	set  	 VBN	O
up  	up  	 RP	O
analysis  	analysis  	 NN	O
routine  	routine  	 JJ	B-NP
arguments 	arguments 	 NNS	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
finally  	finally  	 RB	O
call  	call  	 VB	O
the  	the  	 DT	O
analysis  	analysis  	 NN	B-NP
routine 	routine 	 NN	I-NP
.  	.  	 .	O
Each  	Each  	 DT	O
analysis  	analysis  	 NN	B-NP
routine  	routine  	 NN	I-NP
requires  	requires  	 VBZ	O
two  	two  	 CD	O
calls  	calls  	 NNS	O
and  	and  	 CC	O
two  	two  	 CD	O
returns  	returns  	 NNS	O
for  	for  	 IN	O
each  	each  	 DT	O
invocation 	invocation 	 NN	O
.  	.  	 .	O
With  	With  	 IN	O
inlining 	inlining 	 NN	B-NP
,  	,  	 ,	O
the  	the  	 DT	O
bridge  	bridge  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
eliminated  	eliminated  	 VBN	O
and  	and  	 CC	O
thus  	thus  	 RB	O
the  	the  	 DT	O
two  	two  	 CD	O
calls  	calls  	 NNS	O
and  	and  	 CC	O
returns  	returns  	 NNS	O
may  	may  	 MD	O
be  	be  	 VB	O
avoided 	avoided 	 VBN	O
.  	.  	 .	O
Also 	Also 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
caller-saved  	caller-saved  	 JJ	B-NP
registers  	registers  	 NNS	I-NP
need  	need  	 VBP	O
not  	not  	 RB	O
be  	be  	 VB	O
explicitly  	explicitly  	 RB	O
saved 	saved 	 VBN	O
.  	.  	 .	O
Instead 	Instead 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
caller-saved  	caller-saved  	 JJ	B-NP
registers  	registers  	 NNS	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
renamed  	renamed  	 VBN	O
in  	in  	 IN	O
the  	the  	 DT	O
inlined  	inlined  	 JJ	B-NP
body  	body  	 NN	I-NP
of  	of  	 IN	I-NP
the  	the  	 DT	I-NP
analysis  	analysis  	 NN	I-NP
routine 	routine 	 NN	I-NP
,  	,  	 ,	O
allowing  	allowing  	 VBG	O
a  	a  	 DT	O
register  	register  	 JJ	B-NP
allocator  	allocator  	 NN	I-NP
to  	to  	 TO	O
manage  	manage  	 VB	O
spilling 	spilling 	 NN	O
.  	.  	 .	O
Furthermore 	Furthermore 	 RB	O
,  	,  	 ,	O
inlining  	inlining  	 NN	B-NP
enables  	enables  	 VBZ	O
other  	other  	 JJ	O
optimizations  	optimizations  	 NN	B-NP
like  	like  	 IN	O
constant  	constant  	 JJ	O
folding  	folding  	 NN	O
of  	of  	 IN	O
analysis  	analysis  	 NN	O
routine  	routine  	 JJ	B-NP
arguments 	arguments 	 NNS	I-NP
.  	.  	 .	O
In  	In  	 IN	O
various  	various  	 JJ	O
embodiments  	embodiments  	 JJ	O
additional  	additional  	 JJ	O
optimizations  	optimizations  	 NN	B-NP
on  	on  	 IN	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
effected 	effected 	 NNS	O
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
most  	most  	 JJS	O
analysis  	analysis  	 NN	B-NP
routines  	routines  	 RB	I-NP
modify  	modify  	 VB	O
a  	a  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
or  	or  	 CC	O
conditional  	conditional  	 JJ	B-NP
flags  	flags  	 NNS	I-NP
register  	register  	 VBP	O
( 	( 	 -LRB-	O
referred  	referred  	 VBN	O
to  	to  	 TO	O
as  	as  	 IN	O
the  	the  	 DT	O
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
eflags 	eflags 	 NNS	B-NP
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
;  	;  	 :	O
register  	register  	 VB	O
in  	in  	 IN	O
an  	an  	 DT	O
x86  	x86  	 JJ	B-NP
environment 	environment 	 NN	I-NP
) 	) 	 -RRB-	O
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
if  	if  	 IN	O
an  	an  	 DT	O
analysis  	analysis  	 NN	O
routine  	routine  	 JJ	B-NP
increments  	increments  	 NNS	I-NP
a  	a  	 DT	O
counter 	counter 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
is  	is  	 VBZ	O
modified 	modified 	 VBN	O
.  	.  	 .	O
Thus 	Thus 	 RB	O
,  	,  	 ,	O
before  	before  	 IN	O
execution  	execution  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
the  	the  	 DT	O
original  	original  	 JJ	B-NP
eflags  	eflags  	 NNS	I-NP
register  	register  	 VBP	O
value  	value  	 NN	O
as  	as  	 IN	O
seen  	seen  	 VBN	O
by  	by  	 IN	O
the  	the  	 DT	O
application  	application  	 NN	O
is  	is  	 VBZ	O
to  	to  	 TO	O
be  	be  	 VB	O
preserved  	preserved  	 VBN	O
prior  	prior  	 RB	O
to  	to  	 TO	O
modifying  	modifying  	 VB	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
However 	However 	 RB	O
,  	,  	 ,	O
accessing  	accessing  	 VBG	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
is  	is  	 VBZ	O
a  	a  	 DT	O
fairly  	fairly  	 RB	O
expensive  	expensive  	 JJ	B-NP
operation  	operation  	 NN	I-NP
because  	because  	 IN	O
it  	it  	 PRP	O
must  	must  	 MD	O
be  	be  	 VB	O
done  	done  	 VBN	O
by  	by  	 IN	O
pushing  	pushing  	 VBG	O
it  	it  	 PRP	O
onto  	onto  	 IN	O
the  	the  	 DT	O
stack 	stack 	 NN	O
.  	.  	 .	O
Moreover 	Moreover 	 RB	O
,  	,  	 ,	O
a  	a  	 DT	O
switch  	switch  	 NN	O
to  	to  	 TO	O
another  	another  	 DT	O
stack  	stack  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
performed  	performed  	 VBN	O
before  	before  	 IN	O
pushing 	pushing 	 VBG	O
/ 	/ 	 RB	O
popping  	popping  	 VBG	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
to  	to  	 TO	O
avoid  	avoid  	 VB	O
changing  	changing  	 VBG	O
the  	the  	 DT	O
application  	application  	 NN	B-NP
stack 	stack 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
compiler  	compiler  	 NN	O
may  	may  	 MD	O
avoid  	avoid  	 VB	O
saving 	saving 	 VBG	O
/ 	/ 	 RB	O
restoring  	restoring  	 VBG	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
as  	as  	 IN	O
much  	much  	 JJ	O
as  	as  	 IN	O
possible  	possible  	 JJ	O
by  	by  	 IN	O
using  	using  	 VBG	O
a  	a  	 DT	O
liveness  	liveness  	 JJ	B-NP
analysis  	analysis  	 NN	I-NP
on  	on  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
liveness  	liveness  	 JJ	B-NP
analysis  	analysis  	 NN	I-NP
tracks  	tracks  	 VBZ	O
the  	the  	 DT	O
individual  	individual  	 JJ	B-NP
bits  	bits  	 NNS	I-NP
in  	in  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 NNS	B-NP
register  	register  	 VBP	O
written  	written  	 VBN	O
and  	and  	 CC	O
read  	read  	 VB	O
by  	by  	 IN	O
each  	each  	 DT	O
instruction 	instruction 	 NN	O
.  	.  	 .	O
If  	If  	 IN	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
determined  	determined  	 VBN	O
that  	that  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
is  	is  	 VBZ	O
dead  	dead  	 VBN	O
at  	at  	 IN	O
the  	the  	 DT	O
point  	point  	 NN	O
where  	where  	 WRB	O
an  	an  	 DT	O
analysis  	analysis  	 NN	O
routine  	routine  	 JJ	B-NP
call  	call  	 NN	I-NP
is  	is  	 VBZ	O
inserted 	inserted 	 VBN	O
,  	,  	 ,	O
saving  	saving  	 VBG	O
and  	and  	 CC	O
restoring  	restoring  	 VBG	O
of  	of  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
avoided 	avoided 	 VBN	O
.  	.  	 .	O
In  	In  	 IN	O
some  	some  	 DT	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
further  	further  	 RB	O
may  	may  	 MD	O
be  	be  	 VB	O
optimized  	optimized  	 VBN	O
if  	if  	 IN	O
it  	it  	 PRP	O
can  	can  	 MD	O
be  	be  	 VB	O
scheduled 	scheduled 	 VBN	O
,  	,  	 ,	O
provided  	provided  	 VBN	O
that  	that  	 IN	O
the  	the  	 DT	O
resulting  	resulting  	 JJ	O
schedule  	schedule  	 NN	O
still  	still  	 RB	O
honors  	honors  	 VB	O
the  	the  	 DT	O
original  	original  	 JJ	B-NP
semantics  	semantics  	 NNS	I-NP
of  	of  	 IN	O
the  	the  	 DT	O
instrumentation 	instrumentation 	 NN	O
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
if  	if  	 IN	O
a  	a  	 DT	O
user  	user  	 NN	O
wants  	wants  	 VBZ	O
to  	to  	 TO	O
obtain  	obtain  	 VB	O
an  	an  	 DT	O
execution  	execution  	 NN	B-NP
count  	count  	 NN	I-NP
of  	of  	 IN	O
a  	a  	 DT	O
basic  	basic  	 JJ	O
block 	block 	 NN	O
,  	,  	 ,	O
he 	he 	 PRP	B-NP
/ 	/ 	 VBP	I-NP
she  	she  	 PRP	I-NP
usually  	usually  	 RB	O
updates  	updates  	 VB	O
a  	a  	 DT	O
counter  	counter  	 NN	O
at  	at  	 IN	O
the  	the  	 DT	O
basic  	basic  	 JJ	O
block 	block 	 NN	O
's  	's  	 POS	O
entry 	entry 	 NN	O
.  	.  	 .	O
Nevertheless 	Nevertheless 	 RB	O
,  	,  	 ,	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
legal  	legal  	 JJ	O
to  	to  	 TO	O
put  	put  	 VB	O
the  	the  	 DT	O
counter  	counter  	 RB	O
update  	update  	 VB	O
anywhere  	anywhere  	 RB	O
inside  	inside  	 IN	O
the  	the  	 DT	O
basic  	basic  	 JJ	O
block 	block 	 NN	O
.  	.  	 .	O
Having  	Having  	 VBG	O
this  	this  	 DT	O
scheduling  	scheduling  	 NN	B-NP
feasibility  	feasibility  	 NN	I-NP
opens  	opens  	 VBZ	O
up  	up  	 RB	O
various  	various  	 JJ	O
optimization  	optimization  	 JJ	B-NP
opportunities 	opportunities 	 NNS	I-NP
.  	.  	 .	O
For  	For  	 IN	O
instance 	instance 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
counter  	counter  	 JJ	O
update  	update  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
placed  	placed  	 VBN	O
at  	at  	 IN	O
a  	a  	 DT	O
point  	point  	 NN	O
in  	in  	 IN	O
the  	the  	 DT	O
basic  	basic  	 JJ	O
block  	block  	 NN	O
where  	where  	 WRB	O
there  	there  	 EX	O
is  	is  	 VBZ	O
a  	a  	 DT	O
free  	free  	 JJ	O
register  	register  	 NN	O
or  	or  	 CC	O
a  	a  	 DT	O
dead  	dead  	 JJ	O
register 	register 	 NN	O
,  	,  	 ,	O
for  	for  	 IN	O
example 	example 	 NN	O
.  	.  	 .	O
Then  	Then  	 RB	O
the  	the  	 DT	O
counter  	counter  	 JJ	O
update  	update  	 NN	O
can  	can  	 MD	O
take  	take  	 VB	O
this  	this  	 DT	O
register  	register  	 NN	O
for  	for  	 IN	O
its  	its  	 PRP$	O
own  	own  	 JJ	O
use 	use 	 NN	O
,  	,  	 ,	O
thereby  	thereby  	 RB	O
avoiding  	avoiding  	 VBG	O
the  	the  	 DT	O
need  	need  	 NN	O
to  	to  	 TO	O
spill  	spill  	 VB	O
a  	a  	 DT	O
register 	register 	 NN	O
.  	.  	 .	O
On  	On  	 IN	O
an  	an  	 DT	O
in-order  	in-order  	 JJ	B-NP
machine  	machine  	 NN	I-NP
such  	such  	 JJ	O
as  	as  	 IN	O
the  	the  	 DT	O
Intel 	Intel 	 NNP	B-NP
& 	& 	 CC	O
# 	# 	 #	O
xae 	xae 	 CD	B-NP
;  	;  	 :	O
Itanium 	Itanium 	 NNP	B-NP
& 	& 	 CC	O
# 	# 	 #	O
x2122 	x2122 	 CD	O
;  	;  	 :	O
processor 	processor 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
counter  	counter  	 JJ	O
update  	update  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
scheduled  	scheduled  	 VBN	O
into  	into  	 IN	O
existing  	existing  	 VBG	O
no  	no  	 DT	O
operation  	operation  	 NN	O
( 	( 	 -LRB-	O
nops 	nops 	 LS	B-NP
)  	)  	 -RRB-	O
instructions  	instructions  	 NNS	B-NP
( 	( 	 -LRB-	O
if  	if  	 IN	O
any 	any 	 DT	O
)  	)  	 -RRB-	O
inside  	inside  	 IN	O
the  	the  	 DT	O
basic  	basic  	 JJ	O
block  	block  	 NN	O
and  	and  	 CC	O
hence  	hence  	 RB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	O
could  	could  	 MD	O
potentially  	potentially  	 RB	O
be  	be  	 VB	O
done  	done  	 VBN	O
at  	at  	 IN	O
no  	no  	 DT	O
cost 	cost 	 NN	O
.  	.  	 .	O
In  	In  	 IN	O
general 	general 	 JJ	O
,  	,  	 ,	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
safe  	safe  	 JJ	O
to  	to  	 TO	O
schedule  	schedule  	 VB	O
instrumentation  	instrumentation  	 JJ	B-NP
code  	code  	 NN	I-NP
that  	that  	 WDT	O
does  	does  	 VBZ	O
not  	not  	 RB	O
access  	access  	 VB	O
the  	the  	 DT	O
register  	register  	 NN	O
and  	and  	 CC	O
memory  	memory  	 NN	B-NP
values  	values  	 VBZ	O
used  	used  	 VBN	O
in  	in  	 IN	O
the  	the  	 DT	O
application 	application 	 NN	O
.  	.  	 .	O
This  	This  	 DT	O
orthogonal  	orthogonal  	 JJ	B-NP
relation  	relation  	 NN	I-NP
between  	between  	 IN	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	O
and  	and  	 CC	O
the  	the  	 DT	O
application  	application  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
referred  	referred  	 VBN	O
to  	to  	 TO	O
as  	as  	 RB	O
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
data  	data  	 NNS	B-NP
independency 	independency 	 NN	I-NP
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
; 	; 	 :	O
.  	.  	 .	O
In  	In  	 IN	O
some  	some  	 DT	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
different  	different  	 JJ	O
approaches  	approaches  	 NNS	O
to  	to  	 TO	O
scheduling  	scheduling  	 VB	B-NP
instrumentation  	instrumentation  	 JJ	I-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
effected 	effected 	 NNS	O
.  	.  	 .	O
A  	A  	 DT	O
first  	first  	 JJ	O
approach  	approach  	 NN	O
is  	is  	 VBZ	O
a  	a  	 DT	O
user-directed  	user-directed  	 JJ	B-NP
approach 	approach 	 NN	I-NP
,  	,  	 ,	O
where  	where  	 WRB	O
the  	the  	 DT	O
tool  	tool  	 NN	B-NP
writer  	writer  	 NN	I-NP
provides  	provides  	 VBZ	O
hints  	hints  	 VBN	O
to  	to  	 TO	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
engine  	engine  	 NN	I-NP
about  	about  	 IN	O
where  	where  	 WRB	O
to  	to  	 TO	O
schedule  	schedule  	 VB	O
instrumentation  	instrumentation  	 JJ	B-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
tool  	tool  	 NN	B-NP
writer  	writer  	 NN	I-NP
guarantees  	guarantees  	 NNS	I-NP
data  	data  	 NN	I-NP
independency 	independency 	 NN	I-NP
.  	.  	 .	O
That  	That  	 WDT	O
is 	is 	 VBZ	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
may  	may  	 MD	O
accept  	accept  	 VB	O
the  	the  	 DT	O
user 	user 	 NN	O
's  	's  	 POS	O
indication  	indication  	 NN	O
of  	of  	 IN	O
data  	data  	 NNS	O
independency  	independency  	 VBN	O
at  	at  	 IN	O
face  	face  	 NN	B-NP
value  	value  	 NN	I-NP
and  	and  	 CC	O
schedule  	schedule  	 NN	B-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
accordingly 	accordingly 	 RB	O
.  	.  	 .	O
The  	The  	 DT	O
second  	second  	 JJ	O
approach  	approach  	 NN	O
is  	is  	 VBZ	O
an  	an  	 DT	O
automatic  	automatic  	 JJ	B-NP
approach 	approach 	 NN	I-NP
,  	,  	 ,	O
in  	in  	 IN	O
which  	which  	 WDT	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
engine  	engine  	 NN	I-NP
itself  	itself  	 PRP	O
analyzes  	analyzes  	 VBD	O
the  	the  	 DT	O
code  	code  	 NN	O
to  	to  	 TO	O
be  	be  	 VB	O
instrumented  	instrumented  	 NNS	B-NP
and  	and  	 CC	O
determines  	determines  	 VBZ	O
if  	if  	 IN	O
the  	the  	 DT	O
data  	data  	 NN	B-NP
independency  	independency  	 NN	I-NP
exists 	exists 	 VBZ	O
.  	.  	 .	O
In  	In  	 IN	O
an  	an  	 DT	O
implementation  	implementation  	 NN	B-NP
of  	of  	 IN	O
the  	the  	 DT	O
first  	first  	 JJ	O
approach 	approach 	 NN	O
,  	,  	 ,	O
a  	a  	 DT	O
user  	user  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
provided  	provided  	 VBN	O
with  	with  	 IN	O
a  	a  	 DT	O
command  	command  	 NN	O
to  	to  	 TO	O
provide  	provide  	 VB	O
the  	the  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint 	hint 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
command  	command  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
termed  	termed  	 VBN	O
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
IPOINT_ANYWHERE 	IPOINT_ANYWHERE 	 CD	B-NP
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
; 	; 	 :	O
,  	,  	 ,	O
in  	in  	 IN	O
one  	one  	 CD	O
embodiment 	embodiment 	 NNS	O
.  	.  	 .	O
Via  	Via  	 IN	O
this  	this  	 DT	O
command 	command 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
tool  	tool  	 NN	B-NP
writer  	writer  	 NN	I-NP
can  	can  	 MD	O
specify  	specify  	 VB	O
that  	that  	 IN	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
can  	can  	 MD	O
be  	be  	 VB	O
scheduled  	scheduled  	 VBN	O
anywhere  	anywhere  	 RB	O
within  	within  	 IN	O
the  	the  	 DT	O
scope  	scope  	 NN	O
of  	of  	 IN	O
instrumentation  	instrumentation  	 NN	O
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
a  	a  	 DT	O
basic  	basic  	 JJ	O
block 	block 	 NN	O
,  	,  	 ,	O
trace 	trace 	 NN	O
,  	,  	 ,	O
or  	or  	 CC	O
function 	function 	 NN	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Upon  	Upon  	 IN	O
receiving  	receiving  	 VBG	O
this  	this  	 DT	O
command 	command 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
may  	may  	 MD	O
seek  	seek  	 VB	O
to  	to  	 TO	O
optimize  	optimize  	 VB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
by  	by  	 IN	O
selective  	selective  	 JJ	B-NP
scheduling  	scheduling  	 NN	I-NP
of  	of  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	O
within  	within  	 IN	O
the  	the  	 DT	O
block  	block  	 NN	O
or  	or  	 CC	O
function 	function 	 NN	O
.  	.  	 .	O
For  	For  	 IN	O
instance 	instance 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
can  	can  	 MD	O
insert  	insert  	 VB	O
the  	the  	 DT	O
call  	call  	 NN	O
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
or  	or  	 CC	O
analysis  	analysis  	 NN	B-NP
routine 	routine 	 NN	I-NP
)  	)  	 -RRB-	O
immediately  	immediately  	 RB	O
before  	before  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
that  	that  	 IN	O
overwrites  	overwrites  	 VBG	O
a  	a  	 DT	O
register  	register  	 NN	O
( 	( 	 -LRB-	O
or  	or  	 CC	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
)  	)  	 -RRB-	O
and  	and  	 CC	O
thereby  	thereby  	 RB	O
the  	the  	 DT	O
analysis  	analysis  	 NN	B-NP
routine  	routine  	 NN	I-NP
can  	can  	 MD	O
use  	use  	 VB	O
that  	that  	 DT	O
register  	register  	 NN	O
( 	( 	 -LRB-	O
or  	or  	 CC	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
)  	)  	 -RRB-	O
without  	without  	 IN	O
first  	first  	 JJ	O
spilling  	spilling  	 NN	O
it 	it 	 PRP	O
.  	.  	 .	O
As  	As  	 IN	O
an  	an  	 DT	O
example 	example 	 NN	O
,  	,  	 ,	O
an  	an  	 DT	O
optimization  	optimization  	 NN	B-NP
that  	that  	 WDT	O
avoids  	avoids  	 VBZ	O
saving 	saving 	 VBG	O
/ 	/ 	 RB	O
restoring  	restoring  	 VBG	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
during  	during  	 IN	O
execution  	execution  	 NN	O
of  	of  	 IN	O
instrumented  	instrumented  	 JJ	B-NP
binary  	binary  	 JJ	I-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
provide  	provide  	 VB	O
improved  	improved  	 JJ	O
program  	program  	 NN	B-NP
performance 	performance 	 NN	I-NP
.  	.  	 .	O
Different  	Different  	 JJ	B-NP
manners  	manners  	 NNS	I-NP
of  	of  	 IN	I-NP
avoiding  	avoiding  	 VBG	I-NP
overwriting  	overwriting  	 NN	I-NP
of  	of  	 IN	I-NP
the  	the  	 DT	I-NP
eflags  	eflags  	 JJ	I-NP
register  	register  	 NN	I-NP
in  	in  	 IN	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
performed 	performed 	 VBN	O
.  	.  	 .	O
A  	A  	 DT	O
first  	first  	 JJ	O
method  	method  	 NN	O
may  	may  	 MD	O
analyze  	analyze  	 VB	O
code  	code  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
scope  	scope  	 NN	I-NP
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
a  	a  	 DT	O
basic  	basic  	 JJ	O
block 	block 	 NN	O
)  	)  	 -RRB-	O
for  	for  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
that  	that  	 IN	O
overwrites  	overwrites  	 VBG	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
If  	If  	 IN	O
such  	such  	 PDT	O
an  	an  	 DT	O
instruction 	instruction 	 NN	O
,  	,  	 ,	O
say  	say  	 VBP	O
i 	i 	 VBN	O
,  	,  	 ,	O
is  	is  	 VBZ	O
found 	found 	 VBN	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
scheduled  	scheduled  	 VBN	O
immediately  	immediately  	 RB	O
before  	before  	 IN	O
i 	i 	 FW	O
.  	.  	 .	O
Since  	Since  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
is  	is  	 VBZ	O
already  	already  	 RB	O
dead  	dead  	 JJ	O
after  	after  	 IN	O
i 	i 	 FW	O
,  	,  	 ,	O
there  	there  	 EX	O
is  	is  	 VBZ	O
no  	no  	 DT	O
need  	need  	 NN	O
to  	to  	 TO	O
save  	save  	 VB	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
before  	before  	 IN	O
executing  	executing  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
.  	.  	 .	O
Referring  	Referring  	 VBG	O
now  	now  	 RB	O
to  	to  	 TO	O
Table  	Table  	 NNP	O
1  	1  	 CD	O
below 	below 	 IN	O
,  	,  	 ,	O
shown  	shown  	 VBN	O
is  	is  	 VBZ	O
an  	an  	 DT	O
example  	example  	 NN	B-NP
code  	code  	 NN	I-NP
segment  	segment  	 NN	I-NP
that  	that  	 WDT	O
includes  	includes  	 VBZ	O
a  	a  	 DT	O
number  	number  	 NN	O
of  	of  	 IN	O
instructions 	instructions 	 NNS	B-NP
.  	.  	 .	O
The  	The  	 DT	O
middle  	middle  	 JJ	O
code  	code  	 NN	O
block  	block  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
1  	1  	 CD	O
shows  	shows  	 NNS	O
a  	a  	 DT	O
basic  	basic  	 JJ	O
block  	block  	 NN	O
to  	to  	 TO	O
be  	be  	 VB	O
instrumented 	instrumented 	 NNS	B-NP
.  	.  	 .	O
As  	As  	 RB	O
shown 	shown 	 VBN	O
,  	,  	 ,	O
the  	the  	 DT	O
block  	block  	 NN	O
includes  	includes  	 VBZ	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
to  	to  	 TO	O
move  	move  	 VB	O
the  	the  	 DT	O
contents  	contents  	 NNS	O
of  	of  	 IN	O
a  	a  	 DT	O
first  	first  	 JJ	O
register  	register  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
second  	second  	 JJ	O
register  	register  	 NNS	O
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
esi  	esi  	 VBG	O
to  	to  	 TO	O
edi 	edi 	 CD	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
and  	and  	 CC	O
then  	then  	 RB	O
to  	to  	 TO	O
compare  	compare  	 VB	O
a  	a  	 DT	O
value  	value  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
second  	second  	 JJ	O
register  	register  	 NN	O
to  	to  	 TO	O
another  	another  	 DT	O
value 	value 	 NN	O
.  	.  	 .	O
This  	This  	 DT	O
comparison  	comparison  	 NN	B-NP
instruction  	instruction  	 NN	I-NP
will  	will  	 MD	O
thus  	thus  	 RB	O
overwrite  	overwrite  	 VBN	O
at  	at  	 IN	O
least  	least  	 JJS	O
a  	a  	 DT	O
portion  	portion  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
Finally 	Finally 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
block  	block  	 NN	I-NP
includes  	includes  	 VBZ	O
a  	a  	 DT	O
jump  	jump  	 NN	B-NP
instruction  	instruction  	 NN	I-NP
to  	to  	 TO	O
a  	a  	 DT	O
target  	target  	 NN	B-NP
branch 	branch 	 NN	I-NP
.  	.  	 .	O
TABLE  	TABLE  	 NN	O
1  	1  	 LS	O
Table  	Table  	 NN	O
1  	1  	 CD	O
also  	also  	 RB	O
includes  	includes  	 VBZ	O
two  	two  	 CD	O
instrumented  	instrumented  	 CD	B-NP
versions  	versions  	 NNS	I-NP
of  	of  	 IN	O
the  	the  	 DT	O
code 	code 	 NN	O
,  	,  	 ,	O
namely  	namely  	 RB	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
version  	version  	 NN	I-NP
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
an  	an  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
( 	( 	 -LRB-	O
shown  	shown  	 VBN	O
on  	on  	 IN	O
the  	the  	 DT	O
right  	right  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
1 	1 	 CD	O
)  	)  	 -RRB-	O
and  	and  	 CC	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
version  	version  	 NN	I-NP
of  	of  	 IN	I-NP
the  	the  	 DT	I-NP
code  	code  	 NN	I-NP
segment  	segment  	 NN	I-NP
without  	without  	 IN	O
implementing  	implementing  	 VBG	O
optimization  	optimization  	 JJ	B-NP
methods  	methods  	 NNS	I-NP
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
instrumented  	instrumented  	 VBG	O
without  	without  	 IN	O
scheduling 	scheduling 	 NN	O
)  	)  	 -RRB-	O
as  	as  	 RB	O
shown  	shown  	 VBN	O
on  	on  	 IN	O
the  	the  	 DT	O
left  	left  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
1 	1 	 CD	O
.  	.  	 .	O
Referring  	Referring  	 VBG	O
to  	to  	 TO	O
the  	the  	 DT	O
unoptimized  	unoptimized  	 JJ	B-NP
instruction  	instruction  	 NN	I-NP
code  	code  	 NN	I-NP
on  	on  	 IN	O
the  	the  	 DT	O
left  	left  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
1 	1 	 CD	O
,  	,  	 ,	O
since  	since  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
is  	is  	 VBZ	O
alive  	alive  	 JJ	O
at  	at  	 IN	O
the  	the  	 DT	O
first  	first  	 JJ	O
instruction  	instruction  	 NN	O
( 	( 	 -LRB-	O
cmova 	cmova 	 LS	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
is  	is  	 VBZ	O
saved  	saved  	 VBN	O
and  	and  	 CC	O
restored  	restored  	 VBN	O
around  	around  	 IN	O
the  	the  	 DT	O
increment  	increment  	 JJ	B-NP
instruction  	instruction  	 NN	I-NP
( 	( 	 -LRB-	O
the  	the  	 DT	O
desired  	desired  	 JJ	O
instrumentation  	instrumentation  	 NN	B-NP
function 	function 	 NN	I-NP
) 	) 	 -RRB-	O
.  	.  	 .	O
Also  	Also  	 RB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
switches  	switches  	 VBZ	O
to  	to  	 TO	O
another  	another  	 DT	O
stack  	stack  	 NN	O
before  	before  	 IN	O
the  	the  	 DT	O
pushf  	pushf  	 JJ	B-NP
instruction 	instruction 	 NN	I-NP
,  	,  	 ,	O
which  	which  	 WDT	O
flushes  	flushes  	 VBZ	O
the  	the  	 DT	O
entire  	entire  	 JJ	O
processor  	processor  	 NN	B-NP
pipeline 	pipeline 	 NN	I-NP
,  	,  	 ,	O
to  	to  	 TO	O
avoid  	avoid  	 VB	O
touching  	touching  	 VBG	O
the  	the  	 DT	O
user  	user  	 NN	B-NP
stack  	stack  	 NNS	I-NP
( 	( 	 -LRB-	O
for  	for  	 IN	O
instrumentation  	instrumentation  	 NN	B-NP
transparency  	transparency  	 NN	I-NP
reasons 	reasons 	 NNS	I-NP
) 	) 	 -RRB-	O
.  	.  	 .	O
Accordingly 	Accordingly 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
uses  	uses  	 VBZ	O
six  	six  	 CD	O
instructions  	instructions  	 NNS	B-NP
and  	and  	 CC	O
further  	further  	 RB	O
causes  	causes  	 VBZ	O
the  	the  	 DT	O
entire  	entire  	 JJ	O
processor  	processor  	 NN	B-NP
pipeline  	pipeline  	 NN	I-NP
to  	to  	 TO	O
be  	be  	 VB	O
flushed 	flushed 	 NNS	O
,  	,  	 ,	O
which  	which  	 WDT	O
is  	is  	 VBZ	O
a  	a  	 DT	O
very  	very  	 RB	O
expensive  	expensive  	 JJ	B-NP
process 	process 	 NN	I-NP
.  	.  	 .	O
In  	In  	 IN	O
contrast 	contrast 	 NN	O
,  	,  	 ,	O
referring  	referring  	 VBG	O
to  	to  	 TO	O
the  	the  	 DT	O
right  	right  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
1 	1 	 CD	O
,  	,  	 ,	O
shown  	shown  	 VBN	O
is  	is  	 VBZ	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
block  	block  	 NN	I-NP
resulting  	resulting  	 VBG	O
from  	from  	 IN	O
instrumentation  	instrumentation  	 NN	O
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
an  	an  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
Because  	Because  	 IN	O
the  	the  	 DT	O
desired  	desired  	 JJ	O
instrumentation  	instrumentation  	 NN	B-NP
instruction 	instruction 	 NN	I-NP
,  	,  	 ,	O
namely  	namely  	 RB	O
a  	a  	 DT	O
counter  	counter  	 NN	O
update  	update  	 NNS	O
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
inc  	inc  	 NNS	O
( 	( 	 -LRB-	O
eax 	eax 	 LS	B-NP
) 	) 	 -RRB-	O
)  	)  	 -RRB-	O
is  	is  	 VBZ	O
scheduled  	scheduled  	 VBN	O
immediately  	immediately  	 RB	O
before  	before  	 IN	O
the  	the  	 DT	O
compare  	compare  	 JJ	O
instruction  	instruction  	 NN	O
( 	( 	 -LRB-	O
cmp 	cmp 	 LS	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
which  	which  	 WDT	O
writes  	writes  	 VBZ	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
,  	,  	 ,	O
there  	there  	 EX	O
is  	is  	 VBZ	O
no  	no  	 DT	O
need  	need  	 NN	O
to  	to  	 TO	O
save  	save  	 VB	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
Accordingly 	Accordingly 	 RB	O
,  	,  	 ,	O
only  	only  	 RB	O
a  	a  	 DT	O
single  	single  	 JJ	O
instruction  	instruction  	 NN	O
is  	is  	 VBZ	O
added  	added  	 VBN	O
for  	for  	 IN	O
purposes  	purposes  	 NNS	O
of  	of  	 IN	O
the  	the  	 DT	O
instrumentation 	instrumentation 	 NN	O
.  	.  	 .	O
Furthermore 	Furthermore 	 RB	O
,  	,  	 ,	O
there  	there  	 EX	O
is  	is  	 VBZ	O
no  	no  	 DT	O
need  	need  	 NN	O
to  	to  	 TO	O
spill  	spill  	 VB	O
any  	any  	 DT	O
registers  	registers  	 NN	O
or  	or  	 CC	O
change  	change  	 NN	B-NP
stacks 	stacks 	 NNS	I-NP
.  	.  	 .	O
As  	As  	 IN	O
such 	such 	 JJ	O
,  	,  	 ,	O
the  	the  	 DT	O
processor  	processor  	 NN	B-NP
pipeline  	pipeline  	 NN	I-NP
need  	need  	 VBP	O
not  	not  	 RB	O
be  	be  	 VB	O
flushed  	flushed  	 NNS	O
and  	and  	 CC	O
execution  	execution  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
is  	is  	 VBZ	O
thus  	thus  	 RB	O
optimized 	optimized 	 VBN	O
.  	.  	 .	O
If  	If  	 IN	O
the  	the  	 DT	O
first  	first  	 JJ	O
method  	method  	 NN	O
is  	is  	 VBZ	O
not  	not  	 RB	O
applicable 	applicable 	 JJ	O
,  	,  	 ,	O
a  	a  	 DT	O
second  	second  	 JJ	O
method  	method  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
performed 	performed 	 VBN	O
.  	.  	 .	O
Namely 	Namely 	 RB	O
,  	,  	 ,	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
in  	in  	 IN	O
the  	the  	 DT	O
scope  	scope  	 NN	O
being  	being  	 VBG	B-NP
instrumented  	instrumented  	 NNS	I-NP
that  	that  	 WDT	O
overwrites  	overwrites  	 VBZ	O
a  	a  	 DT	O
general-purpose  	general-purpose  	 JJ	B-NP
register  	register  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
sought 	sought 	 VBN	O
.  	.  	 .	O
With  	With  	 IN	O
this  	this  	 DT	O
free  	free  	 JJ	O
register 	register 	 NN	O
,  	,  	 ,	O
an  	an  	 DT	O
instruction  	instruction  	 NN	B-NP
sequence  	sequence  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
generated  	generated  	 VBN	O
that  	that  	 IN	O
performs  	performs  	 VBG	O
the  	the  	 DT	O
intended  	intended  	 JJ	O
instrumentation  	instrumentation  	 NN	O
but  	but  	 CC	O
does  	does  	 VBZ	O
not  	not  	 RB	O
modify  	modify  	 VB	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
An  	An  	 DT	O
example  	example  	 NN	O
is  	is  	 VBZ	O
given  	given  	 VBN	O
in  	in  	 IN	O
Table  	Table  	 NNP	O
2 	2 	 CD	O
.  	.  	 .	O
As  	As  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
Table  	Table  	 NNP	O
2 	2 	 CD	O
,  	,  	 ,	O
an  	an  	 DT	O
original  	original  	 JJ	B-NP
code  	code  	 NN	I-NP
block  	block  	 NN	I-NP
is  	is  	 VBZ	O
presented 	presented 	 VBN	O
,  	,  	 ,	O
along  	along  	 RB	O
with  	with  	 IN	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
version  	version  	 NN	I-NP
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
an  	an  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
on  	on  	 IN	O
the  	the  	 DT	O
right  	right  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
2 	2 	 CD	O
) 	) 	 -RRB-	O
,  	,  	 ,	O
and  	and  	 CC	O
an  	an  	 DT	O
unoptimized  	unoptimized  	 JJ	B-NP
instrumented  	instrumented  	 JJ	I-NP
version  	version  	 NN	I-NP
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
on  	on  	 IN	O
the  	the  	 DT	O
left  	left  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
2 	2 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
As  	As  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
Table  	Table  	 NNP	O
2 	2 	 CD	O
,  	,  	 ,	O
the  	the  	 DT	O
original  	original  	 JJ	B-NP
code  	code  	 NN	I-NP
block  	block  	 NN	I-NP
moves  	moves  	 VBZ	O
the  	the  	 DT	O
contents  	contents  	 NNS	O
of  	of  	 IN	O
a  	a  	 DT	O
first  	first  	 JJ	O
register  	register  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
second  	second  	 JJ	O
register  	register  	 NNS	O
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
ebx  	ebx  	 VBG	O
to  	to  	 TO	O
edi 	edi 	 CD	B-NP
)  	)  	 -RRB-	O
and  	and  	 CC	O
secondly  	secondly  	 JJ	O
moves  	moves  	 NNS	O
the  	the  	 DT	O
contents  	contents  	 NNS	O
of  	of  	 IN	O
a  	a  	 DT	O
third  	third  	 JJ	O
register  	register  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
fourth  	fourth  	 JJ	O
register  	register  	 NNS	O
( 	( 	 -LRB-	O
i.e. 	i.e. 	 FW	O
,  	,  	 ,	O
esi  	esi  	 VBG	O
to  	to  	 TO	O
edx 	edx 	 CD	B-NP
) 	) 	 -RRB-	O
.  	.  	 .	O
Then  	Then  	 RB	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
block  	block  	 NN	I-NP
jumps  	jumps  	 VBZ	O
to  	to  	 TO	O
a  	a  	 DT	O
target  	target  	 NN	B-NP
branch 	branch 	 NN	I-NP
.  	.  	 .	O
TABLE  	TABLE  	 NN	O
2  	2  	 LS	O
The  	The  	 DT	O
optimized  	optimized  	 JJ	B-NP
instrumented  	instrumented  	 JJ	I-NP
code  	code  	 NN	I-NP
block  	block  	 NN	I-NP
shown  	shown  	 VBN	O
on  	on  	 IN	O
the  	the  	 DT	O
right  	right  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
2  	2  	 CD	O
schedules  	schedules  	 CD	O
three  	three  	 CD	O
new  	new  	 JJ	O
instructions  	instructions  	 NNS	B-NP
prior  	prior  	 RB	O
to  	to  	 TO	O
the  	the  	 DT	O
second  	second  	 JJ	O
move  	move  	 NN	B-NP
instruction 	instruction 	 NN	I-NP
.  	.  	 .	O
These  	These  	 DT	O
three  	three  	 CD	O
instructions  	instructions  	 NNS	B-NP
make  	make  	 VBP	O
use  	use  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
free  	free  	 JJ	O
register  	register  	 JJ	B-NP
edx  	edx  	 NN	I-NP
to  	to  	 TO	O
perform  	perform  	 VB	O
an  	an  	 DT	O
increment  	increment  	 NN	O
without  	without  	 IN	O
modifying  	modifying  	 VBG	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
The  	The  	 DT	O
added  	added  	 JJ	O
instrumentation  	instrumentation  	 NN	B-NP
instruction  	instruction  	 NN	I-NP
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
lea 	lea 	 NNS	O
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
;  	;  	 :	O
is  	is  	 VBZ	O
an  	an  	 DT	O
x86  	x86  	 JJ	B-NP
instruction  	instruction  	 NN	I-NP
that  	that  	 WDT	O
computes  	computes  	 VBZ	O
the  	the  	 DT	O
effective  	effective  	 JJ	O
address  	address  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
given  	given  	 VBN	O
addressing  	addressing  	 VBG	B-NP
mode 	mode 	 NN	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
does  	does  	 VBZ	O
not  	not  	 RB	O
modify  	modify  	 VB	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
Accordingly 	Accordingly 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
optimized  	optimized  	 JJ	B-NP
instrumented  	instrumented  	 JJ	I-NP
code  	code  	 NN	I-NP
adds  	adds  	 VBZ	O
three  	three  	 CD	O
instructions  	instructions  	 NNS	B-NP
and  	and  	 CC	O
avoids  	avoids  	 VBZ	O
saving 	saving 	 VBG	O
/ 	/ 	 CD	O
restoring  	restoring  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
While  	While  	 IN	O
shown  	shown  	 VBN	O
with  	with  	 IN	O
the  	the  	 DT	O
use  	use  	 NN	O
of  	of  	 IN	O
this  	this  	 DT	O
particular  	particular  	 JJ	O
instruction  	instruction  	 NN	O
and  	and  	 CC	O
register  	register  	 VB	O
in  	in  	 IN	O
the  	the  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
2 	2 	 CD	O
,  	,  	 ,	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
to  	to  	 TO	O
be  	be  	 VB	O
understood  	understood  	 VBN	O
that  	that  	 IN	O
other  	other  	 JJ	O
instructions  	instructions  	 NNS	B-NP
and  	and  	 CC	O
registers  	registers  	 NNS	O
that  	that  	 WDT	O
do  	do  	 VBP	O
not  	not  	 RB	O
modify  	modify  	 VB	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register  	register  	 NN	I-NP
or  	or  	 CC	O
another  	another  	 DT	O
conditional  	conditional  	 JJ	B-NP
code  	code  	 NN	I-NP
register  	register  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
implemented  	implemented  	 VBN	O
in  	in  	 IN	O
other  	other  	 JJ	O
embodiments 	embodiments 	 NN	O
.  	.  	 .	O
In  	In  	 IN	O
contrast 	contrast 	 NN	O
,  	,  	 ,	O
referring  	referring  	 VBG	O
to  	to  	 TO	O
the  	the  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
block  	block  	 NN	I-NP
on  	on  	 IN	O
the  	the  	 DT	O
left  	left  	 JJ	O
side  	side  	 NN	O
of  	of  	 IN	O
Table  	Table  	 NNP	O
2 	2 	 CD	O
,  	,  	 ,	O
the  	the  	 DT	O
original  	original  	 JJ	B-NP
code  	code  	 NN	I-NP
block  	block  	 NN	I-NP
is  	is  	 VBZ	O
instrumented  	instrumented  	 VBN	O
in  	in  	 IN	O
the  	the  	 DT	O
same  	same  	 JJ	O
manner  	manner  	 NN	O
as  	as  	 IN	O
described  	described  	 VBN	O
above  	above  	 IN	O
regarding  	regarding  	 VBG	B-NP
Table  	Table  	 NNP	I-NP
1 	1 	 CD	O
.  	.  	 .	O
Accordingly 	Accordingly 	 RB	O
,  	,  	 ,	O
expensive  	expensive  	 JJ	B-NP
stack  	stack  	 JJ	I-NP
switches  	switches  	 NNS	I-NP
and  	and  	 CC	O
processor  	processor  	 NN	B-NP
flushes  	flushes  	 NNS	I-NP
occur 	occur 	 VBP	O
.  	.  	 .	O
Referring  	Referring  	 VBG	O
now  	now  	 RB	O
to  	to  	 TO	O
FIG.  	FIG.  	 CD	O
3 	3 	 CD	O
,  	,  	 ,	O
shown  	shown  	 VBN	O
is  	is  	 VBZ	O
a  	a  	 DT	O
flow  	flow  	 NN	B-NP
diagram  	diagram  	 NN	I-NP
of  	of  	 IN	O
a  	a  	 DT	O
method  	method  	 NN	O
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
an  	an  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
As  	As  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
FIG.  	FIG.  	 CD	O
3 	3 	 CD	O
,  	,  	 ,	O
method  	method  	 NN	O
200  	200  	 CD	O
may  	may  	 MD	O
be  	be  	 VB	O
used  	used  	 VBN	O
to  	to  	 TO	O
optimize  	optimize  	 VB	O
placement  	placement  	 NN	O
of  	of  	 IN	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
within  	within  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
block 	block 	 NN	I-NP
.  	.  	 .	O
Method  	Method  	 NN	O
200  	200  	 CD	O
may  	may  	 MD	O
begin  	begin  	 VB	O
by  	by  	 IN	O
receiving  	receiving  	 VBG	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
to  	to  	 TO	O
insert  	insert  	 VB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
( 	( 	 -LRB-	O
block  	block  	 VB	O
210 	210 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
As  	As  	 RB	O
discussed  	discussed  	 VBN	O
above 	above 	 IN	O
,  	,  	 ,	O
such  	such  	 PDT	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
or  	or  	 CC	O
command  	command  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
received  	received  	 VBN	O
from  	from  	 IN	O
a  	a  	 DT	O
tool  	tool  	 NN	B-NP
writer 	writer 	 NN	I-NP
.  	.  	 .	O
Next  	Next  	 IN	B-NP
it  	it  	 PRP	O
may  	may  	 MD	O
be  	be  	 VB	O
determined  	determined  	 VBN	O
if  	if  	 IN	O
the  	the  	 DT	O
instruction  	instruction  	 NN	O
provides  	provides  	 VBZ	O
a  	a  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint  	hint  	 NN	I-NP
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
215 	215 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
As  	As  	 RB	O
discussed  	discussed  	 VBN	O
above 	above 	 IN	O
,  	,  	 ,	O
this  	this  	 DT	O
hint  	hint  	 NN	O
may  	may  	 MD	O
indicate  	indicate  	 VB	O
to  	to  	 TO	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
or  	or  	 CC	O
other  	other  	 JJ	O
instrumentation  	instrumentation  	 NN	B-NP
engine  	engine  	 NN	I-NP
that  	that  	 IN	O
there  	there  	 EX	O
are  	are  	 VBP	O
no  	no  	 DT	O
dependencies  	dependencies  	 NN	B-NP
between  	between  	 IN	O
application  	application  	 NN	B-NP
data  	data  	 NNS	I-NP
and  	and  	 CC	O
instrumentation  	instrumentation  	 NN	O
data 	data 	 NNS	O
.  	.  	 .	O
If  	If  	 IN	O
such  	such  	 PDT	O
a  	a  	 DT	O
hint  	hint  	 NN	O
is  	is  	 VBZ	O
present 	present 	 JJ	O
,  	,  	 ,	O
control  	control  	 NN	O
may  	may  	 MD	O
pass  	pass  	 VB	O
directly  	directly  	 RB	O
to  	to  	 TO	O
block  	block  	 VB	O
225  	225  	 CD	O
where  	where  	 WRB	O
the  	the  	 DT	O
code  	code  	 NN	O
to  	to  	 TO	O
be  	be  	 VB	O
instrumented  	instrumented  	 NN	B-NP
is  	is  	 VBZ	O
analyzed 	analyzed 	 VBN	O
.  	.  	 .	O
For  	For  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
code  	code  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
analyzed  	analyzed  	 VBN	O
to  	to  	 TO	O
determine  	determine  	 VB	O
whether  	whether  	 IN	O
one  	one  	 CD	O
or  	or  	 CC	O
more  	more  	 JJR	O
instructions  	instructions  	 NNS	B-NP
within  	within  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	O
causes  	causes  	 VBZ	O
a  	a  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register  	register  	 NNS	I-NP
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
the  	the  	 DT	O
eflags  	eflags  	 JJ	B-NP
register 	register 	 NN	I-NP
)  	)  	 -RRB-	O
to  	to  	 TO	O
be  	be  	 VB	O
updated  	updated  	 VBN	O
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
modified  	modified  	 VBN	O
or  	or  	 CC	O
overwritten 	overwritten 	 CD	B-NP
) 	) 	 -RRB-	O
.  	.  	 .	O
If  	If  	 IN	O
so 	so 	 RB	O
,  	,  	 ,	O
prior  	prior  	 RB	O
to  	to  	 TO	O
that  	that  	 DT	O
instruction  	instruction  	 NN	O
the  	the  	 DT	O
register  	register  	 NN	O
is  	is  	 VBZ	O
considered  	considered  	 VBN	O
dead 	dead 	 JJ	O
.  	.  	 .	O
Thus  	Thus  	 RB	O
it  	it  	 PRP	O
may  	may  	 MD	O
be  	be  	 VB	O
determined  	determined  	 VBN	O
whether  	whether  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
modifies  	modifies  	 VBZ	O
the  	the  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register  	register  	 NNS	I-NP
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
230 	230 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
If  	If  	 IN	O
so 	so 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
inserted  	inserted  	 VBN	O
immediately  	immediately  	 RB	O
prior  	prior  	 RB	O
to  	to  	 TO	O
that  	that  	 DT	O
instruction  	instruction  	 NN	O
( 	( 	 -LRB-	O
block  	block  	 VB	O
240 	240 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Accordingly 	Accordingly 	 RB	O
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
has  	has  	 VBZ	O
been  	been  	 VBN	O
scheduled  	scheduled  	 VBN	O
to  	to  	 TO	O
an  	an  	 DT	O
optimized  	optimized  	 JJ	B-NP
location  	location  	 NN	I-NP
and  	and  	 CC	O
method  	method  	 NN	O
200  	200  	 CD	O
ends 	ends 	 NNS	O
.  	.  	 .	O
If  	If  	 IN	O
instead  	instead  	 RB	O
at  	at  	 IN	O
diamond  	diamond  	 CD	O
230  	230  	 CD	O
the  	the  	 DT	O
analysis  	analysis  	 NN	O
indicates  	indicates  	 VBZ	O
that  	that  	 IN	O
the  	the  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register  	register  	 NN	I-NP
is  	is  	 VBZ	O
not  	not  	 RB	O
modified 	modified 	 VBN	O
,  	,  	 ,	O
next  	next  	 IN	B-NP
it  	it  	 PRP	O
may  	may  	 MD	O
be  	be  	 VB	O
determined  	determined  	 VBN	O
whether  	whether  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
within  	within  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	O
overwrites  	overwrites  	 VBD	O
a  	a  	 DT	O
general-purpose  	general-purpose  	 JJ	B-NP
register  	register  	 NNS	I-NP
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
250 	250 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
In  	In  	 IN	O
some  	some  	 DT	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
overwriting  	overwriting  	 VBG	O
this  	this  	 DT	O
general-purpose  	general-purpose  	 JJ	B-NP
register  	register  	 NN	I-NP
may  	may  	 MD	O
not  	not  	 RB	O
affect  	affect  	 VB	O
the  	the  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register 	register 	 NN	I-NP
.  	.  	 .	O
If  	If  	 IN	O
such  	such  	 PDT	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
exists 	exists 	 VBZ	O
,  	,  	 ,	O
control  	control  	 NN	O
may  	may  	 MD	O
pass  	pass  	 VB	O
to  	to  	 TO	O
block  	block  	 VB	O
240  	240  	 CD	O
where  	where  	 WRB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
is  	is  	 VBZ	O
inserted  	inserted  	 VBN	O
immediately  	immediately  	 RB	O
prior  	prior  	 RB	O
to  	to  	 TO	O
such  	such  	 JJ	O
instruction  	instruction  	 NN	O
( 	( 	 -LRB-	O
block  	block  	 VB	O
240 	240 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Thus  	Thus  	 RB	O
an  	an  	 DT	O
optimized  	optimized  	 JJ	B-NP
location  	location  	 NN	I-NP
for  	for  	 IN	I-NP
the  	the  	 DT	I-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
realized 	realized 	 VBN	O
,  	,  	 ,	O
and  	and  	 CC	O
method  	method  	 NN	O
200  	200  	 CD	O
concludes 	concludes 	 NNS	O
.  	.  	 .	O
If  	If  	 IN	O
instead  	instead  	 RB	O
at  	at  	 IN	O
diamond  	diamond  	 CD	O
250  	250  	 CD	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
determined  	determined  	 VBN	O
that  	that  	 IN	O
no  	no  	 DT	O
instructions  	instructions  	 NNS	B-NP
overwrite  	overwrite  	 VBP	O
a  	a  	 DT	O
general-purpose  	general-purpose  	 JJ	B-NP
register 	register 	 NN	I-NP
,  	,  	 ,	O
control  	control  	 NN	O
may  	may  	 MD	O
pass  	pass  	 VB	O
to  	to  	 TO	O
diamond  	diamond  	 CD	O
260 	260 	 CD	O
.  	.  	 .	O
There  	There  	 EX	O
it  	it  	 PRP	O
may  	may  	 MD	O
be  	be  	 VB	O
determined  	determined  	 VBN	O
whether  	whether  	 IN	O
any  	any  	 DT	O
instructions  	instructions  	 NNS	B-NP
in  	in  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	O
are  	are  	 VBP	O
no  	no  	 DT	O
operation  	operation  	 NN	O
( 	( 	 -LRB-	O
nop 	nop 	 LS	B-NP
)  	)  	 -RRB-	O
instructions  	instructions  	 NNS	B-NP
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
260 	260 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
If  	If  	 IN	O
one  	one  	 CD	O
or  	or  	 CC	O
more  	more  	 RBR	O
such  	such  	 JJ	O
instructions  	instructions  	 NNS	B-NP
exist 	exist 	 VBP	O
,  	,  	 ,	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
placed  	placed  	 VBN	O
in  	in  	 IN	O
one  	one  	 CD	O
or  	or  	 CC	O
more  	more  	 JJR	O
of  	of  	 IN	O
those  	those  	 DT	O
nops  	nops  	 NN	B-NP
( 	( 	 -LRB-	O
block  	block  	 VB	O
270 	270 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
From  	From  	 IN	O
both  	both  	 DT	O
of  	of  	 IN	O
block  	block  	 NN	O
270  	270  	 CD	O
and  	and  	 CC	O
diamond  	diamond  	 NN	O
260 	260 	 CD	O
,  	,  	 ,	O
the  	the  	 DT	O
method  	method  	 NN	O
may  	may  	 MD	O
conclude 	conclude 	 VB	O
.  	.  	 .	O
Even  	Even  	 RB	O
when  	when  	 WRB	O
a  	a  	 DT	O
user  	user  	 NN	O
does  	does  	 VBZ	O
not  	not  	 RB	O
provide  	provide  	 VB	O
a  	a  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint 	hint 	 NN	I-NP
,  	,  	 ,	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
may  	may  	 MD	O
attempt  	attempt  	 VB	O
to  	to  	 TO	O
schedule  	schedule  	 VB	O
instrumentation  	instrumentation  	 JJ	B-NP
code  	code  	 NN	I-NP
for  	for  	 IN	O
purposes  	purposes  	 NNS	O
of  	of  	 IN	O
optimization 	optimization 	 NN	B-NP
.  	.  	 .	O
Specifically 	Specifically 	 RB	O
,  	,  	 ,	O
if  	if  	 IN	O
at  	at  	 IN	O
diamond  	diamond  	 CD	O
215  	215  	 CD	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
determined  	determined  	 VBN	O
that  	that  	 IN	O
the  	the  	 DT	O
user  	user  	 NN	O
does  	does  	 VBZ	O
not  	not  	 RB	O
provide  	provide  	 VB	O
a  	a  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint 	hint 	 NN	I-NP
,  	,  	 ,	O
next  	next  	 IN	B-NP
it  	it  	 PRP	O
may  	may  	 MD	O
be  	be  	 VB	O
determined  	determined  	 VBN	O
whether  	whether  	 IN	O
a  	a  	 DT	O
data  	data  	 NN	B-NP
independency  	independency  	 NN	I-NP
exists  	exists  	 VBZ	O
in  	in  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	O
to  	to  	 TO	O
be  	be  	 VB	O
instrumented  	instrumented  	 NNS	B-NP
( 	( 	 -LRB-	O
diamond  	diamond  	 CD	O
220 	220 	 CD	O
) 	) 	 -RRB-	O
.  	.  	 .	O
In  	In  	 IN	O
various  	various  	 JJ	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
compiler  	compiler  	 NN	O
may  	may  	 MD	O
analyze  	analyze  	 VB	O
the  	the  	 DT	O
code  	code  	 NN	O
to  	to  	 TO	O
check  	check  	 VB	O
for  	for  	 IN	O
such  	such  	 JJ	O
independencies 	independencies 	 NN	B-NP
.  	.  	 .	O
If  	If  	 IN	O
the  	the  	 DT	O
independency  	independency  	 NN	B-NP
exists 	exists 	 VBZ	O
,  	,  	 ,	O
control  	control  	 NN	O
may  	may  	 MD	O
pass  	pass  	 VB	O
to  	to  	 TO	O
block  	block  	 VB	O
225 	225 	 CD	O
.  	.  	 .	O
In  	In  	 IN	O
contrast 	contrast 	 NN	O
,  	,  	 ,	O
if  	if  	 IN	O
no  	no  	 DT	O
such  	such  	 JJ	O
independency  	independency  	 NN	B-NP
exists 	exists 	 VBZ	O
,  	,  	 ,	O
the  	the  	 DT	O
method  	method  	 NN	O
may  	may  	 MD	O
terminate 	terminate 	 VB	O
.  	.  	 .	O
Embodiments  	Embodiments  	 NNP	O
may  	may  	 MD	O
be  	be  	 VB	O
implemented  	implemented  	 VBN	O
in  	in  	 IN	O
a  	a  	 DT	O
computer  	computer  	 NN	B-NP
program 	program 	 NN	I-NP
.  	.  	 .	O
As  	As  	 IN	O
such 	such 	 JJ	O
,  	,  	 ,	O
these  	these  	 DT	O
embodiments  	embodiments  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
stored  	stored  	 VBN	O
on  	on  	 IN	O
a  	a  	 DT	O
storage  	storage  	 NN	O
or  	or  	 CC	O
signal  	signal  	 NN	B-NP
medium  	medium  	 NN	I-NP
including  	including  	 VBG	I-NP
instructions  	instructions  	 NNS	I-NP
which  	which  	 WDT	O
can  	can  	 MD	O
be  	be  	 VB	O
used  	used  	 VBN	O
to  	to  	 TO	O
program  	program  	 VB	O
a  	a  	 DT	O
system  	system  	 NN	O
to  	to  	 TO	O
perform  	perform  	 VB	O
the  	the  	 DT	O
embodiments 	embodiments 	 NN	O
.  	.  	 .	O
The  	The  	 DT	O
storage  	storage  	 NN	B-NP
medium  	medium  	 NN	I-NP
may  	may  	 MD	O
include 	include 	 VB	O
,  	,  	 ,	O
but  	but  	 CC	O
is  	is  	 VBZ	O
not  	not  	 RB	O
limited  	limited  	 VBN	O
to 	to 	 TO	O
,  	,  	 ,	O
any  	any  	 DT	O
type  	type  	 NN	O
of  	of  	 IN	O
disk  	disk  	 NN	O
including  	including  	 VBG	O
floppy  	floppy  	 JJ	B-NP
disks 	disks 	 NNS	I-NP
,  	,  	 ,	O
optical  	optical  	 JJ	B-NP
disks 	disks 	 NNS	I-NP
,  	,  	 ,	O
compact  	compact  	 JJ	B-NP
disk  	disk  	 NN	I-NP
read-only  	read-only  	 JJ	I-NP
memories  	memories  	 NNS	I-NP
( 	( 	 -LRB-	O
CD-ROMs 	CD-ROMs 	 NNP	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
compact  	compact  	 JJ	B-NP
disk  	disk  	 NN	I-NP
rewritables  	rewritables  	 NNS	I-NP
( 	( 	 -LRB-	O
CD-RWs 	CD-RWs 	 NNP	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
and  	and  	 CC	O
magneto-optical  	magneto-optical  	 JJ	B-NP
disks 	disks 	 NNS	I-NP
,  	,  	 ,	O
semiconductor  	semiconductor  	 NN	B-NP
devices  	devices  	 NNS	I-NP
such  	such  	 JJ	O
as  	as  	 IN	O
read-only  	read-only  	 JJ	B-NP
memories  	memories  	 NNS	I-NP
( 	( 	 -LRB-	O
ROMs 	ROMs 	 NNP	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
random  	random  	 JJ	B-NP
access  	access  	 NN	I-NP
memories  	memories  	 NNS	I-NP
( 	( 	 -LRB-	O
RAMs 	RAMs 	 NNP	B-NP
)  	)  	 -RRB-	O
such  	such  	 JJ	O
as  	as  	 IN	O
dynamic  	dynamic  	 JJ	B-NP
RAMs  	RAMs  	 NN	I-NP
( 	( 	 -LRB-	O
DRAMs 	DRAMs 	 NNS	O
) 	) 	 -RRB-	O
,  	,  	 ,	O
erasable  	erasable  	 JJ	B-NP
programmable  	programmable  	 JJ	I-NP
read-only  	read-only  	 JJ	I-NP
memories  	memories  	 NNS	I-NP
( 	( 	 -LRB-	O
EPROMs 	EPROMs 	 NNP	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
electrically  	electrically  	 RB	B-NP
erasable  	erasable  	 JJ	I-NP
programmable  	programmable  	 JJ	I-NP
read-only  	read-only  	 JJ	I-NP
memories  	memories  	 NNS	I-NP
( 	( 	 -LRB-	O
EEPROMs 	EEPROMs 	 NNP	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
flash  	flash  	 JJ	B-NP
memories 	memories 	 NNS	I-NP
,  	,  	 ,	O
magnetic  	magnetic  	 JJ	O
or  	or  	 CC	O
optical  	optical  	 JJ	B-NP
cards 	cards 	 NNS	I-NP
,  	,  	 ,	O
or  	or  	 CC	O
any  	any  	 DT	O
type  	type  	 NN	O
of  	of  	 IN	O
media  	media  	 NNS	O
suitable  	suitable  	 JJ	O
for  	for  	 IN	O
storing  	storing  	 VBG	O
electronic  	electronic  	 JJ	B-NP
instructions 	instructions 	 NNS	I-NP
.  	.  	 .	O
Similarly 	Similarly 	 RB	O
,  	,  	 ,	O
embodiments  	embodiments  	 NNS	O
may  	may  	 MD	O
be  	be  	 VB	O
implemented  	implemented  	 VBN	O
as  	as  	 IN	O
software  	software  	 NN	O
modules  	modules  	 VBZ	O
executed  	executed  	 VBN	O
by  	by  	 IN	O
a  	a  	 DT	O
programmable  	programmable  	 JJ	O
control  	control  	 NN	B-NP
device 	device 	 NN	I-NP
,  	,  	 ,	O
such  	such  	 JJ	O
as  	as  	 IN	O
a  	a  	 DT	O
computer  	computer  	 NN	B-NP
processor  	processor  	 NN	I-NP
or  	or  	 CC	O
a  	a  	 DT	O
custom  	custom  	 NN	O
designed  	designed  	 VBN	B-NP
state  	state  	 NN	I-NP
machine 	machine 	 NN	I-NP
.  	.  	 .	O
Now  	Now  	 RB	O
referring  	referring  	 VBG	O
to  	to  	 TO	O
FIG.  	FIG.  	 CD	O
4 	4 	 CD	O
,  	,  	 ,	O
in  	in  	 IN	O
one  	one  	 CD	O
embodiment  	embodiment  	 CD	O
a  	a  	 DT	O
computer  	computer  	 NN	B-NP
system  	system  	 NN	I-NP
400  	400  	 CD	O
includes  	includes  	 VBZ	O
a  	a  	 DT	O
processor  	processor  	 NN	O
410 	410 	 CD	O
,  	,  	 ,	O
which  	which  	 WDT	O
may  	may  	 MD	O
include  	include  	 VB	O
a  	a  	 DT	O
general-purpose  	general-purpose  	 JJ	B-NP
or  	or  	 CC	O
special-purpose  	special-purpose  	 JJ	B-NP
processor  	processor  	 NN	I-NP
such  	such  	 JJ	O
as  	as  	 IN	O
a  	a  	 DT	O
microprocessor 	microprocessor 	 NN	O
,  	,  	 ,	O
microcontroller 	microcontroller 	 NN	B-NP
,  	,  	 ,	O
a  	a  	 DT	O
programmable  	programmable  	 JJ	B-NP
gate  	gate  	 NN	I-NP
array  	array  	 NN	I-NP
( 	( 	 -LRB-	O
PGA 	PGA 	 NNP	B-NP
) 	) 	 -RRB-	O
,  	,  	 ,	O
and  	and  	 CC	O
the  	the  	 DT	O
like 	like 	 JJ	O
.  	.  	 .	O
As  	As  	 RB	O
used  	used  	 VBN	O
herein 	herein 	 NN	O
,  	,  	 ,	O
the  	the  	 DT	O
term  	term  	 NN	O
& 	& 	 CC	O
# 	# 	 #	O
x201c 	x201c 	 CD	O
; 	; 	 :	O
computer  	computer  	 NN	B-NP
system 	system 	 NN	I-NP
& 	& 	 CC	O
# 	# 	 #	O
x201d 	x201d 	 CD	O
;  	;  	 :	O
may  	may  	 MD	O
refer  	refer  	 VB	O
to  	to  	 TO	O
any  	any  	 DT	O
type  	type  	 NN	O
of  	of  	 IN	O
processor-based  	processor-based  	 JJ	B-NP
system 	system 	 NN	I-NP
,  	,  	 ,	O
such  	such  	 JJ	O
as  	as  	 IN	O
a  	a  	 DT	O
desktop  	desktop  	 JJ	B-NP
computer 	computer 	 NN	I-NP
,  	,  	 ,	O
a  	a  	 DT	O
server  	server  	 JJ	B-NP
computer 	computer 	 NN	I-NP
,  	,  	 ,	O
a  	a  	 DT	O
laptop  	laptop  	 JJ	O
computer 	computer 	 NN	O
,  	,  	 ,	O
or  	or  	 CC	O
the  	the  	 DT	O
like 	like 	 JJ	O
.  	.  	 .	O
The  	The  	 DT	O
processor  	processor  	 NN	O
410  	410  	 CD	O
may  	may  	 MD	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
over  	over  	 IN	O
a  	a  	 DT	O
host  	host  	 NN	B-NP
bus  	bus  	 NN	I-NP
415  	415  	 CD	O
to  	to  	 TO	O
a  	a  	 DT	O
memory  	memory  	 NN	B-NP
hub  	hub  	 NN	I-NP
430  	430  	 CD	O
in  	in  	 IN	O
one  	one  	 CD	O
embodiment 	embodiment 	 NN	O
,  	,  	 ,	O
which  	which  	 WDT	O
may  	may  	 MD	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
a  	a  	 DT	O
system  	system  	 NN	B-NP
memory  	memory  	 NN	I-NP
420  	420  	 CD	O
( 	( 	 -LRB-	O
e.g. 	e.g. 	 NNP	O
,  	,  	 ,	O
a  	a  	 DT	O
dynamic  	dynamic  	 JJ	B-NP
random  	random  	 JJ	I-NP
access  	access  	 NN	I-NP
memory  	memory  	 NN	I-NP
( 	( 	 -LRB-	O
RAM 	RAM 	 NNP	B-NP
) 	) 	 -RRB-	O
)  	)  	 -RRB-	O
via  	via  	 IN	O
a  	a  	 DT	O
memory  	memory  	 NN	B-NP
bus  	bus  	 NN	I-NP
425 	425 	 CD	O
.  	.  	 .	O
Programs  	Programs  	 NNS	O
such  	such  	 JJ	O
as  	as  	 IN	O
an  	an  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
tool  	tool  	 NN	I-NP
and  	and  	 CC	O
a  	a  	 DT	O
JIT  	JIT  	 NNP	B-NP
compiler  	compiler  	 NN	I-NP
in  	in  	 IN	O
accordance  	accordance  	 NN	O
with  	with  	 IN	O
an  	an  	 DT	O
embodiment  	embodiment  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
stored  	stored  	 VBN	O
in  	in  	 IN	O
system  	system  	 NN	B-NP
memory  	memory  	 NN	I-NP
420  	420  	 CD	O
during  	during  	 IN	O
operation 	operation 	 NN	O
.  	.  	 .	O
The  	The  	 DT	O
memory  	memory  	 NN	B-NP
hub  	hub  	 NN	I-NP
430  	430  	 CD	O
may  	may  	 MD	O
also  	also  	 RB	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
over  	over  	 IN	O
an  	an  	 DT	O
Advanced  	Advanced  	 NNP	B-NP
Graphics  	Graphics  	 NNP	I-NP
Port  	Port  	 NNP	I-NP
( 	( 	 -LRB-	O
AGP 	AGP 	 NNP	B-NP
)  	)  	 -RRB-	O
bus  	bus  	 NN	O
433  	433  	 CD	O
to  	to  	 TO	O
a  	a  	 DT	O
video  	video  	 JJ	B-NP
controller  	controller  	 NN	I-NP
435 	435 	 CD	O
,  	,  	 ,	O
which  	which  	 WDT	O
may  	may  	 MD	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
a  	a  	 DT	O
display  	display  	 NN	O
437 	437 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
AGP  	AGP  	 NNP	B-NP
bus  	bus  	 NN	I-NP
433  	433  	 CD	O
may  	may  	 MD	O
conform  	conform  	 VB	O
to  	to  	 TO	O
the  	the  	 DT	O
Accelerated  	Accelerated  	 NNP	B-NP
Graphics  	Graphics  	 NNP	I-NP
Port  	Port  	 NNP	I-NP
Interface  	Interface  	 NNP	I-NP
Specification 	Specification 	 NNP	I-NP
,  	,  	 ,	O
Revision  	Revision  	 NNP	O
2.0 	2.0 	 NNP	O
,  	,  	 ,	O
published  	published  	 VBN	O
May  	May  	 NNP	O
4 	4 	 CD	O
,  	,  	 ,	O
1998 	1998 	 CD	O
,  	,  	 ,	O
by  	by  	 IN	O
Intel  	Intel  	 NNP	O
Corporation 	Corporation 	 NNP	O
,  	,  	 ,	O
Santa  	Santa  	 NNP	O
Clara 	Clara 	 NNP	O
,  	,  	 ,	O
Calif 	Calif 	 NNP	O
.  	.  	 .	O
The  	The  	 DT	O
memory  	memory  	 NN	B-NP
hub  	hub  	 NN	I-NP
430  	430  	 CD	O
may  	may  	 MD	O
also  	also  	 RB	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
( 	( 	 -LRB-	O
via  	via  	 IN	O
a  	a  	 DT	O
hub  	hub  	 NN	B-NP
link  	link  	 NN	I-NP
438 	438 	 CD	O
)  	)  	 -RRB-	O
to  	to  	 TO	O
an  	an  	 DT	O
input 	input 	 NN	B-NP
/ 	/ 	 CD	I-NP
output  	output  	 NN	I-NP
( 	( 	 -LRB-	O
I 	I 	 NNP	B-NP
/ 	/ 	 NNP	I-NP
O 	O 	 NNP	I-NP
)  	)  	 -RRB-	O
hub  	hub  	 NN	B-NP
440  	440  	 CD	O
that  	that  	 WDT	O
is  	is  	 VBZ	O
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
a  	a  	 DT	O
input 	input 	 NN	B-NP
/ 	/ 	 CD	I-NP
output  	output  	 NN	I-NP
( 	( 	 -LRB-	O
I 	I 	 NNP	B-NP
/ 	/ 	 NNP	I-NP
O 	O 	 NNP	I-NP
)  	)  	 -RRB-	O
expansion  	expansion  	 NN	B-NP
bus  	bus  	 NN	I-NP
442  	442  	 CD	O
and  	and  	 CC	O
a  	a  	 DT	O
Peripheral  	Peripheral  	 NNP	B-NP
Component  	Component  	 NNP	I-NP
Interconnect  	Interconnect  	 NNP	I-NP
( 	( 	 -LRB-	O
PCI 	PCI 	 NNP	B-NP
)  	)  	 -RRB-	O
bus  	bus  	 NN	O
444 	444 	 CD	O
,  	,  	 ,	O
as  	as  	 RB	O
defined  	defined  	 VBN	O
by  	by  	 IN	O
the  	the  	 DT	O
PCI  	PCI  	 NNP	B-NP
Local  	Local  	 NNP	I-NP
Bus  	Bus  	 NNP	I-NP
Specification 	Specification 	 NNP	I-NP
,  	,  	 ,	O
Production  	Production  	 NNP	B-NP
Version 	Version 	 NNP	I-NP
,  	,  	 ,	O
Revision  	Revision  	 NNP	O
2.1  	2.1  	 CD	O
dated  	dated  	 JJ	O
June  	June  	 NNP	O
1995 	1995 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
I 	I 	 NNP	B-NP
/ 	/ 	 NNP	I-NP
O  	O  	 NNP	I-NP
expansion  	expansion  	 NN	I-NP
bus  	bus  	 NN	I-NP
442  	442  	 CD	O
may  	may  	 MD	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
an  	an  	 DT	O
I 	I 	 NNP	B-NP
/ 	/ 	 NNP	I-NP
O  	O  	 NNP	I-NP
controller  	controller  	 VBD	I-NP
446  	446  	 CD	O
that  	that  	 WDT	O
controls  	controls  	 VBZ	O
access  	access  	 NN	O
to  	to  	 TO	O
one  	one  	 CD	O
or  	or  	 CC	O
more  	more  	 JJR	O
I 	I 	 PRP	B-NP
/ 	/ 	 VBZ	I-NP
O  	O  	 NNP	I-NP
devices 	devices 	 NNS	I-NP
.  	.  	 .	O
As  	As  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
FIG.  	FIG.  	 CD	O
4 	4 	 CD	O
,  	,  	 ,	O
these  	these  	 DT	O
devices  	devices  	 NNS	O
may  	may  	 MD	O
include  	include  	 VB	O
in  	in  	 IN	O
one  	one  	 CD	O
embodiment  	embodiment  	 JJ	O
storage  	storage  	 NN	B-NP
devices 	devices 	 NNS	I-NP
,  	,  	 ,	O
such  	such  	 JJ	O
as  	as  	 IN	O
a  	a  	 DT	O
floppy  	floppy  	 JJ	B-NP
disk  	disk  	 NN	I-NP
drive  	drive  	 NN	I-NP
450  	450  	 CD	O
and  	and  	 CC	O
input  	input  	 NN	B-NP
devices 	devices 	 NNS	I-NP
,  	,  	 ,	O
such  	such  	 JJ	O
as  	as  	 IN	O
keyboard  	keyboard  	 CD	O
452  	452  	 CD	O
and  	and  	 CC	O
mouse  	mouse  	 CD	O
454 	454 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
I 	I 	 NNP	B-NP
/ 	/ 	 NNP	I-NP
O  	O  	 NNP	I-NP
hub  	hub  	 VBD	O
440  	440  	 CD	O
may  	may  	 MD	O
also  	also  	 RB	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
to 	to 	 TO	O
,  	,  	 ,	O
for  	for  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
a  	a  	 DT	O
hard  	hard  	 JJ	O
disk  	disk  	 NN	O
drive  	drive  	 NN	O
456  	456  	 CD	O
and  	and  	 CC	O
a  	a  	 DT	O
compact  	compact  	 JJ	O
disc  	disc  	 NN	O
( 	( 	 -LRB-	O
CD 	CD 	 NNP	O
)  	)  	 -RRB-	O
drive  	drive  	 VB	O
458 	458 	 CD	O
,  	,  	 ,	O
as  	as  	 RB	O
shown  	shown  	 VBN	O
in  	in  	 IN	O
FIG.  	FIG.  	 CD	O
4 	4 	 CD	O
.  	.  	 .	O
It  	It  	 PRP	O
is  	is  	 VBZ	O
to  	to  	 TO	O
be  	be  	 VB	O
understood  	understood  	 VBN	O
that  	that  	 IN	O
other  	other  	 JJ	O
storage  	storage  	 NN	B-NP
media  	media  	 NNS	I-NP
may  	may  	 MD	O
also  	also  	 RB	O
be  	be  	 VB	O
included  	included  	 VBN	O
in  	in  	 IN	O
the  	the  	 DT	O
system 	system 	 NN	O
.  	.  	 .	O
The  	The  	 DT	O
PCI  	PCI  	 NNP	B-NP
bus  	bus  	 NN	I-NP
444  	444  	 CD	O
may  	may  	 MD	O
also  	also  	 RB	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
various  	various  	 JJ	O
components  	components  	 NNS	O
including 	including 	 VBG	O
,  	,  	 ,	O
for  	for  	 IN	O
example 	example 	 NN	O
,  	,  	 ,	O
a  	a  	 DT	O
network  	network  	 NN	B-NP
controller  	controller  	 NN	I-NP
460  	460  	 CD	O
that  	that  	 WDT	O
is  	is  	 VBZ	O
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
a  	a  	 DT	O
network  	network  	 NN	B-NP
port  	port  	 NN	I-NP
( 	( 	 -LRB-	O
not  	not  	 RB	O
shown 	shown 	 VBN	O
) 	) 	 -RRB-	O
.  	.  	 .	O
Additional  	Additional  	 JJ	B-NP
devices  	devices  	 NNS	I-NP
may  	may  	 MD	O
be  	be  	 VB	O
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
the  	the  	 DT	O
I 	I 	 NNP	B-NP
/ 	/ 	 NNP	I-NP
O  	O  	 NNP	I-NP
expansion  	expansion  	 NN	I-NP
bus  	bus  	 NN	I-NP
442  	442  	 CD	O
and  	and  	 CC	O
the  	the  	 DT	O
PCI  	PCI  	 NNP	B-NP
bus  	bus  	 NN	I-NP
444 	444 	 CD	O
,  	,  	 ,	O
such  	such  	 JJ	O
as  	as  	 IN	O
an  	an  	 DT	O
input 	input 	 NN	B-NP
/ 	/ 	 CD	I-NP
output  	output  	 NN	I-NP
control  	control  	 NN	I-NP
circuit  	circuit  	 NN	I-NP
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
a  	a  	 DT	O
parallel  	parallel  	 JJ	B-NP
port 	port 	 NN	I-NP
,  	,  	 ,	O
serial  	serial  	 JJ	O
port 	port 	 NN	O
,  	,  	 ,	O
a  	a  	 DT	O
non-volatile  	non-volatile  	 JJ	B-NP
memory 	memory 	 NN	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
the  	the  	 DT	O
like 	like 	 JJ	O
.  	.  	 .	O
Although  	Although  	 IN	O
the  	the  	 DT	O
description  	description  	 NN	O
makes  	makes  	 VBZ	O
reference  	reference  	 VBN	O
to  	to  	 TO	O
specific  	specific  	 JJ	O
components  	components  	 NNS	O
of  	of  	 IN	O
the  	the  	 DT	O
system  	system  	 NN	O
400 	400 	 CD	O
,  	,  	 ,	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
contemplated  	contemplated  	 VBN	O
that  	that  	 IN	O
numerous  	numerous  	 JJ	B-NP
modifications  	modifications  	 NNS	I-NP
and  	and  	 CC	O
variations  	variations  	 NNS	O
of  	of  	 IN	O
the  	the  	 DT	O
described  	described  	 VBN	O
and  	and  	 CC	O
illustrated  	illustrated  	 JJ	O
embodiments  	embodiments  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
possible 	possible 	 JJ	O
.  	.  	 .	O
More  	More  	 RBR	O
so 	so 	 RB	O
,  	,  	 ,	O
while  	while  	 IN	O
FIG.  	FIG.  	 CD	O
4  	4  	 CD	O
shows  	shows  	 NNS	O
a  	a  	 DT	O
block  	block  	 NN	O
diagram  	diagram  	 NN	O
of  	of  	 IN	O
a  	a  	 DT	O
system  	system  	 NN	O
such  	such  	 JJ	O
as  	as  	 IN	O
a  	a  	 DT	O
personal  	personal  	 JJ	B-NP
computer 	computer 	 NN	I-NP
,  	,  	 ,	O
it  	it  	 PRP	O
is  	is  	 VBZ	O
to  	to  	 TO	O
be  	be  	 VB	O
understood  	understood  	 VBN	O
that  	that  	 IN	O
embodiments  	embodiments  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
may  	may  	 MD	O
be  	be  	 VB	O
implemented  	implemented  	 VBN	O
in  	in  	 IN	O
a  	a  	 DT	O
wireless  	wireless  	 JJ	O
device  	device  	 NN	O
such  	such  	 JJ	O
as  	as  	 IN	O
a  	a  	 DT	O
cellular  	cellular  	 JJ	B-NP
phone 	phone 	 NN	I-NP
,  	,  	 ,	O
personal  	personal  	 JJ	B-NP
digital  	digital  	 JJ	I-NP
assistant  	assistant  	 NN	I-NP
( 	( 	 -LRB-	O
PDA 	PDA 	 NNP	B-NP
)  	)  	 -RRB-	O
or  	or  	 CC	O
the  	the  	 DT	O
like 	like 	 JJ	O
.  	.  	 .	O
While  	While  	 IN	O
the  	the  	 DT	O
present  	present  	 JJ	O
invention  	invention  	 NN	O
has  	has  	 VBZ	O
been  	been  	 VBN	O
described  	described  	 VBN	O
with  	with  	 IN	O
respect  	respect  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
limited  	limited  	 JJ	O
number  	number  	 NN	O
of  	of  	 IN	O
embodiments 	embodiments 	 NN	O
,  	,  	 ,	O
those  	those  	 DT	O
skilled  	skilled  	 JJ	O
in  	in  	 IN	O
the  	the  	 DT	O
art  	art  	 NN	O
will  	will  	 MD	O
appreciate  	appreciate  	 VB	O
numerous  	numerous  	 JJ	B-NP
modifications  	modifications  	 NNS	I-NP
and  	and  	 CC	O
variations  	variations  	 JJ	O
therefrom 	therefrom 	 NN	O
.  	.  	 .	O
It  	It  	 PRP	O
is  	is  	 VBZ	O
intended  	intended  	 VBN	O
that  	that  	 IN	O
the  	the  	 DT	O
appended  	appended  	 JJ	O
claims  	claims  	 NNS	O
cover  	cover  	 VBP	O
all  	all  	 DT	O
such  	such  	 JJ	O
modifications  	modifications  	 NNS	B-NP
and  	and  	 CC	O
variations  	variations  	 NNS	O
as  	as  	 IN	O
fall  	fall  	 NN	O
within  	within  	 IN	O
the  	the  	 DT	O
true  	true  	 JJ	O
spirit  	spirit  	 NN	O
and  	and  	 CC	O
scope  	scope  	 NN	O
of  	of  	 IN	O
this  	this  	 DT	O
present  	present  	 JJ	O
invention 	invention 	 NN	O
.  	.  	 .	O
1 	1 	 LS	O
.  	.  	 .	O
A  	A  	 DT	O
method  	method  	 NN	O
comprising 	comprising 	 NNS	O
:  	:  	 :	O
receiving  	receiving  	 VBG	O
a  	a  	 DT	O
command  	command  	 NN	O
to  	to  	 TO	O
insert  	insert  	 VB	O
instrumentation  	instrumentation  	 JJ	B-NP
code  	code  	 NN	I-NP
into  	into  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
segment 	segment 	 NN	I-NP
;  	;  	 :	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
to  	to  	 TO	O
determine  	determine  	 VB	O
an  	an  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
for  	for  	 IN	I-NP
the  	the  	 DT	I-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
within  	within  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment 	segment 	 NN	I-NP
;  	;  	 :	O
and  	and  	 CC	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
at  	at  	 IN	O
the  	the  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
to  	to  	 TO	O
generate  	generate  	 VB	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment.  	segment.  	 CD	I-NP
2 	2 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBZ	O
receiving  	receiving  	 VBG	O
the  	the  	 DT	O
command  	command  	 NN	O
comprises  	comprises  	 VBZ	O
receiving  	receiving  	 VBG	O
an  	an  	 DT	O
indication  	indication  	 NN	O
from  	from  	 IN	O
a  	a  	 DT	O
user  	user  	 NN	O
of  	of  	 IN	O
a  	a  	 DT	O
data  	data  	 NN	B-NP
independency  	independency  	 NN	I-NP
between  	between  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
and  	and  	 CC	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code.  	code.  	 CD	I-NP
3 	3 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBZ	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
comprises  	comprises  	 VBZ	O
determining  	determining  	 VBG	O
if  	if  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
causes  	causes  	 VBZ	O
an  	an  	 DT	O
update  	update  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register.  	register.  	 CD	I-NP
4 	4 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
3 	3 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
immediately  	immediately  	 RB	O
prior  	prior  	 RB	O
to  	to  	 TO	O
the  	the  	 DT	O
instruction.  	instruction.  	 CD	O
5 	5 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBZ	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
comprises  	comprises  	 VBZ	O
determining  	determining  	 VBG	O
if  	if  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
overwrites  	overwrites  	 VBD	O
a  	a  	 DT	O
general-purpose  	general-purpose  	 JJ	B-NP
register.  	register.  	 CD	I-NP
6 	6 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
automatically  	automatically  	 RB	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
without  	without  	 IN	O
receiving  	receiving  	 VBG	O
a  	a  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint  	hint  	 NN	I-NP
from  	from  	 IN	O
a  	a  	 DT	O
user.  	user.  	 CD	O
7 	7 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBZ	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
at  	at  	 IN	O
the  	the  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
prevents  	prevents  	 VBZ	O
movement  	movement  	 NN	O
of  	of  	 IN	O
register  	register  	 JJ	B-NP
data  	data  	 NNS	I-NP
to  	to  	 TO	O
a  	a  	 DT	O
stack.  	stack.  	 CD	O
8 	8 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
using  	using  	 VBG	O
a  	a  	 DT	O
just-in-time  	just-in-time  	 JJ	B-NP
compiler.  	compiler.  	 CD	I-NP
9 	9 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBZ	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
comprises  	comprises  	 VBZ	O
dynamically  	dynamically  	 VBN	O
instrumenting  	instrumenting  	 VBG	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment.  	segment.  	 CD	I-NP
10 	10 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
storing  	storing  	 VBG	O
the  	the  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment  	segment  	 NN	I-NP
in  	in  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
cache  	cache  	 NN	I-NP
and  	and  	 CC	O
executing  	executing  	 VBG	O
the  	the  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment  	segment  	 NN	I-NP
from  	from  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
cache.  	cache.  	 CD	I-NP
11 	11 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
1 	1 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBG	O
the  	the  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
comprises  	comprises  	 VBZ	O
a  	a  	 DT	O
no  	no  	 DT	O
operation  	operation  	 NN	B-NP
instruction  	instruction  	 NN	I-NP
of  	of  	 IN	I-NP
the  	the  	 DT	I-NP
code  	code  	 NN	I-NP
segment.  	segment.  	 CD	I-NP
12 	12 	 CD	O
.  	.  	 .	O
A  	A  	 DT	O
method  	method  	 NN	O
comprising 	comprising 	 NNS	O
:  	:  	 :	O
receiving  	receiving  	 VBG	O
a  	a  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint  	hint  	 NN	I-NP
from  	from  	 IN	O
a  	a  	 DT	O
user  	user  	 NN	B-NP
corresponding  	corresponding  	 NN	I-NP
to  	to  	 TO	O
a  	a  	 DT	O
relation  	relation  	 NN	O
between  	between  	 IN	O
application  	application  	 NN	B-NP
data  	data  	 NNS	I-NP
of  	of  	 IN	O
an  	an  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
and  	and  	 CC	O
instrumentation  	instrumentation  	 NN	O
data  	data  	 NNS	O
of  	of  	 IN	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
;  	;  	 :	O
scheduling  	scheduling  	 VBG	O
a  	a  	 DT	O
position  	position  	 NN	O
within  	within  	 IN	O
the  	the  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
for  	for  	 IN	I-NP
the  	the  	 DT	I-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
based  	based  	 VBN	O
on  	on  	 IN	O
the  	the  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint 	hint 	 NN	I-NP
;  	;  	 :	O
and  	and  	 CC	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
at  	at  	 IN	O
the  	the  	 DT	O
scheduled  	scheduled  	 VBN	B-NP
position.  	position.  	 CD	I-NP
13 	13 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
12 	12 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
to  	to  	 TO	O
determine  	determine  	 VB	O
if  	if  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
causes  	causes  	 VBZ	O
an  	an  	 DT	O
update  	update  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register.  	register.  	 CD	I-NP
14 	14 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
13 	13 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBZ	O
scheduling  	scheduling  	 VBG	O
the  	the  	 DT	O
position  	position  	 NN	O
comprises  	comprises  	 VBZ	O
selecting  	selecting  	 VBG	O
a  	a  	 DT	O
location  	location  	 NN	O
immediately  	immediately  	 RB	O
prior  	prior  	 RB	O
to  	to  	 TO	O
the  	the  	 DT	O
instruction  	instruction  	 NN	O
for  	for  	 IN	O
inserting  	inserting  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code.  	code.  	 CD	I-NP
15 	15 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
method  	method  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
12 	12 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
analyzing  	analyzing  	 VBG	O
the  	the  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
to  	to  	 TO	O
determine  	determine  	 VB	O
if  	if  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
overwrites  	overwrites  	 VBD	O
a  	a  	 DT	O
general-purpose  	general-purpose  	 JJ	B-NP
register.  	register.  	 CD	I-NP
16 	16 	 CD	O
.  	.  	 .	O
An  	An  	 DT	O
article  	article  	 NN	O
comprising  	comprising  	 VBG	O
a  	a  	 DT	O
machine-accessible  	machine-accessible  	 JJ	B-NP
medium  	medium  	 NN	I-NP
having  	having  	 VBG	I-NP
instructions  	instructions  	 NNS	I-NP
that  	that  	 IN	O
when  	when  	 WRB	O
executed  	executed  	 RB	O
cause  	cause  	 VB	O
a  	a  	 DT	O
system  	system  	 NN	O
to 	to 	 TO	O
:  	:  	 :	O
receive  	receive  	 VB	O
a  	a  	 DT	O
command  	command  	 NN	O
to  	to  	 TO	O
insert  	insert  	 VB	O
instrumentation  	instrumentation  	 JJ	B-NP
code  	code  	 NN	I-NP
into  	into  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
segment 	segment 	 NN	I-NP
;  	;  	 :	O
analyze  	analyze  	 VB	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
to  	to  	 TO	O
determine  	determine  	 VB	O
an  	an  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
for  	for  	 IN	I-NP
the  	the  	 DT	I-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
within  	within  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment 	segment 	 NN	I-NP
;  	;  	 :	O
and  	and  	 CC	O
insert  	insert  	 VB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
at  	at  	 IN	O
the  	the  	 DT	O
optimal  	optimal  	 JJ	B-NP
location  	location  	 NN	I-NP
to  	to  	 TO	O
generate  	generate  	 VB	O
an  	an  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment.  	segment.  	 CD	I-NP
17 	17 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
article  	article  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
16 	16 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	B-NP
instructions  	instructions  	 NNS	I-NP
that  	that  	 IN	O
when  	when  	 WRB	O
executed  	executed  	 RB	O
cause  	cause  	 VB	O
the  	the  	 DT	O
system  	system  	 NN	O
to  	to  	 TO	O
receive  	receive  	 VB	O
an  	an  	 DT	O
indication  	indication  	 NN	O
from  	from  	 IN	O
a  	a  	 DT	O
user  	user  	 NN	O
of  	of  	 IN	O
a  	a  	 DT	O
data  	data  	 NN	B-NP
independency  	independency  	 NN	I-NP
between  	between  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
and  	and  	 CC	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code.  	code.  	 CD	I-NP
18 	18 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
article  	article  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
16 	16 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	B-NP
instructions  	instructions  	 NNS	I-NP
that  	that  	 IN	O
when  	when  	 WRB	O
executed  	executed  	 RB	O
cause  	cause  	 VB	O
the  	the  	 DT	O
system  	system  	 NN	O
to  	to  	 TO	O
determine  	determine  	 VB	O
if  	if  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
of  	of  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment  	segment  	 NN	I-NP
causes  	causes  	 VBZ	O
an  	an  	 DT	O
update  	update  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register.  	register.  	 CD	I-NP
19 	19 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
article  	article  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
16 	16 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	B-NP
instructions  	instructions  	 NNS	I-NP
that  	that  	 IN	O
when  	when  	 WRB	O
executed  	executed  	 RB	O
cause  	cause  	 VB	O
the  	the  	 DT	O
system  	system  	 NN	O
to  	to  	 TO	O
dynamically  	dynamically  	 VB	O
instrument  	instrument  	 VBN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
segment.  	segment.  	 CD	I-NP
20 	20 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
article  	article  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
16 	16 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	B-NP
instructions  	instructions  	 NNS	I-NP
that  	that  	 IN	O
when  	when  	 WRB	O
executed  	executed  	 RB	O
cause  	cause  	 VB	O
the  	the  	 DT	O
system  	system  	 NN	O
to  	to  	 TO	O
store  	store  	 VB	O
the  	the  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment  	segment  	 NN	I-NP
in  	in  	 IN	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
cache  	cache  	 NN	I-NP
and  	and  	 CC	O
execute  	execute  	 VB	O
the  	the  	 DT	O
instrumented  	instrumented  	 JJ	B-NP
code  	code  	 NN	I-NP
segment  	segment  	 NN	I-NP
from  	from  	 IN	O
the  	the  	 DT	O
code  	code  	 NN	B-NP
cache.  	cache.  	 CD	I-NP
21 	21 	 CD	O
.  	.  	 .	O
A  	A  	 DT	O
system  	system  	 NN	O
comprising 	comprising 	 NNS	O
:  	:  	 :	O
a  	a  	 DT	O
storage  	storage  	 NN	O
including  	including  	 VBG	B-NP
instructions  	instructions  	 NNS	I-NP
that  	that  	 IN	O
when  	when  	 WRB	O
executed  	executed  	 RB	O
cause  	cause  	 VB	O
the  	the  	 DT	O
system  	system  	 NN	O
to  	to  	 TO	O
receive  	receive  	 VB	O
a  	a  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint  	hint  	 NN	I-NP
from  	from  	 IN	O
a  	a  	 DT	O
user  	user  	 NN	B-NP
corresponding  	corresponding  	 NN	I-NP
to  	to  	 TO	O
a  	a  	 DT	O
relation  	relation  	 NN	O
between  	between  	 IN	O
application  	application  	 NN	B-NP
data  	data  	 NNS	I-NP
of  	of  	 IN	O
an  	an  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
and  	and  	 CC	O
instrumentation  	instrumentation  	 NN	O
data  	data  	 NNS	O
of  	of  	 IN	O
instrumentation  	instrumentation  	 NN	B-NP
code 	code 	 NN	I-NP
,  	,  	 ,	O
schedule  	schedule  	 VB	O
a  	a  	 DT	O
position  	position  	 NN	O
within  	within  	 IN	O
the  	the  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
for  	for  	 IN	I-NP
the  	the  	 DT	I-NP
instrumentation  	instrumentation  	 NN	I-NP
code  	code  	 NN	I-NP
based  	based  	 VBN	O
on  	on  	 IN	O
the  	the  	 DT	O
data  	data  	 NNS	O
independency  	independency  	 JJ	B-NP
hint 	hint 	 NN	I-NP
,  	,  	 ,	O
and  	and  	 CC	O
insert  	insert  	 VB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
at  	at  	 IN	O
the  	the  	 DT	O
scheduled  	scheduled  	 JJ	O
position 	position 	 NN	O
;  	;  	 :	O
and  	and  	 CC	O
a  	a  	 DT	O
dynamic  	dynamic  	 JJ	B-NP
random  	random  	 JJ	I-NP
access  	access  	 NN	I-NP
memory  	memory  	 NN	I-NP
coupled  	coupled  	 VBN	O
to  	to  	 TO	O
the  	the  	 DT	O
storage.  	storage.  	 CD	O
22 	22 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
system  	system  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
21 	21 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
a  	a  	 DT	O
just-in-time  	just-in-time  	 JJ	B-NP
compiler  	compiler  	 NN	I-NP
to  	to  	 TO	O
compile  	compile  	 VB	O
the  	the  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
and  	and  	 CC	O
to  	to  	 TO	O
insert  	insert  	 VB	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code  	code  	 NN	I-NP
therein.  	therein.  	 CD	O
23 	23 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
system  	system  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
22 	22 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
a  	a  	 DT	O
code  	code  	 NN	B-NP
cache  	cache  	 NN	I-NP
to  	to  	 TO	O
store  	store  	 VB	O
the  	the  	 DT	O
compiled  	compiled  	 JJ	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
including  	including  	 VBG	O
the  	the  	 DT	O
instrumentation  	instrumentation  	 NN	B-NP
code.  	code.  	 CD	I-NP
24 	24 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
system  	system  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
21 	21 	 CD	O
,  	,  	 ,	O
wherein  	wherein  	 VBG	O
the  	the  	 DT	O
storage  	storage  	 NN	O
further  	further  	 RB	O
includes  	includes  	 VBZ	O
instructions  	instructions  	 NNS	B-NP
that  	that  	 IN	O
when  	when  	 WRB	O
executed  	executed  	 RB	O
cause  	cause  	 VB	O
the  	the  	 DT	O
system  	system  	 NN	O
to  	to  	 TO	O
analyze  	analyze  	 VB	O
the  	the  	 DT	O
application  	application  	 NN	B-NP
program  	program  	 NN	I-NP
to  	to  	 TO	O
determine  	determine  	 VB	O
if  	if  	 IN	O
an  	an  	 DT	O
instruction  	instruction  	 NN	O
causes  	causes  	 VBZ	O
an  	an  	 DT	O
update  	update  	 NN	O
to  	to  	 TO	O
a  	a  	 DT	O
condition  	condition  	 NN	B-NP
code  	code  	 NN	I-NP
register.  	register.  	 CD	I-NP
25 	25 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
system  	system  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
23 	23 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
a  	a  	 DT	O
dispatcher  	dispatcher  	 NN	B-NP
to  	to  	 TO	O
launch  	launch  	 VB	O
the  	the  	 DT	O
compiled  	compiled  	 JJ	O
application  	application  	 NN	B-NP
program.  	program.  	 CD	I-NP
26 	26 	 CD	O
.  	.  	 .	O
The  	The  	 DT	O
system  	system  	 NN	O
of  	of  	 IN	O
claim  	claim  	 NN	O
22 	22 	 CD	O
,  	,  	 ,	O
further  	further  	 RB	O
comprising  	comprising  	 VBG	O
a  	a  	 DT	O
virtual  	virtual  	 JJ	B-NP
machine  	machine  	 NN	I-NP
including  	including  	 VBG	O
the  	the  	 DT	O
just-in-time  	just-in-time  	 JJ	B-NP
compiler 	compiler 	 NN	I-NP
,  	,  	 ,	O
an  	an  	 DT	O
emulation  	emulation  	 JJ	B-NP
unit  	unit  	 NN	I-NP
and  	and  	 CC	O
a  	a  	 DT	O
dispatcher 	dispatcher 	 NN	B-NP
.  	.  	 .	O
